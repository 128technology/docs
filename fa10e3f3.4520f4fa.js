(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{224:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return i})),t.d(n,"metadata",(function(){return c})),t.d(n,"rightToc",(function(){return s})),t.d(n,"default",(function(){return l}));var o=t(1),a=t(11),r=(t(0),t(230)),i={title:"Conductor Deployment Patterns",sidebar_label:"Conductor Deployment"},c={id:"bcp_conductor_deployment",title:"Conductor Deployment Patterns",description:"The 128T conductor is the centralized orchestration platform within a 128T Authority, and maintains many persistent connections to each router and its constituent nodes. This document discusses the various  options for deploying the 128T conductor, discussing the relative strengths and drawbacks of each.",source:"@site/docs/bcp_conductor_deployment.md",permalink:"/docs/bcp_conductor_deployment",lastUpdatedAt:1585862492,sidebar_label:"Conductor Deployment",sidebar:"docs",previous:{title:"Events",permalink:"/docs/events_events"},next:{title:"LTE Peering",permalink:"/docs/bcp_lte_peering"}},s=[{value:"About this Guide",id:"about-this-guide",children:[{value:"Terminology",id:"terminology",children:[]}]},{value:"Universal Considerations",id:"universal-considerations",children:[{value:"Platform Requirements",id:"platform-requirements",children:[]},{value:"POD Design",id:"pod-design",children:[]},{value:"Tuning your System",id:"tuning-your-system",children:[]}]},{value:"Design Patterns",id:"design-patterns",children:[{value:"Public Conductor",id:"public-conductor",children:[]},{value:"Public Conductor Behind NAT",id:"public-conductor-behind-nat",children:[]},{value:"Conductor Behind 128T",id:"conductor-behind-128t",children:[]}]},{value:"Conductor Redundancy",id:"conductor-redundancy",children:[{value:"Geographic Redundancy",id:"geographic-redundancy",children:[]}]},{value:"Conductor Access (Router Design)",id:"conductor-access-router-design",children:[{value:"Jekyll/Hyde Access",id:"jekyllhyde-access",children:[]}]},{value:"Appendix A: Public Conductor",id:"appendix-a-public-conductor",children:[]},{value:"Notes on the Configuration",id:"notes-on-the-configuration",children:[]},{value:"Appendix B: Conductor behind 128T",id:"appendix-b-conductor-behind-128t",children:[]},{value:"Notes on the Configuration",id:"notes-on-the-configuration-1",children:[]}],d={rightToc:s};function l(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(r.b)("wrapper",Object(o.a)({},d,t,{components:n,mdxType:"MDXLayout"}),Object(r.b)("p",null,"The 128T conductor is the centralized orchestration platform within a 128T Authority, and maintains many persistent connections to each router and its constituent nodes. This document discusses the various  options for deploying the 128T conductor, discussing the relative strengths and drawbacks of each."),Object(r.b)("p",null,"All of the design patterns contained within this document are supported configurations; however, certain designs are discouraged due to their complexity, the number of limitations it imposes on your network design, the functional caveats it imposes, etc. These will be explicitly noted within each section accordingly."),Object(r.b)("p",null,"For each topic, we will discuss items such as:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Any resource requirements (e.g., public internet addresses)"),Object(r.b)("li",{parentName:"ul"},"All corresponding 128T or Linux OS configuration requirements"),Object(r.b)("li",{parentName:"ul"},"When the design pattern is encouraged or discouraged"),Object(r.b)("li",{parentName:"ul"},"The design pattern's flexibility and scale")),Object(r.b)("h2",{id:"about-this-guide"},"About this Guide"),Object(r.b)("p",null,"This guide is intended to be referenced by network architects during the Design phase of a planned deployment, to assist with:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Selecting the most appropriate platform for the conductor"),Object(r.b)("li",{parentName:"ul"},"Preparing the base platform and underlying operating system for optimal conductor performance"),Object(r.b)("li",{parentName:"ul"},"Choosing the most suitable design pattern for the deployment")),Object(r.b)("h3",{id:"terminology"},"Terminology"),Object(r.b)("h4",{id:"conductor-host-services"},"Conductor Host Services"),Object(r.b)("p",null,Object(r.b)("em",{parentName:"p"},"Conductor Host Services")," refers to the built-in feature within the 128T software that will generate configuration to simplify the connectivity between routers and their conductor(s). By configuring the ",Object(r.b)("inlineCode",{parentName:"p"},"conductor-address")," field within the 128T's data model, and by indicating which interface(s) on a manged router should be used to connect to conductor, the conductor will automatically generate the supporting configuration infrastructure. This includes:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"The ",Object(r.b)("inlineCode",{parentName:"li"},"_conductor_")," service (which will have a trailing sequence number; e.g., ",Object(r.b)("inlineCode",{parentName:"li"},"_conductor_1"),")"),Object(r.b)("li",{parentName:"ul"},"A ",Object(r.b)("inlineCode",{parentName:"li"},"service-route")," for each ",Object(r.b)("inlineCode",{parentName:"li"},"network-interface")," on each router that has ",Object(r.b)("inlineCode",{parentName:"li"},"conductor")," set to ",Object(r.b)("inlineCode",{parentName:"li"},"true"))),Object(r.b)("p",null,"The Conductor Host Services feature forms the basis for the majority of the conductor design patterns described in this document, and should be leveraged whenever possible."),Object(r.b)("h4",{id:"in-band-management"},"In-Band Management"),Object(r.b)("p",null,"The term ",Object(r.b)("em",{parentName:"p"},"in-band management"),' in the context of conductor connectivity refers to the use of a forwarding interface by a router node for reaching the conductor. I.e., there is no dedicated interface specifically for the conductor to "manage" the node. As most 128T deployments separate the remote sites from the conductor over a WAN, it is exceedingly common to leverage in-band management between a remote node and a conductor. For SDWAN deployments, in-band management is ',Object(r.b)("em",{parentName:"p"},"strongly recommended"),", for the branch locations. For head end systems that are colocated with the conductors, out-of-band management is preferable, assuming there are sufficent free interfaces on the chosen head end hardware platform."),Object(r.b)("h4",{id:"out-of-band-management"},"Out-of-Band Management"),Object(r.b)("p",null,"Routing nodes are said to leverage ",Object(r.b)("em",{parentName:"p"},"out-of-band management")," when they have a dedicated interface for the traffic to reach the conductor. Out-of-band management is generally only feasible when a conductor is colocated with the routing nodes, as is typically the case only at a head end data center."),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("div",Object(o.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(o.a)({parentName:"div"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(o.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(r.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"It is possible to have a dedicated out-of-band management interface on branch locations, but this connection will almost certainly ultimately ride over the same device's WAN connection to the conductor. I.e., the management traffic will egress one interface on the device and be sent back to another interface on the same device. As such, the in-band management model is more suitable, as it avoids unnecessary hops."))),Object(r.b)("h2",{id:"universal-considerations"},"Universal Considerations"),Object(r.b)("p",null,"This section contains information pertinent to all conductor deployments."),Object(r.b)("h3",{id:"platform-requirements"},"Platform Requirements"),Object(r.b)("p",null,"It is important from the outset to choose a platform (physical or virtual) that is suitable for the demands of managing an array of 128T routers. As the deployment scales, so too do the demands on the conductor. In general, the two primary concerns are CPU and memory. The speed of a conductor's CPU (moreso than the quantity of CPU cores) will have the most impact on its performance as deployments scale up. The amount of memory will have an impact on the responsiveness of the conductor's administrative interfaces as the deployments scale up."),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("div",Object(o.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(o.a)({parentName:"div"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(o.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(r.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"The 128T conductor will run effectively on a virtual machine in both private and public cloud infrastructure. From a physical vs. virtual standpoint, there is no difference in the CPU and memory requirements, and thus the decision ultimately comes down to architectural preference and cost."))),Object(r.b)("p",null,'Running a small lab network or pilot deployment on a modestly sized conductor is acceptable, but be advised that migrating routers from a "temporary" or "POC" conductor to a production conductor may incur downtime during the transition. It is best to procure and deploy suitable hardware up front.'),Object(r.b)("p",null,"128 Technology provides a ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://community.128technology.com/viewdocument/128t-conductor-sizing-spreadsheet?CommunityKey=db47b751-299b-4fb9-8859-a7bf877ed8d8&tab=librarydocuments"}),"sizing tool")," on our community site to give guidance on CPU, memory, and disk requirements for bare metal and cloud conductor deployments."),Object(r.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(r.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("div",Object(o.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(o.a)({parentName:"div"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(r.b)("path",Object(o.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"Key Decision")),Object(r.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"Size your conductor for the size you anticipate your network to grow to, or the number of nodes your administrative policy caps for a single configuration platform. For deployments in excess of 2,000 managed nodes (remembering that a highly available router counts twice), see the section on POD design below."))),Object(r.b)("h3",{id:"pod-design"},"POD Design"),Object(r.b)("p",null,"The conductor is the single point of configuration for an array of managed routers; as such, its configuration can grow to be quite large. As the configuration grows larger, the processing time for new configuration moves, adds, and changes grows accordingly. 128 Technology recommends that network deployments be sized to a ratio of 2,000 assets per conductor (where an asset is a single instance of 128T software). I.e., either 1,000 highly available routers comprised of two nodes each, 2,000 standalone nodes, or any combination thereof."),Object(r.b)("p",null,"For large scale deployments in excess of 2,000 assets, the conventional approach is to subdivide the network into PODs \u2013 independently managed networks. Each POD, or set of managed assets, is independently managed."),Object(r.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(r.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("div",Object(o.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(o.a)({parentName:"div"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(r.b)("path",Object(o.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"Key Decision")),Object(r.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"POD design can have impacts on staging and provisioning workflows (for example, identifying during software installation which conductor a router should be homed to), it is recommended to plan for multi-POD deployments at the outset of the program, and not to wait until your deployment is approaching 2,000 nodes."))),Object(r.b)("h3",{id:"tuning-your-system"},"Tuning your System"),Object(r.b)("p",null,"128 Technology recommends various platform and operating system settings to ensure the optimal performance of your 128T conductor."),Object(r.b)("h4",{id:"platform-tuning"},"Platform Tuning"),Object(r.b)("p",null,"128 Technology recommends enabling hyperthreading for systems operating as conductors, as it may improve performance."),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("div",Object(o.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(o.a)({parentName:"div"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(o.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(r.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"Because 128 Technology ",Object(r.b)("em",{parentName:"p"},"does not")," recommend hyperthreading for nodes running 128T software as a router, please be aware when repurposing a host from conductor to router that hyperthreading should be disabled."))),Object(r.b)("h4",{id:"linux-os-tuning"},"Linux OS Tuning"),Object(r.b)("p",null,"This section is specifically geared toward end users that want to build their own conductor nodes on top of a base CentOS operating system. For users that install their conductor software using a 128 Technology-provided ISO, these settings will be set already."),Object(r.b)("h5",{id:"configuring-firewalld"},"Configuring firewalld"),Object(r.b)("p",null,"When deploying conductor on the internet, 128 Technology recommends limiting access to the system using ",Object(r.b)("em",{parentName:"p"},"firewalld"),". (The ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://firewalld.org/"}),Object(r.b)("em",{parentName:"a"},"firewalld")," system daemon")," is a managed firewall application within Linux.) The basic premise is to restrict inbound access to the public-facing addresses to only allow ports 4505/TCP, 4506/TCP, and 930/TCP. This is generally done by:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Creating a specific firewalld ",Object(r.b)("strong",{parentName:"li"},"zone"),"; e.g., ",Object(r.b)("inlineCode",{parentName:"li"},"conductor")),Object(r.b)("li",{parentName:"ol"},"Creating a firewalld ",Object(r.b)("strong",{parentName:"li"},"service")," for the conductor's salt master, containing TCP ports 4505, 4506; e.g., ",Object(r.b)("inlineCode",{parentName:"li"},"salt-master")),Object(r.b)("li",{parentName:"ol"},"Creating a firewalld ",Object(r.b)("strong",{parentName:"li"},"service")," for the conductor's NETCONF connection, containing TCP port 930; e.g., ",Object(r.b)("inlineCode",{parentName:"li"},"netconf")),Object(r.b)("li",{parentName:"ol"},'Adding the "salt-master" and "netconf" services to the ',Object(r.b)("inlineCode",{parentName:"li"},"conductor")," zone"),Object(r.b)("li",{parentName:"ol"},"Set the public address to be in the ",Object(r.b)("inlineCode",{parentName:"li"},"conductor")," zone")),Object(r.b)("p",null,"128 Technology has developed some salt states to assist with these common configuration steps. Refer to our ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://github.com/128technology/salt-states/blob/master/setup-firewalld-t128-zone.sls"}),"public Github repo")," for some samples you can use to tune your system accordingly."),Object(r.b)("h2",{id:"design-patterns"},"Design Patterns"),Object(r.b)("p",null,"This section enumerates the supported topologies for the 128T conductor. Straying from one of these  designs may be possible, but should be avoided unless absolutely necessary."),Object(r.b)("h3",{id:"public-conductor"},"Public Conductor"),Object(r.b)("p",null,"The most conventional deployment model is where the conductor is reachable on a public IPv4 address, and all managed nodes have direct access to it via one or more WAN connections. This is the simplest of all deployment schemes, as it allows you to leverage the global ",Object(r.b)("inlineCode",{parentName:"p"},"conductor-address")," fields within the 128T data model to unambiguously define the conductor targets across the entire population of router nodes."),Object(r.b)("p",null,"This design pattern is suitable for both public cloud deployments of the 128T conductor, as well as private cloud deployments where the 128T conductor co-resides alongside other 128T routers in a data center. "),Object(r.b)("p",null,"This deployment model is recommended when possible."),Object(r.b)("p",null,"Configuration required:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{}),"config auth conductor-address [public address of conductor]\nconfig auth router r1 node n1 device-interface WAN network-interface WAN0 conductor true\n")),Object(r.b)("p",null,"A sample configuration is provided in ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"#appendix-a-public-conductor"}),"Appendix A"),"."),Object(r.b)("h3",{id:"public-conductor-behind-nat"},"Public Conductor Behind NAT"),Object(r.b)("p",null,'Another common model is a deployment where the conductor is behind a static NAT/firewall, which is forwarding to a private address assigned to the conductor. When placing the conductor behind a static NAT/firewall (effectively giving it a public IP address), be mindful of whether the NAT/firewall supports "hairpinning." (Hairpinning is when a device sends packets to the public IP address of a NAT that it sits behind.) This is because a conductor\'s salt-minion will connect to its own salt master, and will attempt to do so at the same IP address that all external minions connect to. If the NAT does not support hairpinning, then follow the steps outlined below in the section on ',Object(r.b)("em",{parentName:"p"},"Split Horizon Conductor"),"."),Object(r.b)("h4",{id:"port-forwarding"},"Port Forwarding"),Object(r.b)("p",null,"When deploying a conductor behind a firewall, open 930/TCP (used for NETCONF) and 4505-4506/TCP (used for salt) to allow a conductor to communicate to managed routers. Open 443/TCP for the web UI, and 22/TCP for remote SSH."),Object(r.b)("p",null,"Because there is little difference from each deployed router's perspective between this and the previous design pattern, the configuration provided in ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"#appendix-a-public-conductor"}),"Appendix A")," is representative of this design as well. All NAT awareness exists outside of the 128T's configuration."),Object(r.b)("h3",{id:"conductor-behind-128t"},"Conductor Behind 128T"),Object(r.b)("p",null,"Oftentimes a conductor is hosted within a data center that has a 128T head end router at its edge. In these topologies, the design is a hybrid of the previous two (conductor behind NAT, split horizon conductor). From the remote routers' perspective (i.e., the branch locations not resident at this data center and other data center routers), the conductor is only reachable through the head end 128T router. That same 128T head end router will typically communicate with conductor using a private address."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"The head end fronting the conductor must perform NAT/NAPT to forward 4505/TCP, 4506/TCP, and 930/TCP to the conductor on the data center LAN. The authority-wide ",Object(r.b)("inlineCode",{parentName:"li"},"conductor-address")," is an IP address that is resolved/routed to that head end router."),Object(r.b)("li",{parentName:"ul"},"The head end router overrides the ",Object(r.b)("inlineCode",{parentName:"li"},"conductor-address")," with specific configuration to reference the local address."),Object(r.b)("li",{parentName:"ul"},"The head end router uses ",Object(r.b)("inlineCode",{parentName:"li"},"management-config-generated")," set to ",Object(r.b)("inlineCode",{parentName:"li"},"proxy")," requests received on its WAN interface (from remote branch sites) to the internal conductor's address.")),Object(r.b)("p",null,"####Remote Routers: to SVR or not to SVR?\nWhen deploying your conductor behind another 128T at a data center, it opens the possibility of using Secure Vector Routing to reach the conductor using peer paths between a branch and the data center. However, 128 Technology ",Object(r.b)("em",{parentName:"p"},"does not recommend")," using SVR between systems for several reasons:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"It exacerbates the Jekyll/Hyde problem (described below), by virtue of being both at the branch and the data center"),Object(r.b)("li",{parentName:"ol"},"Certain upgrade workflows or maintenance activities will cause remote sites to toggle between SVR and natural routing, which is suboptimal")),Object(r.b)("p",null,"A sample configuration is provided in ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"#appendix-b-conductor-behind-128t"}),"Appendix B"),"."),Object(r.b)("h2",{id:"conductor-redundancy"},"Conductor Redundancy"),Object(r.b)("p",null,"Most production deployments include redundant conductor nodes. When deployed as a highly available pair, conductor nodes are always run as ",Object(r.b)("em",{parentName:"p"},"active/active"),", with all managed routers connecting to both. Unlike highly available routers, there is no notion of interface takeover with conductors; each conductor node is given a unique IP address reachable by all devices at all times. The two conductors that comprise a highly available pair will communicate with one another to synchronize state, such that it does not matter which conductor an administrator logs into to view metrics, alarms, etc."),Object(r.b)("p",null,"The two conductor nodes must therefore have IP reachability to one another. For conductor nodes that are physically adjacent to one another, a direct cable between them is the most common deployment style. When separating conductor nodes over any distance, ensure they have a route to reach one another that will not interfere with the connectivity to the nodes they manage."),Object(r.b)("h3",{id:"geographic-redundancy"},"Geographic Redundancy"),Object(r.b)("p",null,"Highly available conductors run as active/active, and have ongoing needs for state synchronization between one another. For this reason, 128 Technology requires that the network between geographically separated conductors have ",Object(r.b)("em",{parentName:"p"},"latency of no more than 100ms"),", and ",Object(r.b)("em",{parentName:"p"},"packet loss no greater than 1%"),"."),Object(r.b)("h2",{id:"conductor-access-router-design"},"Conductor Access (Router Design)"),Object(r.b)("h3",{id:"jekyllhyde-access"},"Jekyll/Hyde Access"),Object(r.b)("p",null,'A critical design consideration when configuring 128T routers to talk to the conductor is referred to as the "Jekyll/Hyde" problem: the system daemons that require connectivity to the 128T conductor must have persistent access whether the 128T router application is running or not. As starting the 128T application will typically have an (intentional) impact on that host platform\'s routing behavior, administrators must be aware of two distinct behaviors: the routing configuration in Linux while 128T is stopped ("Dr. Jekyll"), and the routing configuration in Linux while 128T is running ("Mr. Hyde"). Fortunately, the 128T software has facilities to create most, if not all of the requisite configuration.'),Object(r.b)("p",null,"When using ",Object(r.b)("em",{parentName:"p"},"Conductor Host Services")," to create your configuration for a router to reach the conductor, the 128T configuration generator will create all of the necessary infrastructure (within both 128T as well as the host platform) to connect to the conductor on the interfaces you've specified. It does so by creating a ",Object(r.b)("em",{parentName:"p"},"KNI")," (Kernel Network Interface), which is a network interface that connects between the Linux kernel and the 128T software."),Object(r.b)("div",{className:"admonition admonition-important alert alert--info"},Object(r.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("div",Object(o.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(o.a)({parentName:"div"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(o.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(r.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"You must also specify ",Object(r.b)("inlineCode",{parentName:"p"},"conductor=true")," on one of your network-interface configuration elements, in order for the 128T to recognize which egress path(s) to use."))),Object(r.b)("p",null,"The KNI (named ",Object(r.b)("inlineCode",{parentName:"p"},"kni254"),') shuttles packets back and forth between the Linux processses (salt, secureCommunicationManager) and the 128T routing domain. Conductor Host Services will install specific, /32 routes to one or two conductor addresses, using the local KNI address (169.254.127.126) as its next-hop. Those will be sent "up" to the 128T routing domain, where they will match the generated ',Object(r.b)("inlineCode",{parentName:"p"},"_conductor_")," service(s), and follow the service-route out of the specified interface."),Object(r.b)("hr",null),Object(r.b)("h2",{id:"appendix-a-public-conductor"},"Appendix A: Public Conductor"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{}),'config\n\n    authority\n        conductor-address  192.0.2.2\n\n        remote-login\n\n        exit\n\n        router             datacenter\n            name                 datacenter\n            inter-node-security  internal\n\n            node                 node1\n                name              node1\n                asset-id          b77cefa0-b870-49bc-8b58-31d55bc56527\n                role              combo\n\n                device-interface  wan\n                    name               wan\n                    type               ethernet\n                    pci-address        0000:01:00.0\n                    forwarding         true\n\n                    network-interface  wan0\n                        name        wan0\n                        global-id   2\n                        conductor   true\n                        source-nat  true\n\n                        address     203.0.113.2\n                            ip-address     203.0.113.2\n                            prefix-length  24\n                            gateway        203.0.113.1\n                        exit\n                    exit\n                exit\n            exit\n\n            service-route        _conductor_1_route_1\n                name          _conductor_1_route_1\n                service-name  _conductor_1\n                generated     true\n\n                next-hop      node1 wan0\n                    node-name   node1\n                    interface   wan0\n                    gateway-ip  203.0.113.1\n                exit\n            exit\n        exit\n\n        router             branch1\n            name                 branch1\n            inter-node-security  internal\n\n            node                 node1\n                name              node1\n                asset-id          04822a5c-1f78-4d82-a442-bcb914c7fd99\n                role              combo\n\n                device-interface  wan\n                    name               wan\n                    type               ethernet\n                    pci-address        0000:01:00.0\n\n                    network-interface  wan1\n                        name                   wan1\n                        global-id              3\n                        conductor              true\n                        inter-router-security  internal\n                        source-nat             true\n\n                        address                198.51.100.2\n                            ip-address     198.51.100.2\n                            prefix-length  24\n                            gateway        198.51.100.1\n                        exit\n                    exit\n                exit\n            exit\n\n            service-route        _conductor_1_route_1\n                name          _conductor_1_route_1\n                service-name  _conductor_1\n                generated     true\n\n                next-hop      node1 wan1\n                    node-name   node1\n                    interface   wan1\n                    gateway-ip  198.51.100.1\n                exit\n            exit\n        exit\n\n        router             bernstein\n            name    bernstein\n\n            system\n                inactivity-timer  86400\n            exit\n\n            node    node1\n                name              node1\n\n                device-interface  wan\n                    name               wan\n                    type               ethernet\n                    pci-address        0000:01:00.0\n                    forwarding         false\n\n                    network-interface  wan0\n                        name       wan0\n                        global-id  1\n                        type       shared\n\n                        address    192.0.2.2\n                            ip-address     192.0.2.2\n                            prefix-length  24\n                            gateway        192.0.2.1\n                        exit\n                    exit\n                exit\n            exit\n        exit\n\n        tenant             _internal_\n            name         _internal_\n            description  "Auto generated tenant for internal services"\n            generated    true\n        exit\n\n        service            _conductor_1\n            name                     _conductor_1\n            enabled                  true\n            scope                    private\n            tap-multiplexing         false\n\n            transport                icmp\n                protocol  icmp\n            exit\n\n            transport                tcp\n                protocol    tcp\n\n                port-range  443\n                    start-port  443\n                    end-port    443\n                exit\n\n                port-range  930\n                    start-port  930\n                    end-port    930\n                exit\n\n                port-range  4505\n                    start-port  4505\n                    end-port    4505\n                exit\n\n                port-range  4506\n                    start-port  4506\n                    end-port    4506\n                exit\n            exit\n            address                  192.0.2.2/32\n            access-policy-generated  true\n\n            access-policy            _internal_\n                source      _internal_\n                permission  allow\n            exit\n            service-policy           _conductor_\n            share-service-routes     false\n            source-nat               network-interface\n            application-type         generic\n            fqdn-resolution-type     v4\n            generated                true\n        exit\n\n        service-policy     _conductor_\n            name                         _conductor_\n            description                  "Auto generated service-policy for conductor services"\n            lb-strategy                  proportional\n            session-resiliency           none\n            path-quality-filter          false\n            best-effort                  true\n            max-loss                     0.5\n            max-latency                  250\n            max-jitter                   100\n            transport-state-enforcement  reset\n            generated                    true\n            ingress-source-nat           network-interface\n        exit\n    exit\nexit\n')),Object(r.b)("h2",{id:"notes-on-the-configuration"},"Notes on the Configuration"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"The inclusion of ",Object(r.b)("inlineCode",{parentName:"p"},"conductor-address")," into the configuration generates the service ",Object(r.b)("inlineCode",{parentName:"p"},"_conductor_1"),". Each configuration can contain no more than two ",Object(r.b)("inlineCode",{parentName:"p"},"conductor-address")," values configured; a second ",Object(r.b)("inlineCode",{parentName:"p"},"conductor-address")," would create ",Object(r.b)("inlineCode",{parentName:"p"},"_conductor_2"),".")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"In this configuration, each of the two sample routers (",Object(r.b)("inlineCode",{parentName:"p"},"datacenter")," and ",Object(r.b)("inlineCode",{parentName:"p"},"branch1"),") use their WAN interface to reach the Conductor. This is done by setting ",Object(r.b)("inlineCode",{parentName:"p"},"conductor")," to ",Object(r.b)("inlineCode",{parentName:"p"},"true")," on the WAN interface.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"The interface used to reach the conductor must have ",Object(r.b)("inlineCode",{parentName:"p"},"source-nat")," set to ",Object(r.b)("inlineCode",{parentName:"p"},"true"),". (This is because the conductor connection is initiated by a process in Linux, which travels through ",Object(r.b)("inlineCode",{parentName:"p"},"kni254")," to reach the 128T's forwarding plane, and will have an unroutable source address: 169.254.127.127.)"))),Object(r.b)("hr",null),Object(r.b)("h2",{id:"appendix-b-conductor-behind-128t"},"Appendix B: Conductor behind 128T"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{}),'config\n\n    authority\n        conductor-address  203.0.113.2\n\n        remote-login\n\n        exit\n\n        router             datacenter\n            name                           datacenter\n            conductor-address              172.20.0.128\n            inter-node-security            internal\n\n            node                           node1\n                name              node1\n                asset-id          b77cefa0-b870-49bc-8b58-31d55bc56527\n                role              combo\n\n                device-interface  wan\n                    name               wan\n                    type               ethernet\n                    pci-address        0000:01:00.0\n                    forwarding         true\n\n                    network-interface  wan0\n                        name        wan0\n                        global-id   2\n                        conductor   false\n                        tenant      internet\n                        source-nat  true\n\n                        address     203.0.113.2\n                            ip-address     203.0.113.2\n                            prefix-length  24\n                            gateway        203.0.113.1\n                        exit\n                    exit\n                exit\n\n                device-interface  lan\n                    name               lan\n                    type               ethernet\n                    pci-address        0000:02:00.0\n                    forwarding         true\n\n                    network-interface  lan0\n                        name        lan0\n                        global-id   4\n                        conductor   true\n                        source-nat  true\n\n                        address     172.20.0.1\n                            ip-address     172.20.0.1\n                            prefix-length  24\n                        exit\n                    exit\n                exit\n            exit\n\n            management-service-generation\n                service-route-type  paths-as-next-hop\n                proxy               true\n            exit\n\n            service-route                  _conductor_1_route_1\n                name          _conductor_1_route_1\n                service-name  _conductor_1\n                generated     true\n\n                next-hop      node1 lan0\n                    node-name       node1\n                    interface       lan0\n                    target-address  172.20.0.128\n                exit\n            exit\n\n            service-route                  _conductor_datacenter_1_route_1\n                name          _conductor_datacenter_1_route_1\n                service-name  _conductor_datacenter_1\n                generated     true\n\n                next-hop      node1 lan0\n                    node-name   node1\n                    interface   lan0\n                    gateway-ip  172.20.0.128\n                exit\n            exit\n        exit\n\n        router             branch1\n            name                 branch1\n            inter-node-security  internal\n\n            node                 node1\n                name              node1\n                asset-id          04822a5c-1f78-4d82-a442-bcb914c7fd99\n                role              combo\n\n                device-interface  wan\n                    name               wan\n                    type               ethernet\n                    pci-address        0000:01:00.0\n\n                    network-interface  wan1\n                        name                   wan1\n                        global-id              3\n                        conductor              true\n                        inter-router-security  internal\n                        source-nat             true\n\n                        address                198.51.100.2\n                            ip-address     198.51.100.2\n                            prefix-length  24\n                            gateway        198.51.100.1\n                        exit\n                    exit\n                exit\n            exit\n\n            service-route        _conductor_1_route_1\n                name          _conductor_1_route_1\n                service-name  _conductor_1\n                generated     true\n\n                next-hop      node1 wan1\n                    node-name   node1\n                    interface   wan1\n                    gateway-ip  198.51.100.1\n                exit\n            exit\n        exit\n\n        router             bernstein\n            name    bernstein\n\n            system\n                inactivity-timer  86400\n            exit\n\n            node    node1\n                name              node1\n\n                device-interface  wan\n                    name               wan\n                    type               ethernet\n                    pci-address        0000:01:00.0\n                    forwarding         false\n\n                    network-interface  wan0\n                        name       wan0\n                        global-id  1\n                        type       shared\n\n                        address    192.0.2.2\n                            ip-address     192.0.2.2\n                            prefix-length  24\n                            gateway        192.0.2.1\n                        exit\n                    exit\n                exit\n            exit\n        exit\n\n        tenant             internet\n            name         internet\n            description  "Public internet"\n\n            member       internet\n                neighborhood  internet\n                address       0.0.0.0/0\n            exit\n        exit\n\n        tenant             _internal_\n            name         _internal_\n            description  "Auto generated tenant for internal services"\n            generated    true\n        exit\n\n        service            _conductor_1\n            name                     _conductor_1\n            enabled                  true\n            scope                    private\n            tap-multiplexing         false\n\n            transport                icmp\n                protocol  icmp\n            exit\n\n            transport                tcp\n                protocol    tcp\n\n                port-range  443\n                    start-port  443\n                    end-port    443\n                exit\n\n                port-range  930\n                    start-port  930\n                    end-port    930\n                exit\n\n                port-range  4505\n                    start-port  4505\n                    end-port    4505\n                exit\n\n                port-range  4506\n                    start-port  4506\n                    end-port    4506\n                exit\n            exit\n            address                  203.0.113.2/32\n            access-policy-generated  false\n\n            access-policy            _internal_\n                source      _internal_\n                permission  allow\n            exit\n\n            access-policy            internet\n                source      internet\n                permission  allow\n            exit\n            service-policy           _conductor_\n            share-service-routes     false\n            source-nat               network-interface\n            application-type         generic\n            fqdn-resolution-type     v4\n            generated                true\n        exit\n\n        service            _conductor_datacenter_1\n            name                     _conductor_datacenter_1\n\n            applies-to               router\n                type         router\n                router-name  datacenter\n            exit\n            enabled                  true\n            scope                    private\n            tap-multiplexing         false\n\n            transport                icmp\n                protocol  icmp\n            exit\n\n            transport                tcp\n                protocol    tcp\n\n                port-range  443\n                    start-port  443\n                    end-port    443\n                exit\n\n                port-range  930\n                    start-port  930\n                    end-port    930\n                exit\n\n                port-range  4505\n                    start-port  4505\n                    end-port    4505\n                exit\n\n                port-range  4506\n                    start-port  4506\n                    end-port    4506\n                exit\n            exit\n            address                  172.20.0.128/32\n            access-policy-generated  true\n\n            access-policy            _internal_\n                source      _internal_\n                permission  allow\n            exit\n            service-policy           _conductor_\n            share-service-routes     false\n            source-nat               network-interface\n            application-type         generic\n            fqdn-resolution-type     v4\n            generated                true\n        exit\n\n        service-policy     _conductor_\n            name                         _conductor_\n            description                  "Auto generated service-policy for conductor services"\n            lb-strategy                  proportional\n            session-resiliency           none\n            path-quality-filter          false\n            best-effort                  true\n            max-loss                     0.5\n            max-latency                  250\n            max-jitter                   100\n            transport-state-enforcement  reset\n            generated                    true\n            ingress-source-nat           network-interface\n        exit\n    exit\nexit\n')),Object(r.b)("h2",{id:"notes-on-the-configuration-1"},"Notes on the Configuration"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"As in the previous example, the interfaces that have ",Object(r.b)("inlineCode",{parentName:"p"},"conductor")," set to ",Object(r.b)("inlineCode",{parentName:"p"},"true")," also require ",Object(r.b)("inlineCode",{parentName:"p"},"source-nat")," to be set to ",Object(r.b)("inlineCode",{parentName:"p"},"true"),".")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"The datacenter router includes new configuration in the ",Object(r.b)("inlineCode",{parentName:"p"},"management-service-generation")," container; ",Object(r.b)("inlineCode",{parentName:"p"},"proxy")," is set to ",Object(r.b)("inlineCode",{parentName:"p"},"true"),", to forward requests received on its WAN interface to the conductor's private IP. The ",Object(r.b)("inlineCode",{parentName:"p"},"paths-as-next-hop")," value for ",Object(r.b)("inlineCode",{parentName:"p"},"service-route-type")," will generate one ",Object(r.b)("inlineCode",{parentName:"p"},"service-route")," to reach the conductor, with multiple next-hops for configurations with more than one conductor. The other choice, ",Object(r.b)("inlineCode",{parentName:"p"},"paths-as-service-route")," will generate multiple ",Object(r.b)("inlineCode",{parentName:"p"},"service-route")," configurations with a single next-hop apiece.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"In this design, the datacenter router reaches to the conductor using the ",Object(r.b)("inlineCode",{parentName:"p"},"lan")," interface. The global ",Object(r.b)("inlineCode",{parentName:"p"},"conductor-address")," is overridden by the router. (If there are two conductors configured at the authority level, any router that overrides the addresses must override both.)")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"The datacenter's unique accesss create a unique service specific to it: ",Object(r.b)("inlineCode",{parentName:"p"},"_conductor_datacenter_1"),". It has the actual conductor's address configured and will match the requests arriving via ",Object(r.b)("inlineCode",{parentName:"p"},"kni254"),".")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"The generated ",Object(r.b)("inlineCode",{parentName:"p"},"_conductor_1")," service will require that the ",Object(r.b)("inlineCode",{parentName:"p"},"access-policy-generated")," toggle be set to ",Object(r.b)("inlineCode",{parentName:"p"},"false"),", and that the ",Object(r.b)("inlineCode",{parentName:"p"},"access-policy")," contain a reference to the WAN interfaces of the remote site(s). In our case, we have the WAN interface of the ",Object(r.b)("inlineCode",{parentName:"p"},"datacenter"),' router in an "internet" neighborhood (0.0.0.0/0), such that any inbound, non-SVR request on the WAN will be treated as sourced from the ',Object(r.b)("inlineCode",{parentName:"p"},"internet")," tenant. We've added an ",Object(r.b)("inlineCode",{parentName:"p"},"access-policy")," statement for allowing inbound access to the ",Object(r.b)("inlineCode",{parentName:"p"},"internet")," tenant."))),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("div",Object(o.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(o.a)({parentName:"div"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(o.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(r.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"This tenancy design may require some tuning to fit into your environment. It is good practice to use tenancy on your WAN interfaces (in the form of neighborhood/membership, preferably). This gives you more control over the security of an interface. For example, we could have a tenant named ",Object(r.b)("inlineCode",{parentName:"p"},"remote-sites")," that contains the WAN IP addresses of the remote sites (presuming they're static addresses), and use that in our ",Object(r.b)("inlineCode",{parentName:"p"},"_conductor_1")," access-policy instead of ",Object(r.b)("inlineCode",{parentName:"p"},"internet"),". This would restrict inbound access. But for cases where branch offices use dynamic addressing (DHCP), this is not possible."))))}l.isMDXComponent=!0},230:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return h}));var o=t(0),a=t.n(o);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,o,a=function(e,n){if(null==e)return{};var t,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var d=a.a.createContext({}),l=function(e){var n=a.a.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):c({},n,{},e)),t},u=function(e){var n=l(e.components);return a.a.createElement(d.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},b=Object(o.forwardRef)((function(e,n){var t=e.components,o=e.mdxType,r=e.originalType,i=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=l(t),b=o,h=u["".concat(i,".").concat(b)]||u[b]||p[b]||r;return t?a.a.createElement(h,c({ref:n},d,{components:t})):a.a.createElement(h,c({ref:n},d))}));function h(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=t.length,i=new Array(r);i[0]=b;var c={};for(var s in n)hasOwnProperty.call(n,s)&&(c[s]=n[s]);c.originalType=e,c.mdxType="string"==typeof e?e:o,i[1]=c;for(var d=2;d<r;d++)i[d]=t[d];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"}}]);