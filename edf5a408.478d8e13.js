(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{229:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return s})),n.d(t,"default",(function(){return b}));var a=n(1),r=n(11),o=(n(0),n(237)),i={title:"128T 4.2.4 Release Notes",sidebar_label:"4.2.4"},c={id:"release_notes/128t_release_notes_4.2.4",title:"128T 4.2.4 Release Notes",description:":::note",source:"@site/docs/release_notes/128t_release_notes_4.2.4.md",permalink:"/docs/release_notes/128t_release_notes_4.2.4",editUrl:"https://github.com/128technology/docs/tree/master/docs/release_notes/128t_release_notes_4.2.4.md",lastUpdatedAt:1586452018,sidebar_label:"4.2.4",sidebar:"docs",previous:{title:"128T 4.2.3 Release Notes",permalink:"/docs/release_notes/128t_release_notes_4.2.3"},next:{title:"128T 4.2.5 Release Notes",permalink:"/docs/release_notes/128t_release_notes_4.2.5"}},s=[{value:"Special Considerations",id:"special-considerations",children:[]},{value:"Issues Fixed",id:"issues-fixed",children:[]},{value:"Caveats",id:"caveats",children:[]}],p={rightToc:s};function b(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("div",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"div"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"The 4.2.4 release is a superset of the 4.2.3 release. Features and corrections in the 4.2.3 release are not provided in these release notes. Please refer to the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/release_notes/128t_release_notes_4.2.3"}),"4.2.3 release notes")," for further information."))),Object(o.b)("h2",{id:"special-considerations"},"Special Considerations"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Support has been added to provision management interfaces.  Typically, these are Linux interfaces that are not part of the 128T configuration. These interfaces are called non-forwarding interfaces. It is strongly recommended that non-forwarding interfaces now be configured within the 128T.  When the Conductors are upgraded to 4.2.X, the configuration validation will provide a warning when non-forwarding interfaces are not configured for 128T routers configured in a HA pair. If non-forwarding interfaces are configured prior to upgrading the Conductors to 4.2.X, the shared or fabric device interface type must be explicitly set.  DHCP however is not supported. Note: 4.1.5 does not raise a validation error if the interface had DHCP. (I95-30831)")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},'Support has been added to allow the 128T Software to automatically determine the number of CPU forwarding cores that the router will use. In previous releases the "automatic/manual" parameter was not available and the core count was defined in environment config or within the UI. If set within the environment config (local.init), 4.2.X will set core count to automatic and determine the number of cores to use. If set in the UI, this parameter will be set to manual and the existing value will be used. Note that if automatic is set and the core count is changed in the PCLI, the change will be accepted as valid configuration but the automatic parameter will override as this parameter takes precedence over the value in the forwarding core count. (I95-30884)')),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},'Prior to 4.1.5, peering with routers that have the same IP addresses was not supported. In 4.1.5 or greater remote peers having the same IP address is now supported in one direction, with the use of "outbound-only". 128T currently does not support ALL routers having the same IP address, the same IP address support is unidirectional. For example:'),Object(o.b)("p",{parentName:"li"},"  The following is supported:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"    R1(172.16.1.1) --- peered --- R2 (192.168.1.1)\n              |------- peered --- R3 (192.168.1.1)\n")),Object(o.b)("p",{parentName:"li"},"  The following is not supported:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"    R1(192.168.1.1) --- peered --- R2 (192.168.1.1)\n               |------- peered --- R3 (192.168.1.1)\n"))),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"When creating non-forwarding interfaces on pre 4.2.0 routers, these interfaces should not be configured with default routes until after upgrading the routers to 4.2.0 or greater. (I95-30940)")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"On 128T, nodes installed after July 1, 2019 on pre 4.2.X versions, Chrome running on MAC OSX Catalina does not consider the 128T self-signed web certificates valid. Apple has put out an advisory: ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://support.apple.com/en-us/HT210176"}),"https://support.apple.com/en-us/HT210176")," . Once the node is upgraded to 4.2.X, create a new self signed web cert in the PCLI ",Object(o.b)("inlineCode",{parentName:"p"},"create certificate self-signed webserver")," (I95-31672)"))),Object(o.b)("h2",{id:"issues-fixed"},"Issues Fixed"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-30084")," Empty BGP neighbor/transport/local-address prevents configuration from being committed")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-32449")," WayPoint allocation failures resulting in session setup failures")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-32463")," DHCP server rejects packets larger than 500 bytes")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-32625")," service-route/host configuration results in invalid route, dropping packets")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-32754")," DHCP Server can flood the journal with monitoring messages")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-32843")," System can fault when routing loop is created with OSPF")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-32902")," LTE APN name not displayed correctly")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-32957")," The LTE reset command did not handle some error cases resulting in a failure")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-33122")," Configuration now enforces non-forwarding-fabric interfaces must be in the same subnet as its HA pair")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-33148")," Non-forwarding interfaces could not come up if a manually created bridge interface existed with the same IP address with that of another 128T provisioned interface")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-33149")," Changing a HA non-forwarding interface address will fail to reestablish the connection between nodes"),Object(o.b)("p",{parentName:"li"},"  ",Object(o.b)("em",{parentName:"p"},Object(o.b)("strong",{parentName:"em"},"Corrective Action:"))," Restart 128T on the node that did not receive the config change")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-33161")," Interfaces that are DHCP enabled within linux (128T not running), returning it from being managed by 128T will result in the error: ",Object(o.b)("inlineCode",{parentName:"p"},"dhclient(pid) is already running - exiting"),". The interface, as a result will not be able to acquire any IP, until the interface is restarted."),Object(o.b)("p",{parentName:"li"},"  ",Object(o.b)("em",{parentName:"p"},Object(o.b)("strong",{parentName:"em"},"Corrective Action:"))," Invoke ",Object(o.b)("inlineCode",{parentName:"p"},"ifdown")," on the interface being converted by 128T")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-33170")," ",Object(o.b)("inlineCode",{parentName:"p"},"show system connectivity internal")," incorrectly shows interprocess communication connections status as disconnected")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-33216"),' Interfaces that are DHCP enabled that are "returned" to linux after 128T shutdown will result in the dhclient process being killed. This results in the interface being unable to renew its dhcp lease after it expires.'),Object(o.b)("p",{parentName:"li"},"  ",Object(o.b)("em",{parentName:"p"},Object(o.b)("strong",{parentName:"em"},"Corrective Action:"))," Create a ",Object(o.b)("inlineCode",{parentName:"p"},"oneshot")," service to be invoked by 128T at ",Object(o.b)("inlineCode",{parentName:"p"},"ExecStopPost")," so that the ",Object(o.b)("inlineCode",{parentName:"p"},"control-group")," is separate from 128T service.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-33277")," Traceroute using TCP does not work if udp-transform is enabled."),Object(o.b)("p",{parentName:"li"},"  ",Object(o.b)("em",{parentName:"p"},Object(o.b)("strong",{parentName:"em"},"Corrective Action:"))," Traceroute over UDP should be used as a workaround")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-33279")," Path MTU discovery unresolvable when no ICMP is generated")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-33296")," Removing a redundant interface and its corresponding redundancy-group within the same commit would abort the commit")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-33441")," Changing node name can cause the 128T to fault on shutdown due to a rare race condition")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-33449")," 128T Application fault on startup of LTE interface and node name change that is taking place during the startup")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-33474")," 128T added MLX4 Azure Accelerated networking devices")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-33486")," commit failed when PPPoE interface is set in next-hop interface on service-route")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-33529")," Promiscuous mode on ethernet interfaces is not dynamically reconfigurable")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-33536")," 128T fault on shutdown with very large number of peer paths")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-33586")," Using hostnames rather than IP addresses for nat-target or target-address in a service-route would cause config validation to fail and report an Invalid IP when inspector is enabled."))),Object(o.b)("h2",{id:"caveats"},"Caveats"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-29592")," Conductor UI and/or PCLI may not update the asset software version correctly"),Object(o.b)("p",{parentName:"li"},"  ",Object(o.b)("em",{parentName:"p"},Object(o.b)("strong",{parentName:"em"},"Symptom:"))," The Conductor UI and/or the PCLI may not correctly reflect the software version running on the asset"),Object(o.b)("p",{parentName:"li"},"  ",Object(o.b)("em",{parentName:"p"},Object(o.b)("strong",{parentName:"em"},"Conditions:"))," After the asset has been upgraded"),Object(o.b)("p",{parentName:"li"},"  ",Object(o.b)("em",{parentName:"p"},Object(o.b)("strong",{parentName:"em"},"Corrective Action:"))," If the asset is not updated after ~5 minutes after an upgrade is performed, the salt-minion will need to be restarted on the respective node. This is done with the following command on the node as the root Linux user:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"systemctl restart salt-minion\n"))),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"I95-27808")," ",Object(o.b)("inlineCode",{parentName:"p"},"sync peer addresses router force")," from Conductor may not trigger router to send address information from peer"),Object(o.b)("p",{parentName:"li"},Object(o.b)("em",{parentName:"p"},Object(o.b)("strong",{parentName:"em"},"Symptom:"))," When performing the following command on the Conductor PCLI, ",Object(o.b)("inlineCode",{parentName:"p"},"sync peer addresses router force")," the router may not provide the peer address information"),Object(o.b)("p",{parentName:"li"},Object(o.b)("em",{parentName:"p"},Object(o.b)("strong",{parentName:"em"},"Conditions:"))," Unknown"),Object(o.b)("p",{parentName:"li"},Object(o.b)("em",{parentName:"p"},Object(o.b)("strong",{parentName:"em"},"Corrective Action:"))," Perform the PCLI command on the router to update the information on the Conductor."))))}b.isMDXComponent=!0},237:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=r.a.createContext({}),b=function(e){var t=r.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):c({},t,{},e)),n},l=function(e){var t=b(e.components);return r.a.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),l=b(n),d=a,u=l["".concat(i,".").concat(d)]||l[d]||m[d]||o;return n?r.a.createElement(u,c({ref:t},p,{components:n})):r.a.createElement(u,c({ref:t},p))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var p=2;p<o;p++)i[p]=n[p];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);