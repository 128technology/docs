(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{215:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return b}));var a=n(1),r=n(11),o=(n(0),n(228)),i={title:"Alarms and Events",sidebar_label:"Alarm and Events"},s={id:"events_overview",title:"Alarms and Events",description:"## What are Alarms and Events?",source:"@site/docs/events_overview.md",permalink:"/docs/events_overview",lastUpdatedAt:1585758875,sidebar_label:"Alarm and Events",sidebar:"docs",previous:{title:"T1 Troubleshooting",permalink:"/docs/ts_t1_troubleshooting"},next:{title:"Alarms",permalink:"/docs/events_alarms"}},c=[{value:"What are Alarms and Events?",id:"what-are-alarms-and-events",children:[]},{value:"How Do I Find Alarms?",id:"how-do-i-find-alarms",children:[]},{value:"How Do I Find Events?",id:"how-do-i-find-events",children:[]},{value:"Contents of Alarms and Events",id:"contents-of-alarms-and-events",children:[]},{value:"Shelving Alarms",id:"shelving-alarms",children:[]}],l={rightToc:c};function b(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"what-are-alarms-and-events"},"What are Alarms and Events?"),Object(o.b)("p",null,"An ",Object(o.b)("strong",{parentName:"p"},"event")," is an occurrence that happens at a specific point of time. These indicate that a significant system event has occurred but is not an ongoing persistent event."),Object(o.b)("p",null,"An ",Object(o.b)("strong",{parentName:"p"},"alarm")," is an indication that the system is in a state that may require user intervention to resolve."),Object(o.b)("p",null,'An alarm is stateful, an event is a one-off occurrence. For example, an alarm is usually associated with two events, an "ADD" when it is created and a "CLEAR" when it goes away.'),Object(o.b)("h2",{id:"how-do-i-find-alarms"},"How Do I Find Alarms?"),Object(o.b)("p",null,"You can find alarms in the PCLI by typing:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"admin@conductor1.nycsite1# show alarms\nTue 2018-09-11 14:44:15 UTC\n\n=============================== ===================== ========== ============================================== =========== ====================================================\n ID                              Time                  Severity   Source                                         Category    Message\n=============================== ===================== ========== ============================================== =========== ====================================================\n datacenter1.bostonsite1:60      2018-09-11 14:42:46   info       unavailable                                    interface   Intf 10 (1) administratively down\n datacenter1.bostonsite1:61      2018-09-11 14:42:46   major      If - 1 | Destination - 10.0.128.0 | Vlan - 0   peer        Peer seattlesite1 path is down (PeerName:\n                                                                                                                             seattlesite1 | Destination: 10.0.128.0 | NodeName:\n                                                                                                                             datacenter1 | DeviceInterface: 1 | Vlan: 0)\n branchoffice1.seattlesite1:36   2018-09-11 14:42:41   major      If - 1 | Destination - 10.0.128.1 | Vlan - 0   peer        Peer bostonsite1 path is down (PeerName:\n                                                                                                                             bostonsite1 | Destination: 10.0.128.1 | NodeName:\n                                                                                                                             branchoffice1 | DeviceInterface: 1 | Vlan: 0)\n\nThere are 0 shelved alarms\nCompleted in 0.62 seconds\n")),Object(o.b)("p",null,"The web client will have a badge icon on the bell on the left panel that indicates the total number of alarms.  Additionally, the header on the Dashboard will enumerate the total alarms into one of three categories: critical, major and minor.  Both the bell and the critical, major and minor are links to the alarm page which filters alarms respectively."),Object(o.b)("p",null,Object(o.b)("img",Object(a.a)({parentName:"p"},{src:"/img/events_alarm_screenshot.png",alt:"alarms_and_events_alarm_screenshot"}))),Object(o.b)("h2",{id:"how-do-i-find-events"},"How Do I Find Events?"),Object(o.b)("p",null,"You can find events in the PCLI by typing:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"admin@conductor1.nycsite1# show events alarm\nTue 2018-09-11 14:46:14 UTC\n\n============== =============== ============ ====================== ========== ========================================== =================== ================== ================\n Router         Node            Event Type   Time                   Severity   Source                                     Category            Message            Shelved Status\n============== =============== ============ ====================== ========== ========================================== =================== ================== ================\n seattlesite1   branchoffice1   add          2018-09-10T23:49:47Z   major      bostonsite1+3.3.3.128+branchoffice1+3+0    peer                Peer bostonsite1   not-shelved\n                                                                                                                                              path is down\n                                                                                                                                              (PeerName:\n                                                                                                                                              bostonsite1 |\n                                                                                                                                              Destination:\n                                                                                                                                              3.3.3.128 |\n                                                                                                                                              NodeName:\n                                                                                                                                              branchoffice1 |\n                                                                                                                                              DeviceInterface:\n                                                                                                                                              3 | Vlan: 0)\n bostonsite1    datacenter1     add          2018-09-10T23:49:53Z   major      seattlesite1+1.1.1.128+datacenter1+4+0     peer                Peer               not-shelved\n                                                                                                                                              seattlesite1\n                                                                                                                                              path is down\n                                                                                                                                              (PeerName:\n                                                                                                                                              seattlesite1 |\n                                                                                                                                              Destination:\n                                                                                                                                              1.1.1.128 |\n                                                                                                                                              NodeName:\n                                                                                                                                              datacenter1 |\n                                                                                                                                              DeviceInterface:\n                                                                                                                                              4 | Vlan: 0)\n seattlesite1   branchoffice1   clear        2018-09-10T23:49:54Z   major      bostonsite1+3.3.3.128+branchoffice1+3+0    peer                Peer bostonsite1   not-shelved\n                                                                                                                                              path is down\n                                                                                                                                              (PeerName:\n                                                                                                                                              bostonsite1 |\n                                                                                                                                              Destination:\n                                                                                                                                              3.3.3.128 |\n                                                                                                                                              NodeName:\n                                                                                                                                              branchoffice1 |\n                                                                                                                                              DeviceInterface:\n                                                                                                                                              3 | Vlan: 0)\n")),Object(o.b)("p",null,"Within the web client, the Event History link will bring you to a page where all events can be displayed, or by applying varying level of filters, restrict the messages to only a particular router or event type."),Object(o.b)("p",null,Object(o.b)("img",Object(a.a)({parentName:"p"},{src:"/img/events_events_screenshot.png",alt:"alarms_and_events_events_screenshot"}))),Object(o.b)("p",null,"In large deployments, there may be a large number of events on a conductor.  It may be difficult to wade through the pages of events if you know you are looking for a particular event within a window of time.  The ",Object(o.b)("inlineCode",{parentName:"p"},"show events")," command supports filtering events by time when specifying starting and ending time ranges.  The syntax for time follows the same format of the event timestamps."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"show events alarm from 2020-03-30T22:00:00Z to 2020-03-30T23:59:59Z router burlma-corp\n")),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("div",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"div"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Note the trailing ",Object(o.b)("inlineCode",{parentName:"p"},"Z"),".  Most systems are configured to be in UTC time.  If the trailing ",Object(o.b)("inlineCode",{parentName:"p"},"Z")," was absent, the time filter would be restricted to the local time zone"))),Object(o.b)("p",null,"show events alarm from 2020-03-30T22:00:00Z to 2020-03-30T23:59:59Z router AAPDENCOPOD4"),Object(o.b)("h2",{id:"contents-of-alarms-and-events"},"Contents of Alarms and Events"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:"left"}),"Field"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:"left"}),"Description"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:"left"}),"dateTime"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:"left"}),"This is the date and time that the event occurred. The format of the value followsthe ISO 8601 standard")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:"left"}),"node"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:"left"}),"The system within the 128T which produced the event")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:"left"}),"process"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:"left"}),"The process within the node which produced the event")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:"left"}),"source"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:"left"}),"The name of the entity which was the originator of the alarm. When the topic is a network-interface, this would be the name of the network-interface.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:"left"}),"category"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:"left"}),"This is the alarm type. Each category has a specific message format:",Object(o.b)("br",null),"\u2022 ",Object(o.b)("strong",{parentName:"td"},"system")," Related to the system, e.g. CPU, memory, etc.",Object(o.b)("br",null),"\u2022 ",Object(o.b)("strong",{parentName:"td"},"process")," Related to an internal software process",Object(o.b)("br",null),"\u2022 ",Object(o.b)("strong",{parentName:"td"},"interface/network-interface")," Related to an interface on the 128T (up, down,etc.)",Object(o.b)("br",null),"\u2022 ",Object(o.b)("strong",{parentName:"td"},"platform")," Related to low-level events that aren't necessarily derived from the machine; e.g. security keys",Object(o.b)("br",null),"\u2022 ",Object(o.b)("strong",{parentName:"td"},"peer")," Related to connectivity between 128T routers",Object(o.b)("br",null),"\u2022 ",Object(o.b)("strong",{parentName:"td"},"platform-state")," Sourced from the stats infrastructure",Object(o.b)("br",null),"\u2022 ",Object(o.b)("strong",{parentName:"td"},"redundancy")," Related to high availability behavior; e.g. a failover or leadership change",Object(o.b)("br",null),"\u2022 ",Object(o.b)("strong",{parentName:"td"},"giid"),' Related to an interface that is part of a redundant pair (giid is an interface\'s "global ID")',Object(o.b)("br",null),"\u2022 ",Object(o.b)("strong",{parentName:"td"},"asset"),"  An alarm sourced by an asset (a managed node) that is dervied from Automated Provisioner")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:"left"}),"severity"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:"left"}),"Alarms can be categorized in one of four severities: critical, major, minor and info. These severity levels can be used to filter alerts based on one of these levels. The default severity level is info, which shows all alarms.",Object(o.b)("br",null),"\u2022 ",Object(o.b)("strong",{parentName:"td"},"critical")," The condition affects service",Object(o.b)("br",null),"\u2022 ",Object(o.b)("strong",{parentName:"td"},"major")," Immediate action is required",Object(o.b)("br",null),"\u2022 ",Object(o.b)("strong",{parentName:"td"},"minor")," Minor warning conditions",Object(o.b)("br",null),"\u2022 ",Object(o.b)("strong",{parentName:"td"},"info")," No action is required")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:"left"}),"message"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:"left"}),"Descriptive text regarding the nature of the alarm")))),Object(o.b)("h2",{id:"shelving-alarms"},"Shelving Alarms"),Object(o.b)("p",null,"When a 128T is put into \u201cMaintenance Mode\u201d all alarms for that 128T will be \u201cshelved\u201d. Shelved alarms will continue to be monitored by the system but will not be presented on the standard UI. The state of shelved alarms can be optionally viewed by issuing:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"admin@conductor1.nycsite1# show alarms shelved\n")))}b.isMDXComponent=!0},228:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=r.a.createContext({}),b=function(e){var t=r.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s({},t,{},e)),n},d=function(e){var t=b(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},p=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),d=b(n),p=a,h=d["".concat(i,".").concat(p)]||d[p]||m[p]||o;return n?r.a.createElement(h,s({ref:t},l,{components:n})):r.a.createElement(h,s({ref:t},l))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=p;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var l=2;l<o;l++)i[l]=n[l];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"}}]);