(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{224:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return u}));var n=a(0),i=a.n(n);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=i.a.createContext({}),b=function(e){var t=i.a.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},p=function(e){var t=b(e.components);return i.a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},m=i.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,r=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),p=b(a),m=n,u=p["".concat(r,".").concat(m)]||p[m]||d[m]||o;return a?i.a.createElement(u,l(l({ref:t},s),{},{components:a})):i.a.createElement(u,l({ref:t},s))}));function u(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,r=new Array(o);r[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:n,r[1]=l;for(var s=2;s<o;s++)r[s]=a[s];return i.a.createElement.apply(null,r)}return i.a.createElement.apply(null,a)}m.displayName="MDXCreateElement"},96:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return r})),a.d(t,"metadata",(function(){return l})),a.d(t,"rightToc",(function(){return c})),a.d(t,"default",(function(){return b}));var n=a(2),i=a(6),o=(a(0),a(224)),r={title:"Installer Command Line Reference",sidebar_label:"Installer Command Line Reference"},l={unversionedId:"installer_cli_reference",id:"installer_cli_reference",isDocsHomePage:!1,title:"Installer Command Line Reference",description:"This is a reference document for the 128T Installer command line interface.",source:"@site/docs/installer_cli_reference.md",slug:"/installer_cli_reference",permalink:"/docs/installer_cli_reference",version:"current",lastUpdatedAt:1628715139,sidebar_label:"Installer Command Line Reference",sidebar:"docs",previous:{title:"Show Stats Reference",permalink:"/docs/cli_stats_reference"},next:{title:"Installer Preferences File Reference",permalink:"/docs/installer_preferences"}},c=[{value:"Interactive Mode",id:"interactive-mode",children:[]},{value:"Automated Mode",id:"automated-mode",children:[]},{value:"Install from RPM",id:"install-from-rpm",children:[]},{value:"Options",id:"options",children:[{value:"Subcommands",id:"subcommands",children:[]},{value:"<code>download</code>",id:"download",children:[]},{value:"<code>import</code>",id:"import",children:[]},{value:"<code>repo</code>",id:"repo",children:[]}]},{value:"Manual Token Process",id:"manual-token-process",children:[]},{value:"Uninstalling 128T",id:"uninstalling-128t",children:[]}],s={rightToc:c};function b(e){var t=e.components,a=Object(i.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},s,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"This is a reference document for the 128T Installer command line interface.\nTo get started installing 128T with the Installer, see the\n",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/intro_installation_bootable_media"}),"Conductor Interactive Installation"),"."),Object(o.b)("p",null,"To start the Installer, run the ",Object(o.b)("inlineCode",{parentName:"p"},"install128t")," command."),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},Object(o.b)("inlineCode",{parentName:"p"},"install128t")," must always be run as the root user, or with ",Object(o.b)("inlineCode",{parentName:"p"},"sudo install128t.")," The Installer will detect non-root usage and exit with this message:"),Object(o.b)("pre",{parentName:"div"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-txt"}),"You must run the Installer as root.\n")))),Object(o.b)("p",null,"Beginning with Installer version 2.7.0, the use of the Screen utility is no longer necessary. However, for older versions of the Installer, it is strongly recommended to use the Screen utility when performing a manual installation to avoid SSH session timeout. "),Object(o.b)("p",null,"Use the ",Object(o.b)("inlineCode",{parentName:"p"},"-h"),"/",Object(o.b)("inlineCode",{parentName:"p"},"--help")," flag to display help information for the ",Object(o.b)("inlineCode",{parentName:"p"},"install128t"),"\ncommand line:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sh"}),"install128t --help\n")),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"--version")," flag or the ",Object(o.b)("inlineCode",{parentName:"p"},"rpm")," command may be used to determine the Installer\nversion:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sh"}),"$ install128t --version\n128T Installer 3.0.0\n\n$ rpm -q 128T-installer\n128T-installer-3.0.0-1.x86_64\n")),Object(o.b)("p",null,"When the Installer is used to install 128T for the first time, it will automatically\nrun the 128T Initializer to complete setup of 128T, unless the\n",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"#options"}),Object(o.b)("inlineCode",{parentName:"a"},"--install-only")," option")," is specified. See the\n",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/initializer_cli_reference"}),"Initializer documentation"),"\nfor the relevant version of 128T for details on its usage and options."),Object(o.b)("p",null,"After a successful run, the ",Object(o.b)("inlineCode",{parentName:"p"},"install128t")," process will exit with a return code\nof 0. If any error was encountered during the operation, the return code will\nbe non-zero."),Object(o.b)("h2",{id:"interactive-mode"},"Interactive Mode"),Object(o.b)("p",null,"Without any arguments, the Installer will open a wizard interface to install\n128T."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sh"}),"install128t\n")),Object(o.b)("p",null,"Follow the on-screen prompts to complete the installation and initialization process.\nStep-by-step instructions for the Installer wizard can be found in the\n",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/intro_installation_installer#install-using-128t-installer"}),"Installation Guide"),"."),Object(o.b)("h2",{id:"automated-mode"},"Automated Mode"),Object(o.b)("p",null,"For more advanced use cases, preferences may be specified on the command line\nto perform an operation in an automated fashion, using the ",Object(o.b)("inlineCode",{parentName:"p"},"-p"),"/",Object(o.b)("inlineCode",{parentName:"p"},"--preferences"),"\noption."),Object(o.b)("p",null,"In this mode, no wizard will be displayed, but informational messages will be\nprinted to the console as the Installer is running."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sh"}),'$ cat /tmp/preferences.json\n{\n  "install": {\n    "initialize": {\n      "node-name": "MyNode",\n      "node-ip": "127.0.0.1",\n      "node-role": "combo",\n      "router-name": "MyRouter"\n    }\n  }\n}\n\n$ install128t --preferences /tmp/preferences.json\n')),Object(o.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"Did you know?")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"You can specify a preferences file with ",Object(o.b)("inlineCode",{parentName:"p"},"-p"),", but you can ",Object(o.b)("em",{parentName:"p"},"also")," pass the\npreferences directly on the command line. For example:"),Object(o.b)("pre",{parentName:"div"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sh"}),'install128t -p \'{"download": {"128T-version": "4.5.7"}}\'\n')))),Object(o.b)("p",null,"The specified preferences ",Object(o.b)("strong",{parentName:"p"},"must")," be valid JSON (trailing commas are not allowed),\nand they must conform to the Installer preferences file schema.\nSee the ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/installer_preferences"}),"full schema documentation")," for details."),Object(o.b)("h2",{id:"install-from-rpm"},"Install from RPM"),Object(o.b)("p",null,"To install or upgrade 128T directly from RPM files, use the ",Object(o.b)("inlineCode",{parentName:"p"},"--rpm-path")," option\nto specify a directory in which the RPM files are located."),Object(o.b)("p",null,"In order to use this option, both a 128T RPM and the corresponding version of the\n128T manifest RPM must be in the specified directory, as shown here:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sh"}),"$ ls /tmp/local-install/\n128T-4.5.7-1.el7.x86_64.rpm\n128T-manifest-4.5.7.1.el7-1.x86_64.rpm\n\n$ install128t --rpm-path /tmp/local-install/\n")),Object(o.b)("p",null,"The Installer will ask for confirmation before proceeding with the operation."),Object(o.b)("div",{className:"admonition admonition-warning alert alert--danger"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})))),"warning")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"If the specified RPM is not an upgrade to the currently installed 128T version,\nthis option will ",Object(o.b)("strong",{parentName:"p"},"erase and reinstall")," 128T! Pay attention to the confirmation\nprompt to ensure an upgrade will be performed (",Object(o.b)("inlineCode",{parentName:"p"},"Confirm Upgrade"),") rather than\na reinstallation (",Object(o.b)("inlineCode",{parentName:"p"},"Confirm Install"),")."))),Object(o.b)("h2",{id:"options"},"Options"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Option"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"-d"),", ",Object(o.b)("inlineCode",{parentName:"td"},"--dry-run")),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Skip all steps that modify the system, e.g. downloading software or rebooting the system. This can be useful to validate a preference file without executing the operation specified in it.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"-l LOG_LEVEL"),", ",Object(o.b)("inlineCode",{parentName:"td"},"--log-level LOG_LEVEL")),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Change the log level the Installer runs with. Must be one of ",Object(o.b)("inlineCode",{parentName:"td"},"ERROR"),", ",Object(o.b)("inlineCode",{parentName:"td"},"INFO"),", ",Object(o.b)("inlineCode",{parentName:"td"},"WARNING"),", ",Object(o.b)("inlineCode",{parentName:"td"},"DEBUG"),".")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"--install-only")),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"If specified, the Installer will not run the Initializer when it completes a successful installation. ",Object(o.b)("strong",{parentName:"td"},"NOTE"),": Use this option with care; 128T will be unable to start until it has been initialized. See the ",Object(o.b)("a",Object(n.a)({parentName:"td"},{href:"/docs/initializer_cli_reference"}),"Initializer documentation")," for details on how to use it to manually initialize 128T.")))),Object(o.b)("h3",{id:"subcommands"},"Subcommands"),Object(o.b)("p",null,"Besides using a preference file, ",Object(o.b)("inlineCode",{parentName:"p"},"install128t")," may also be used to perform other\ntasks directly from the command line, without using the interactive wizard interface."),Object(o.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Any subcommand may be passed the ",Object(o.b)("inlineCode",{parentName:"p"},"-h"),"/",Object(o.b)("inlineCode",{parentName:"p"},"--help")," flag to show its usage information\nand available options:"),Object(o.b)("pre",{parentName:"div"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sh"}),"install128t download --help\n")))),Object(o.b)("h3",{id:"download"},Object(o.b)("inlineCode",{parentName:"h3"},"download")),Object(o.b)("p",null,"Download 128T software and save it to the local repository.\nAfter download, the software will be available for future installation and upgrades."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sh"}),"install128t download\n")),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"--128T-version")," option is used to specify a version to download:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sh"}),"install128t download --128T-version 4.5.7\n")),Object(o.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Version requirements of the same format as the preference file may be used for\nthis option:"),Object(o.b)("pre",{parentName:"div"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sh"}),'install128t download --128T-version ">= 4.5.1"\n')))),Object(o.b)("p",null,"If no version is specified, the latest available version will be downloaded."),Object(o.b)("h3",{id:"import"},Object(o.b)("inlineCode",{parentName:"h3"},"import")),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"import")," subcommand is used to save software from other locations to the\nlocal repository, after which it will be available for future installation and\nupgrades."),Object(o.b)("h4",{id:"automatically-find-and-import-iso"},"Automatically find and import ISO"),Object(o.b)("p",null,"With this option, the Installer will attempt to search the local filesystem for\na 128T ISO file, mount it, and save the contents to the local repository."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sh"}),"install128t import --iso-hunt\n")),Object(o.b)("h4",{id:"specify-an-iso-path"},"Specify an ISO path"),Object(o.b)("p",null,"With this option, the Installer will attempt to mount and import packages from\nthe ISO file specified."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sh"}),"install128t import --iso-path /root/128T-4.5.1-1.el7.v1.x86_64.iso\n")),Object(o.b)("h3",{id:"repo"},Object(o.b)("inlineCode",{parentName:"h3"},"repo")),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"repo")," subcommand is used to enable or disable 128T software repositories\nused for downloading 128T. Advanced users can use this subcommand to enable\npre-release software or update software access credentials."),Object(o.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},Object(o.b)("inlineCode",{parentName:"p"},"install128t repo")," has several subcommands of its own, each of which may be passed\nthe ",Object(o.b)("inlineCode",{parentName:"p"},"-h"),"/",Object(o.b)("inlineCode",{parentName:"p"},"--help")," option to display usage and options, like other subcommands."))),Object(o.b)("h4",{id:"list-repositories"},"List Repositories"),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"repo list")," subcommand shows the configured 128T software repositories. The ",Object(o.b)("inlineCode",{parentName:"p"},"-a"),"/",Object(o.b)("inlineCode",{parentName:"p"},"--all"),"\noption may be be used to show disabled repositories as well as enabled repositories."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sh"}),"install128t repo list\n")),Object(o.b)("h4",{id:"enable-repositories"},"Enable Repositories"),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"repo enable")," subcommand is used to enable 128T software repositories.\nMultiple repositories may be specified to enable each of them. The name specified\nto this command should match the name in the ",Object(o.b)("inlineCode",{parentName:"p"},"Repository")," column of the\n",Object(o.b)("inlineCode",{parentName:"p"},"install128t repo list")," command output."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sh"}),"install128t repo enable alpha beta\n")),Object(o.b)("h4",{id:"disable-repositories"},"Disable Repositories"),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"repo disable")," subcommand is used to disable 128T software repositories."),Object(o.b)("p",null,"Usage matches the ",Object(o.b)("inlineCode",{parentName:"p"},"repo enable")," command."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sh"}),"install128t repo disable alpha beta\n")),Object(o.b)("h4",{id:"update-repository-authentication"},"Update Repository Authentication"),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"repo authenticate")," subcommand is used to configure credentials for\nauthenticating with 128T software repositories. To use this subcommand, you\nmust specify both a username and a token for authentication."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sh"}),"install128t repo authenticate --username my_user --token 'example$token'\n")),Object(o.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"If your authentication token contains special characters, the shell may expand\nor interpret them. Enclose the token in single quotes (",Object(o.b)("inlineCode",{parentName:"p"},"'"),") to prevent shell\nexpansion."))),Object(o.b)("p",null,"If the specified credentials are found to be invalid, the Installer will display\nan error message and exit, and the credentials will not be saved. To verify credential status, use the ",Object(o.b)("inlineCode",{parentName:"p"},"install128t repo list")," command. "),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"If the credentials cannot be checked (e.g. no Internet connection is available), the remote packages will appear unavailable (no upgrades available) but the credentials will still be saved. They will be checked again, if possible, the next time the Installer is run. "))),Object(o.b)("h2",{id:"manual-token-process"},"Manual Token Process"),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"It is strongly recommended that you update the token during a maintenance window. Performing these operations on a large deployment may take an extended amount of time to complete."))),Object(o.b)("p",null,"If the 128T Conductors are ugpraded to 4.5.7, 5.0.1, 5.1.1, or greater, and have the 3.0.0 (or greater) Installer, use the following procedure to either add or update the username/token:"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Update the username/token with the ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"#repo"}),Object(o.b)("inlineCode",{parentName:"a"},"install128t repo authenticate -u <user> -t <token>"))," process on BOTH conductors.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Restart the primary conductor with ",Object(o.b)("inlineCode",{parentName:"p"},"systemctl restart 128T")," and wait for the conductor to be fully operational (can be up to 5 minutes).")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Restart the secondary conductor with ",Object(o.b)("inlineCode",{parentName:"p"},"systemctl restart 128T")," (After the routers return to a running state the systems will be updated with the username/token)."))),Object(o.b)("p",null,"If the 128T conductors are NOT upgraded to 4.5.7, 5.0.1, 5.1.1 or greater, the following steps must be taken to ADD the username/token:"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Update the username/token with the ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"#repo"}),Object(o.b)("inlineCode",{parentName:"a"},"install128t repo authenticate -u <user> -t <token>"))," process and run ",Object(o.b)("inlineCode",{parentName:"p"},"yum makecache --assumeyes")," on both conductors.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"For the first use of the token, run the following commands on the primary conductor. Be sure to replace ",Object(o.b)("inlineCode",{parentName:"p"},"<conductor-1-asset-id>")," and ",Object(o.b)("inlineCode",{parentName:"p"},"<conductor-2-asset-id>")," with the appropriate conductor asset ID."))),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"ln -s /etc/pki/install128t/GPG-RPM-KEY* /srv/salt\nt128-salt -C '* and not L@<conductor-1-asset-id>,<conductor-2-asset-id>' cp.get_file salt://GPG-RPM-KEY-128T-RELEASE /etc/pki/install128t/GPG-RPM-KEY-128T-RELEASE\nt128-salt -C '* and not L@<conductor-1-asset-id>,<conductor-2-asset-id>' cp.get_file salt://GPG-RPM-KEY-128T-RELEASE-LEGACY /etc/pki/install128t/GPG-RPM-KEY-128T-RELEASE-LEGACY\ncd /etc/yum.repos.d/\nfor i in 128t-authenticated-*; do ln -s /etc/yum.repos.d/${i} /srv/salt/${i}; t128-salt -C '* and not L@<conductor-1-asset-id>,<conductor-2-asset-id>' cp.get_file salt://${i} /etc/yum.repos.d/${i}; done\nt128-salt -C '* and not L@<conductor-1-asset-id>,<conductor-2-asset-id>' cmd.run \"dnf makecache --assumeyes; yum makecache --assumeyes\"\n")),Object(o.b)("p",null,"If the username/token needs to be updated from an existing username/token AND the 128T conductors are not upgraded to 4.5.7, 5.0.1, 5.1.1 or greater, the following steps must be taken to update the username/token:"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Update the username/token with the ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"#repo"}),Object(o.b)("inlineCode",{parentName:"a"},"install128t repo authenticate -u <user> -t <token>"))," process and run ",Object(o.b)("inlineCode",{parentName:"p"},"yum makecache --assumeyes")," on BOTH conductors.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"To update the token after the initial token instance, run the following commands. Be sure to replace ",Object(o.b)("inlineCode",{parentName:"p"},"<conductor-1-asset-id>")," and ",Object(o.b)("inlineCode",{parentName:"p"},"<conductor-2-asset-id>")," with the appropriate conductor asset ID."))),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"cd /etc/yum.repos.d/\nfor i in 128t-authenticated-*; do t128-salt -C '* and not L@<conductor-1-asset-id>,<conductor-2-asset-id>' cp.get_file salt://${i} /etc/yum.repos.d/${i}; done\nt128-salt -C '* and not L@<conductor-1-asset-id>,<conductor-2-asset-id>' cmd.run \"dnf makecache --assumeyes; yum makecache --assumeyes\"\n")),Object(o.b)("h2",{id:"uninstalling-128t"},"Uninstalling 128T"),Object(o.b)("div",{className:"admonition admonition-warning alert alert--danger"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})))),"warning")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"This command stops and uninstalls 128T. It will also remove 128T data files,\nincluding configuration, logs, and more. Use with caution!"))),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"erase128t")," can be used to uninstall 128T. It is packaged with the Installer,\nbut it is ",Object(o.b)("em",{parentName:"p"},"not")," a subcommand of the ",Object(o.b)("inlineCode",{parentName:"p"},"install128t")," command."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sh"}),"erase128t\n")),Object(o.b)("p",null,"Use ",Object(o.b)("inlineCode",{parentName:"p"},"-h"),"/",Object(o.b)("inlineCode",{parentName:"p"},"--help")," to see all available options."),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Option"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"-y"),", ",Object(o.b)("inlineCode",{parentName:"td"},"--assume-yes")),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),'Skip confirmation prompts and run as if the answer was "yes".')),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"-c"),", ",Object(o.b)("inlineCode",{parentName:"td"},"--cleanup-only")),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Do not uninstall 128T, but still delete associated data such as configuration.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"-l"),", ",Object(o.b)("inlineCode",{parentName:"td"},"--keep-logs")),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Do not remove 128T log files.")))))}b.isMDXComponent=!0}}]);