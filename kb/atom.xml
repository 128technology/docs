<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://docs.128technology.com/kb</id>
    <title>SSR Knowledge Base Articles</title>
    <updated>2024-12-12T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://docs.128technology.com/kb"/>
    <subtitle>Session Smart Router Knowledge Base Articles</subtitle>
    <icon>https://docs.128technology.com/img/favicon.png</icon>
    <rights>Copyright © 2025 Juniper Networks, Inc.</rights>
    <entry>
        <title type="html"><![CDATA[IPSec algorithms dh2 (modp1024) and dh22 are being deprecated]]></title>
        <id>https://docs.128technology.com/kb/2024/12/12/PLUGIN-2835</id>
        <link href="https://docs.128technology.com/kb/2024/12/12/PLUGIN-2835"/>
        <updated>2024-12-12T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[To implement IPsec, SSR leverages a third-party client called libreswan. The client periodically deprecates weak algorithms from its code base such as dh2 (a.k.a modp1024) and dh22. While the SSR supports these algorithms, it is very likely that these algorithms will be deprecated in the near future. The article is meant to raise awareness of this upcoming change and provide instruction to proactively modify configuration to avoid outages.]]></summary>
        <content type="html"><![CDATA[<p>To implement IPsec, SSR leverages a third-party client called <code>libreswan</code>. The client periodically deprecates weak algorithms from its code base such as dh2 (a.k.a <code>modp1024</code>) and dh22. While the SSR supports these algorithms, it is very likely that these algorithms will be deprecated in the near future. The article is meant to raise awareness of this upcoming change and provide instruction to proactively modify configuration to avoid outages.</p>
<p><strong>Issue ID:</strong> PLUGIN-2835.</p>
<p><strong>Last Updated:</strong> 2024-12-12</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="problem">Problem<a href="https://docs.128technology.com/kb/2024/12/12/PLUGIN-2835#problem" class="hash-link" aria-label="Direct link to Problem" title="Direct link to Problem">​</a></h3>
<p>When upgrading to a version of IPsec plugin with the weak ciphers removed, SSR will stop offering these ciphers in its IPsec negotiation with the far end. As a result, the tunnel connection will break and will not be able to be formed again. You can verify this break in the following ways.</p>
<ol>
<li>Check the output of the <code>show plugin state</code> command to inspect the status of the tunnel:</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">========================================</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> combo-west:rem1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">========================================</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Type:                host</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Forwarding:          true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Mode:                host</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> MAC Address:         76:78:79:fc:eb:69</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Admin Status:        up</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Operational Status:  down</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Redundancy Status:   non-redundant</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Speed:               0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Duplex:              unknown</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> in-octets:                     1962932</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> in-unicast-pkts:                 32710</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> in-errors:                           0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> out-octets:                    1373442</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> out-unicast-pkts:                32701</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> out-errors:                          6</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> IPSec:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     rem1:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         Tunnel Status:Down</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         Tunnel Details:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             Name:    ipsec-client-tunnel-primary-rem1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             Remote Host:172.16.4.3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         Down Reason: Tunnel settings mismatch</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The above output shows the <code>Tunnel Status: Down</code>. Because the SSR no longer uses the weak ciphers, a <code>Tunnel settings mismatch</code> is identified as the cause.</p>
<ol start="2">
<li>In the <code>128t-ipsec@*</code> service, the log indicates the following:</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">received unauthenticated v2N_NO_PROPOSAL_CHOSEN - ignored</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Please see the <a href="https://docs.128technology.com/kb/2024/12/12/PLUGIN-2835#solution">Solution</a> for remediation steps.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="severity">Severity<a href="https://docs.128technology.com/kb/2024/12/12/PLUGIN-2835#severity" class="hash-link" aria-label="Direct link to Severity" title="Direct link to Severity">​</a></h3>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><p>The potential impact of a software defect if encountered. Severity levels are:</p><ul>
<li>Critical: Could severely affect service, capacity/traffic, and maintenance capabilities. May have a prolonged impact to the entire system.</li>
<li>Major: Could seriously affect system operation, maintenance, administration and related tasks.</li>
<li>Minor: Would not significantly impair the functioning or affect service.</li>
</ul></div></div></details>
<p>Minor</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="status">Status<a href="https://docs.128technology.com/kb/2024/12/12/PLUGIN-2835#status" class="hash-link" aria-label="Direct link to Status" title="Direct link to Status">​</a></h3>
<p>In Progress</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="resolved-in">Resolved In<a href="https://docs.128technology.com/kb/2024/12/12/PLUGIN-2835#resolved-in" class="hash-link" aria-label="Direct link to Resolved In" title="Direct link to Resolved In">​</a></h3>
<p>128T-ipsce-client-4.1.0</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="product">Product<a href="https://docs.128technology.com/kb/2024/12/12/PLUGIN-2835#product" class="hash-link" aria-label="Direct link to Product" title="Direct link to Product">​</a></h3>
<p>SSR Routers</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functional-area">Functional Area<a href="https://docs.128technology.com/kb/2024/12/12/PLUGIN-2835#functional-area" class="hash-link" aria-label="Direct link to Functional Area" title="Direct link to Functional Area">​</a></h3>
<p>IPsec</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="solution">Solution<a href="https://docs.128technology.com/kb/2024/12/12/PLUGIN-2835#solution" class="hash-link" aria-label="Direct link to Solution" title="Direct link to Solution">​</a></h3>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><p>Juniper may provide a method to temporarily circumvent a problem; workarounds do not exist for all issues.</p></div></div></details>
<p>Starting with the 128T-ipsec-client-4.1.0 version of the plugin, two changes are being made to support this remediation effort.</p>
<ol>
<li>
<p>A new warning message has been added for conifgurations that rely on <code>dh2</code> and <code>dh22</code> algorithms. The warning message is visible when running <code>validate</code> or <code>commit</code> on the conductor.</p>
</li>
<li>
<p>Existing versions of IPsec plugin only support configuration specifying a single combination of IKE and IPsec algorithms. Beginning with <code>128T-ipsec-client-4.1.0</code>, support has been added to allow multiple ciphers to be configured for IKE and IPsec. The following is an example configuration:</p>
</li>
</ol>
<div class="language-config codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-config codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ipsec-profile primary</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">        name primary</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">        ike-encryption           aes256</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">        ike-digest               sha2</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">        ike-modp                 modp1024</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">        authentication-protocol  esp</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">        phase2-encryption        aes_gcm128</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">        phase2-digest            sha2</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">        phase2-modp              modp1024</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">        ...</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">        additional-ike-algorithms algo1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            name algo1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            encryption aes128</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            digest sha2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            modp modp2048</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        additional-ike-algorithms algo2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            name algo2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            encryption aes256</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            digest sha2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            modp dh19</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The two solutions to remediate the weak algorithms are:</p>
<ol>
<li>While running the existing plugin version, replace the weak cipher with a stronger one from the supported list.</li>
</ol>
<ul>
<li>
<p>Chose a new stronger cipher supported by the server.</p>
</li>
<li>
<p>Replace the weak cipher with the stronger cipher selected from the list.</p>
<p>This config change will trigger a restart of the tunnels for new connections to be formed. Here's an example of sample configuration change.</p>
<p>Before:</p>
</li>
</ul>
<div class="language-config codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-config codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ipsec-profile primary</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        name primary</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ike-encryption           aes256</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ike-digest               sha2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ike-modp                 modp1024</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        authentication-protocol  esp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        phase2-encryption        aes_gcm128</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        phase2-digest            sha2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        phase2-modp              modp1024</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After:</p>
<div class="language-config codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-config codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ipsec-profile primary</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        name primary</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ike-encryption           aes256</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ike-digest               sha2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ike-modp                 modp1024</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        authentication-protocol  esp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        phase2-encryption        aes_gcm128</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        phase2-digest            sha2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        phase2-modp              modp1024</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ...</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">        additional-ike-algorithms algo1</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">            name algo1</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">            encryption aes128</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">            digest sha2</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">            modp modp2048</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">        additional-ike-algorithms algo2</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">            name algo2</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">            encryption aes256</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">            digest sha2</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">            modp dh19</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>Upgrade to the IPsec plugin version <code>4.1.0</code> and configure additional supported ciphers on the server side</li>
</ol>
<p>The SSR offers all the supported ciphers and identifies the ciphers supported on the server. It is recommended to remove the weak ciphers from the configuration once replacements have been made.</p>
<p>Remediating the configuration of weak ciphers ahead of their deprecation allows a seamless transition when upgrading to a new version of SSR software.</p>]]></content>
        <category label="ipsec-client" term="ipsec-client"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Change in behavior for Salt states for 5.6.16+, 6.1.12+, 6.2.8+, 6.3.x-r2+]]></title>
        <id>https://docs.128technology.com/kb/2024/11/06/PLUGIN-2776</id>
        <link href="https://docs.128technology.com/kb/2024/11/06/PLUGIN-2776"/>
        <updated>2024-11-06T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[In some cases, Salt states fail to be applied on routers after an upgrade to 5.6.16+, 6.1.12+, 6.2.8+, and 6.3.x-r2+. This will impact any salt states that rely on the CentOS name to detect or conditionally perform operations on the SSR.]]></summary>
        <content type="html"><![CDATA[<p>In some cases, Salt states fail to be applied on routers after an upgrade to 5.6.16+, 6.1.12+, 6.2.8+, and 6.3.x-r2+. This will impact any salt states that rely on the <code>CentOS</code> name to detect or conditionally perform operations on the SSR.</p>
<p>For example, the following <code>top.sls</code> would be impacted:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">base:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  '*':</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - dummy</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  'os:CentOS':</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - match: grain</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - centos_example</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Issue ID:</strong> PLUGIN-2776</p>
<p><strong>Last Updated:</strong> 2024-11-06</p>
<p><strong>Introduced in SSR Version:</strong> 5.6.16, 6.1.12, 6.2.8, 6.3.x-r2</p>
<p><strong>Impacted Plugin version:</strong> 128T-sip-alg-4.0.1 and below</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="problem">Problem<a href="https://docs.128technology.com/kb/2024/11/06/PLUGIN-2776#problem" class="hash-link" aria-label="Direct link to Problem" title="Direct link to Problem">​</a></h3>
<p>The SSR is migrating the underlying Linux distribution in an effort to remain agile and to reduce the surface area of CVEs.</p>
<p>Because the OS version is now reported as <code>Oracle Linux</code> instead of <code>CentOS</code>, there is an impact to the SIP ALG plugin, as well as any packages that may have an OS dependency, such as SaltStack.</p>
<p>Once a router is upgraded to SSR version 5.6.16+ or 6.1.12+, the 128T-SIP-ALG plugin version 4.0.1 (or earlier) is impacted by this issue. To avoid this issue, <strong>the plugin must be upgraded to 4.0.2 before upgrading the SSR</strong>.</p>
<p>For customer deployments implementing custom salt states that leverage OS-specific salt grains for <code>CentOS Linux 7</code>, those salt states may fail to apply after upgrading to 5.6.16+ and 6.1.12+.</p>
<p>Please see the <a href="https://docs.128technology.com/kb/2024/11/06/PLUGIN-2776#workaround">workaround</a> for steps to determine whether your environment is impacted and to remediate the issue.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="release-notes">Release Notes<a href="https://docs.128technology.com/kb/2024/11/06/PLUGIN-2776#release-notes" class="hash-link" aria-label="Direct link to Release Notes" title="Direct link to Release Notes">​</a></h3>
<ul>
<li>Resolved the salt state issues for the SIP ALG plugin.</li>
<li>Use the Workaround procedure below to scan salt states prior to Conductor and Router upgrades.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="severity">Severity<a href="https://docs.128technology.com/kb/2024/11/06/PLUGIN-2776#severity" class="hash-link" aria-label="Direct link to Severity" title="Direct link to Severity">​</a></h3>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><p>The potential impact of a software defect if encountered. Severity levels are:</p><ul>
<li>Critical: Could severely affect service, capacity/traffic, and maintenance capabilities. May have a prolonged impact to the entire system.</li>
<li>Major: Could seriously affect system operation, maintenance, administration and related tasks.</li>
<li>Minor: Would not significantly impair the functioning or affect service.</li>
</ul></div></div></details>
<p>Major</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="status">Status<a href="https://docs.128technology.com/kb/2024/11/06/PLUGIN-2776#status" class="hash-link" aria-label="Direct link to Status" title="Direct link to Status">​</a></h3>
<p>In Progress</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="resolved-in">Resolved In<a href="https://docs.128technology.com/kb/2024/11/06/PLUGIN-2776#resolved-in" class="hash-link" aria-label="Direct link to Resolved In" title="Direct link to Resolved In">​</a></h3>
<p>128T-sip-alg-4.0.2</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="product">Product<a href="https://docs.128technology.com/kb/2024/11/06/PLUGIN-2776#product" class="hash-link" aria-label="Direct link to Product" title="Direct link to Product">​</a></h3>
<p>SSR Routers</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functional-area">Functional Area<a href="https://docs.128technology.com/kb/2024/11/06/PLUGIN-2776#functional-area" class="hash-link" aria-label="Direct link to Functional Area" title="Direct link to Functional Area">​</a></h3>
<p>SaltStack</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="workaround">Workaround<a href="https://docs.128technology.com/kb/2024/11/06/PLUGIN-2776#workaround" class="hash-link" aria-label="Direct link to Workaround" title="Direct link to Workaround">​</a></h3>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><p>Juniper may provide a method to temporarily circumvent a problem; workarounds do not exist for all issues.</p></div></div></details>
<p>Salt states are configuration files used to deploy and manage extensible behaviors on the SSR routers via the salt-minion. They are used by the product to implement certain features, by plugins, and in some cases, to implement customer specific use-cases not otherwise supported by the SSR.</p>
<p>For customers that implement custom salt states, use the following procedure to scan your salt states and identify issues that could arise during or after an upgrade.</p>
<ol>
<li>
<p>Log in to the Conductor CLI as the admin user.</p>
</li>
<li>
<p>Enter the linux shell; type <code>shell</code> to suspend the CLI.</p>
</li>
<li>
<p>Run the following command to scan the custom salt states for <code>Centos 7</code>:</p>
<p><code>grep -riE 'cent[-]?os' /srv/salt</code></p>
</li>
<li>
<p>If the above command returns no hits, none of the custom salt states leverage the OS specific salt grain features.</p>
</li>
</ol>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>There exists a possibility that a custom salt state is impacted despite the scan returning an empty result. In this case, please contact your Juniper support representative for support on the matter.</p></div></div>
<ol start="5">
<li>
<p>If the above command results in non-empty output, remediate the salt states to be OS agnostic.</p>
<p>The exact changes will depend on the business logic of the salt state. Customers should work with their subject matter experts to properly remediate and test any changes.</p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-remediation">Example Remediation<a href="https://docs.128technology.com/kb/2024/11/06/PLUGIN-2776#example-remediation" class="hash-link" aria-label="Direct link to Example Remediation" title="Direct link to Example Remediation">​</a></h4>
<p>Salt state found during scan:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{% set defaults = salt['grains.filter_by']({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    'CentOS Linux-7': {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        'network_routes_target_filedir': '/etc/sysconfig/network-scripts/route-',</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}, grain='osfinger', merge=salt['pillar.get']('repo_map:merge'), base=None) %}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The remediated salt state:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{% set defaults = {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    'network_routes_target_filedir': '/etc/sysconfig/network-scripts/route-',</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">%}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <category label="saltstack, sip-alg" term="saltstack, sip-alg"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Unable to upgrade second HA Conductor to 6.3.0]]></title>
        <id>https://docs.128technology.com/kb/2024/08/30/I95-56628</id>
        <link href="https://docs.128technology.com/kb/2024/08/30/I95-56628"/>
        <updated>2024-08-30T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Upgrading an HA Conductor to 6.3.0 fails on the second node.]]></summary>
        <content type="html"><![CDATA[<p>Upgrading an HA Conductor to 6.3.0 fails on the second node.</p>
<p><strong>Issue ID:</strong> I95-56628<br>
<strong>Last Updated:</strong> 2024-05-02<br>
<strong>Introduced in SSR Version:</strong> 6.3.0</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="problem">Problem<a href="https://docs.128technology.com/kb/2024/08/30/I95-56628#problem" class="hash-link" aria-label="Direct link to Problem" title="Direct link to Problem">​</a></h3>
<p>During an HA Conductor upgrade, the primary node upgrade completes successfully. The GUI then presents an option to continue with the secondary node upgrade. Initiating the secondary node from the GUI displays an error explaining that the resource could not be found.</p>
<p>This issue has not been resolved and is currently under investigation. Please use the suggested workaround below.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="release-notes">Release Notes<a href="https://docs.128technology.com/kb/2024/08/30/I95-56628#release-notes" class="hash-link" aria-label="Direct link to Release Notes" title="Direct link to Release Notes">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="severity">Severity<a href="https://docs.128technology.com/kb/2024/08/30/I95-56628#severity" class="hash-link" aria-label="Direct link to Severity" title="Direct link to Severity">​</a></h3>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><p>The potential impact of a software defect if encountered. Severity levels are:</p><ul>
<li>Critical: Could severely affect service, capacity/traffic, and maintenance capabilities. May have a prolonged impact to the entire system.</li>
<li>Major: Could seriously affect system operation, maintenance, administration and related tasks.</li>
<li>Minor: Would not significantly impair the functioning or affect service.</li>
</ul></div></div></details>
<p>Major</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="status">Status<a href="https://docs.128technology.com/kb/2024/08/30/I95-56628#status" class="hash-link" aria-label="Direct link to Status" title="Direct link to Status">​</a></h3>
<p>Open</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="resolved-in">Resolved In<a href="https://docs.128technology.com/kb/2024/08/30/I95-56628#resolved-in" class="hash-link" aria-label="Direct link to Resolved In" title="Direct link to Resolved In">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="product">Product<a href="https://docs.128technology.com/kb/2024/08/30/I95-56628#product" class="hash-link" aria-label="Direct link to Product" title="Direct link to Product">​</a></h3>
<p>SSR</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functional-area">Functional Area<a href="https://docs.128technology.com/kb/2024/08/30/I95-56628#functional-area" class="hash-link" aria-label="Direct link to Functional Area" title="Direct link to Functional Area">​</a></h3>
<p>Installation</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="workaround">Workaround<a href="https://docs.128technology.com/kb/2024/08/30/I95-56628#workaround" class="hash-link" aria-label="Direct link to Workaround" title="Direct link to Workaround">​</a></h3>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><p>Juniper may provide a method to temporarily circumvent a problem; workarounds do not exist for all issues.</p></div></div></details>
<p>Log in to the secondary node independently and initiate the upgrade to 6.3.0. The upgrade will complete successfully. Once both nodes have been upgraded, subsequent upgrades can use the normal workflow, where either node can be upgraded from the other.</p>]]></content>
        <category label="6.3" term="6.3"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Highway stuck on startup when IPsec is enabled]]></title>
        <id>https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550</id>
        <link href="https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550"/>
        <updated>2024-08-05T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Highway process can get stuck on startup due to DNS related race conditions for IPSec tunnels.]]></summary>
        <content type="html"><![CDATA[<p>Highway process can get stuck on startup due to DNS related race conditions for IPSec tunnels.</p>
<p><strong>Issue ID:</strong> PLUGIN-2550</p>
<p><strong>Last Updated:</strong> 2024-08-05</p>
<p><strong>Introduced in Plugin Version:</strong> 128T-ipsec-client-3.6.1</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="problem">Problem<a href="https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550#problem" class="hash-link" aria-label="Direct link to Problem" title="Direct link to Problem">​</a></h3>
<p>The IPSec client plugin (3.6.1) attempted to correct a run time race condition between IPSec tunnel starting before DNS was fully operational in the IPSec namespace. Two changes were made to resolve this issue:</p>
<ol>
<li>A verification step was added to ensure successful DNS resolution before starting IPsec tunnel.</li>
<li>A watch dog service was added to monitor IPSec tunnel services and restart them every 30 seconds if not.</li>
</ol>
<p>During the initial boot process of a router with the IPSec plugin enabled, the WAN interfaces can take some time to fully come up, creating two interactions with the IPSec controller:</p>
<ul>
<li>Each call to verify DNS resolution can take up to 6 mins 40 seconds to timeout since the network is unreachable.</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>During normal operation this verification process ranges from a few hundred milliseconds to a few seconds.</p></div></div>
<ul>
<li>The watchdog, in an attempt to start the failed IPsec tunnel service, initiates another verify DNS resolution API call.</li>
</ul>
<p>Due to the delayed initialization of the WAN interfaces, the IPSec controller would get backed up with health-check tasks. This backlog prevented the forwarding plane from initializing the device interfaces. In the instance of the reproduction, there was a backlog of 9 hours before the API call from the forwarding plane could be processed. This was verified by letting the reproduction system stay in the stuck state for more than 9 hours. The device interfaces eventually updated the operational status of the Broadband interfaces.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="release-notes">Release Notes<a href="https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550#release-notes" class="hash-link" aria-label="Direct link to Release Notes" title="Direct link to Release Notes">​</a></h3>
<p>Resolved the startup race condition by enforcing stricter default timeouts for DNS operations.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="severity">Severity<a href="https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550#severity" class="hash-link" aria-label="Direct link to Severity" title="Direct link to Severity">​</a></h3>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><p>The potential impact of a software defect if encountered. Severity levels are:</p><ul>
<li>Critical: Could severely affect service, capacity/traffic, and maintenance capabilities. May have a prolonged impact to the entire system.</li>
<li>Major: Could seriously affect system operation, maintenance, administration and related tasks.</li>
<li>Minor: Would not significantly impair the functioning or affect service.</li>
</ul></div></div></details>
<p>Major</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="status">Status<a href="https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550#status" class="hash-link" aria-label="Direct link to Status" title="Direct link to Status">​</a></h3>
<p>Resolved</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="resolved-in">Resolved In<a href="https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550#resolved-in" class="hash-link" aria-label="Direct link to Resolved In" title="Direct link to Resolved In">​</a></h3>
<p><a href="https://docs.128technology.com/docs/plugin_ipsec_client#release-362">IPSEC Client Plugin Release 3.6.2</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="product">Product<a href="https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550#product" class="hash-link" aria-label="Direct link to Product" title="Direct link to Product">​</a></h3>
<p>SSR</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functional-area">Functional Area<a href="https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550#functional-area" class="hash-link" aria-label="Direct link to Functional Area" title="Direct link to Functional Area">​</a></h3>
<p>IPSec Client Plugin</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="workaround">Workaround<a href="https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550#workaround" class="hash-link" aria-label="Direct link to Workaround" title="Direct link to Workaround">​</a></h3>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><p>Juniper may provide a method to temporarily circumvent a problem; workarounds do not exist for all issues.</p></div></div></details>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="disable-ipsec-client">Disable IPSec client<a href="https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550#disable-ipsec-client" class="hash-link" aria-label="Direct link to Disable IPSec client" title="Direct link to Disable IPSec client">​</a></h4>
<p>While the issue does not happen in every environment, one option is to temporarily disable the IPSec plugin for planned reboot of devices.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="monitor-and-restart-the-ipsec-controller">Monitor and restart the IPSec controller<a href="https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550#monitor-and-restart-the-ipsec-controller" class="hash-link" aria-label="Direct link to Monitor and restart the IPSec controller" title="Direct link to Monitor and restart the IPSec controller">​</a></h4>
<p>Once the system is in the problem state, the following steps can be performed from the linux shell to unblock the highway process:</p>
<ul>
<li><code>systemctl stop ipsec-controller</code></li>
<li>Wait for the interfaces and peers over WAN interfaces to come up</li>
<li><code>touch /var/lib/128technology/plugins/ipsec/config.json</code>
<ul>
<li>This will restart the IPSec controller and other necessary services</li>
</ul>
</li>
</ul>]]></content>
        <category label="ipsec-client-3.6.1" term="ipsec-client-3.6.1"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Memory Allocation Exception in Device Disabled Error output]]></title>
        <id>https://docs.128technology.com/kb/2024/06/25/I95-54838</id>
        <link href="https://docs.128technology.com/kb/2024/06/25/I95-54838"/>
        <updated>2024-06-25T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Large systems with multiple CPU's and many interfaces configured may not initialize the configured interfaces.]]></summary>
        <content type="html"><![CDATA[<p>Large systems with multiple CPU's and many interfaces configured may not initialize the configured interfaces.</p>
<p><strong>Issue ID:</strong> I95-54838<br>
<strong>Last Updated:</strong> 2024-06-25<br>
<strong>Introduced in SSR Version:</strong> 6.2.3</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="problem">Problem<a href="https://docs.128technology.com/kb/2024/06/25/I95-54838#problem" class="hash-link" aria-label="Direct link to Problem" title="Direct link to Problem">​</a></h3>
<p>Large systems with multiple CPU's and many interfaces configured may not initialize the configured interfaces. A large system in this context is one with a core count greater than 30, and more than 10 interfaces. These systems may not initialize the configured interfaces, resulting in a <code>MemoryAllocationException</code> in the <code>Device Disabled Error Reason</code> section of the <code>show device-interface detail</code> command output.</p>
<p>Currently known systems exhibiting this issue are the <strong>SSR1500</strong>, <strong>Dell 7515</strong>, and <strong>AWS c5.18xlarge</strong>, running SSR software version 6.2.3 or greater. Currently deployed SSR1500's running earlier versions of software will experience this issue when they are upgraded to version 6.2.3 or greater.</p>
<p>This issue is under investigation and will be resolved in a future release.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="release-notes">Release Notes<a href="https://docs.128technology.com/kb/2024/06/25/I95-54838#release-notes" class="hash-link" aria-label="Direct link to Release Notes" title="Direct link to Release Notes">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="severity">Severity<a href="https://docs.128technology.com/kb/2024/06/25/I95-54838#severity" class="hash-link" aria-label="Direct link to Severity" title="Direct link to Severity">​</a></h3>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><p>The potential impact of a software defect if encountered. Severity levels are:</p><ul>
<li>Critical: Could severely affect service, capacity/traffic, and maintenance capabilities. May have a prolonged impact to the entire system.</li>
<li>Major: Could seriously affect system operation, maintenance, administration and related tasks.</li>
<li>Minor: Would not significantly impair the functioning or affect service.</li>
</ul></div></div></details>
<p>Major</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="status">Status<a href="https://docs.128technology.com/kb/2024/06/25/I95-54838#status" class="hash-link" aria-label="Direct link to Status" title="Direct link to Status">​</a></h3>
<p>Open</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="resolved-in">Resolved In<a href="https://docs.128technology.com/kb/2024/06/25/I95-54838#resolved-in" class="hash-link" aria-label="Direct link to Resolved In" title="Direct link to Resolved In">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="product">Product<a href="https://docs.128technology.com/kb/2024/06/25/I95-54838#product" class="hash-link" aria-label="Direct link to Product" title="Direct link to Product">​</a></h3>
<p>AWS SSR Third-party</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functional-area">Functional Area<a href="https://docs.128technology.com/kb/2024/06/25/I95-54838#functional-area" class="hash-link" aria-label="Direct link to Functional Area" title="Direct link to Functional Area">​</a></h3>
<p>Interface Binding</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="workaround">Workaround<a href="https://docs.128technology.com/kb/2024/06/25/I95-54838#workaround" class="hash-link" aria-label="Direct link to Workaround" title="Direct link to Workaround">​</a></h3>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><p>Juniper may provide a method to temporarily circumvent a problem; workarounds do not exist for all issues.</p></div></div></details>
<ul>
<li><strong>SSR1500:</strong> Configure 8 or fewer interfaces.</li>
<li><strong>Dell R7515:</strong> With hugepages of 31G, configure no more than 4 interfaces. With hugepages of 58G, configure no more that 8 interfaces.</li>
<li><strong>AWS c5.18xlarge:</strong> Systematically reduce the number of interaces until the remaining interfaces become active.</li>
</ul>]]></content>
        <category label="6.2" term="6.2"/>
        <category label="6.2.3-r2" term="6.2.3-r2"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[High Memory usage for application-director]]></title>
        <id>https://docs.128technology.com/kb/2024/05/29/I95-56484</id>
        <link href="https://docs.128technology.com/kb/2024/05/29/I95-56484"/>
        <updated>2024-05-29T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Changes to use a new database in the app-id engine have introduced high memory utilization for the application-director.]]></summary>
        <content type="html"><![CDATA[<p>Changes to use a new database in the app-id engine have introduced high memory utilization for the application-director.</p>
<p><strong>Issue ID:</strong> I95-56484</p>
<p><strong>Last Updated:</strong> 2024-05-29</p>
<p><strong>Introduced in SSR Version:</strong> 6.2.3</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="problem">Problem<a href="https://docs.128technology.com/kb/2024/05/29/I95-56484#problem" class="hash-link" aria-label="Direct link to Problem" title="Direct link to Problem">​</a></h3>
<p>The application-director has a race condition that can occur during app-id module updates, app-id database reloads, and configuration changes.</p>
<p>It is possible that stale connections to a database will utilize excessive memory over a long duration (application-director uptime).</p>
<p>The administrator might notice alarms for high system memory and an Application Director alarm with the message <code>IP Database reload failed.</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="release-notes">Release Notes<a href="https://docs.128technology.com/kb/2024/05/29/I95-56484#release-notes" class="hash-link" aria-label="Direct link to Release Notes" title="Direct link to Release Notes">​</a></h3>
<p>Resolve application-director stale database connection memory leak.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="severity">Severity<a href="https://docs.128technology.com/kb/2024/05/29/I95-56484#severity" class="hash-link" aria-label="Direct link to Severity" title="Direct link to Severity">​</a></h3>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><p>The potential impact of a software defect if encountered. Severity levels are:</p><ul>
<li>Critical: Could severely affect service, capacity/traffic, and maintenance capabilities. May have a prolonged impact to the entire system.</li>
<li>Major: Could seriously affect system operation, maintenance, administration and related tasks.</li>
<li>Minor: Would not significantly impair the functioning or affect service.</li>
</ul></div></div></details>
<p>Major</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="status">Status<a href="https://docs.128technology.com/kb/2024/05/29/I95-56484#status" class="hash-link" aria-label="Direct link to Status" title="Direct link to Status">​</a></h3>
<p>Resolved</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="resolved-in">Resolved In<a href="https://docs.128technology.com/kb/2024/05/29/I95-56484#resolved-in" class="hash-link" aria-label="Direct link to Resolved In" title="Direct link to Resolved In">​</a></h3>
<p><a href="https://docs.128technology.com/docs/release_notes_128t_6.2#release-625-5r2">6.2.5</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="product">Product<a href="https://docs.128technology.com/kb/2024/05/29/I95-56484#product" class="hash-link" aria-label="Direct link to Product" title="Direct link to Product">​</a></h3>
<p>SSR</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functional-area">Functional Area<a href="https://docs.128technology.com/kb/2024/05/29/I95-56484#functional-area" class="hash-link" aria-label="Direct link to Functional Area" title="Direct link to Functional Area">​</a></h3>
<p>System Health</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="workaround">Workaround<a href="https://docs.128technology.com/kb/2024/05/29/I95-56484#workaround" class="hash-link" aria-label="Direct link to Workaround" title="Direct link to Workaround">​</a></h3>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><p>Juniper may provide a method to temporarily circumvent a problem; workarounds do not exist for all issues.</p></div></div></details>
<p>Utilizing SSR metrics data, custom charts can be used to view memory usage over time to identify processes that are increasing. Also, the PCLI provides a way to view current process memory utilization and a way to compare the current value a previous point in time.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node.router# show stats process memory process-name application-director</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Thu 2024-05-30 20:38:03 UTC</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">✔ Retrieving statistics...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Process Memory Metrics</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">----------------------</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">======== ====== ====================== ============</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Metric   Node   Process-name                Value</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">======== ====== ====================== ============</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> rss      node   application-director     61681664</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> vsz      node   application-director   1589444608</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The above values will appear as bytes. Shown below is comparing the current value to 10 days prior.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node.router# show stats process memory process-name application-director since 10d</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Thu 2024-05-30 20:52:39 UTC</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">✔ Retrieving statistics...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Since: 2024-05-20 20:52:39</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Process Memory Metrics</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">----------------------</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">======== ====== ====================== =========</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Metric   Node   Process-name             Value</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">======== ====== ====================== =========</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> rss      node   application-director   1171456</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> vsz      node   application-director         0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this case, the delta is 10Mb which is normal operating behavior.</p>
<p>However, if the deltas over time are increasing significantly such that the current utilization has doubled or tripled, this is a good indicator that this issue is occurring.</p>
<p>If you have confirmed the <code>application-director</code> has significant memory increases over time, the service can be restarted on the offending device using <code>systemctl restart application-director</code> as a privileged User.</p>]]></content>
        <category label="6.2.3" term="6.2.3"/>
        <category label="6.2.4" term="6.2.4"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Packet forwarding stops in AWS after several hours]]></title>
        <id>https://docs.128technology.com/kb/2024/04/25/I95-56233</id>
        <link href="https://docs.128technology.com/kb/2024/04/25/I95-56233"/>
        <updated>2024-04-26T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Packet forwarding on the SSR stops after several hours of runtime in AWS when using Elastic Network Adapter (ENA) driver.]]></summary>
        <content type="html"><![CDATA[<p>Packet forwarding on the SSR stops after several hours of runtime in AWS when using Elastic Network Adapter (ENA) driver.</p>
<p><strong>Issue ID:</strong> I95-56233<br>
<strong>Last Updated:</strong> 2024-04-26<br>
<strong>Introduced in SSR Version:</strong> 6.1.7</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="problem">Problem<a href="https://docs.128technology.com/kb/2024/04/25/I95-56233#problem" class="hash-link" aria-label="Direct link to Problem" title="Direct link to Problem">​</a></h3>
<p>The ENA command-queue becomes unresponsive (device not responding) and the interface no longer passes traffic.</p>
<p>Indications of the symptoms can be observed by viewing the output of <code>show device-interface extended-statistics</code>.
There will be an excessive amount of rx errors indicated by the system.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Extended Statistics:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   bw_in_allowance_exceeded:                0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   bw_out_allowance_exceeded:               0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   conntrack_allowance_exceeded:            0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   dev_start:                               0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   dev_stop:                                0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   device_port:                             4</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   dpdk_port:                               0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   linklocal_allowance_exceeded:            0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   pps_allowance_exceeded:                  0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   rx_errors:                 139836994071144</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   rx_good_bytes:                           0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   rx_good_packets:                         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   rx_mbuf_allocation_errors: 139838439323150</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   rx_missed_errors:          139837561586960</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   rx_q0_bytes:                       1876012</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   rx_q0_cnt:                               0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   rx_q0_errors:                      2734322</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   rx_q0_l3_csum_bad:                       0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   rx_q0_l4_csum_bad:                       0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   rx_q0_l4_csum_good:                      0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   rx_q0_packets:                   875075952</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   rx_q0_refill_partial:                    0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   rx_q1_bytes:                       1862808</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   rx_q1_cnt:                               0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   rx_q1_errors:                      2100224</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Additionally, the following log messages provide evidence of the failure event:
<code>DPDK.log</code></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Apr 02 23:47:22.351 [DPDK| -- ] ERROR (deviceManagerTP) [ENA_COM: ena_com_wait_and_process_admin_cq_interrupts]Timeout waiting for comp_ctx-&gt;wait_event</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Apr 02 23:47:22.351 [DPDK| -- ] ERROR (deviceManagerTP) [ENA_COM: ena_com_wait_and_process_admin_cq_interrupts]The ena device didn't send a completion for the admin cmd 11 status 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Apr 02 23:47:22.351 [DPDK| -- ] ERROR (deviceManagerTP) [ENA_COM: ena_get_dev_stats]Failed to get stats. error: -62</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Apr 02 23:47:22.351 [DPDK| -- ] ERROR (deviceManagerTP) ena_stats_get(): Could not retrieve statistics from ENA</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Apr 02 23:47:25.352 [DPDK| -- ] ERROR (deviceManagerTP) [ENA_COM: ena_com_wait_and_process_admin_cq_interrupts]Timeout waiting for comp_ctx-&gt;wait_event</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Apr 02 23:47:25.352 [DPDK| -- ] ERROR (deviceManagerTP) [ENA_COM: ena_com_wait_and_process_admin_cq_interrupts]The ena device didn't send a completion for the admin cmd 11 status 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Apr 02 23:47:25.352 [DPDK| -- ] ERROR (deviceManagerTP) [ENA_COM: ena_get_dev_stats]Failed to get stats. error: -62</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Apr 02 23:47:25.352 [DPDK| -- ] ERROR (deviceManagerTP) ena_stats_get(): Could not retrieve statistics from ENA</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Apr 02 23:47:26.353 [DPDK| -- ] ERROR (deviceManagerTP) [ENA_COM: ena_get_dev_stats]Failed to get stats. error: -19</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Apr 02 23:47:26.353 [DPDK| -- ] ERROR (deviceManagerTP) ena_stats_get(): Could not retrieve statistics from ENA</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Apr 02 23:47:26.354 [DPDK| -- ] ERROR (deviceManagerTP) [ENA_COM: ena_get_dev_stats]Failed to get stats. error: -19</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>journal.log</code></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Apr 03 08:26:02.642583 relayroutereast001 highway[9604]: Failed to queue packet; No ARP for x.x.x.1, interface 1.0, ex: ArpEntryPendException: Pend list max size of 5 exceeded</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Apr 03 08:26:02.642595 relayroutereast001 highway[9604]: Send packet failed for session remote-host:  ip-address: x.x.x.1; local-ip x.x.x.242; local-intf: 1.0; peer-name Router11-W</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>highway.log</code></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Apr 03 09:25:35.173 [LINK|BFDS] ERROR (bfdAgentTP     ) Failed to queue packet; No ARP for x.x.x.195, interface 1.0, ex: ArpEntryPendException: Pend list max size of 5 exceeded</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Apr 03 09:25:35.173 [LINK|BFDS] ERROR (bfdAgentTP     ) Send packet failed for session remote-host:  ip-address: x.x.x.195; local-ip x.x.x.242; local-intf: 1.0; peer-name RelayRouter001</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="release-notes">Release Notes<a href="https://docs.128technology.com/kb/2024/04/25/I95-56233#release-notes" class="hash-link" aria-label="Direct link to Release Notes" title="Direct link to Release Notes">​</a></h3>
<p>The ENA command-queue becomes unresponsive (device not responding) and the interface no longer passes traffic.</p>
<p>Updated ENA device driver from DPDK/Amazon (upgrading driver from 2.6.0 to 2.9.0).
<a href="https://github.com/amzn/amzn-drivers/blob/master/kernel/linux/ena/RELEASENOTES.md" target="_blank" rel="noopener noreferrer">ENA release notes</a></p>
<p>ENA supports health checks which can be used to detect faulty behavior of the hardware and the driver. As such, an ENA driver watchdog has been developed to check for the following reset reasons:</p>
<ul>
<li>HW unresponsiveness – Driver detected that the periodic keep alive signals stopped arriving from the HW through the Asynchronous Event Notification Queue (AENQ).</li>
<li>Faulty admin queue behavior – The admin queue entered a faulty state.</li>
<li>Faulty behavior on the IO path – The device returned invalid descriptors or caused the driver to enter the invalid state.</li>
<li>Missing Tx completions exceeds a dynamically calculated threshold - Prevent Tx ring stalls in case Tx descriptors were not returned by the HW.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="severity">Severity<a href="https://docs.128technology.com/kb/2024/04/25/I95-56233#severity" class="hash-link" aria-label="Direct link to Severity" title="Direct link to Severity">​</a></h3>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><p>The potential impact of a software defect if encountered. Severity levels are:</p><ul>
<li>Critical: Could severely affect service, capacity/traffic, and maintenance capabilities. May have a prolonged impact to the entire system.</li>
<li>Major: Could seriously affect system operation, maintenance, administration and related tasks.</li>
<li>Minor: Would not significantly impair the functioning or affect service.</li>
</ul></div></div></details>
<p>Critical</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="status">Status<a href="https://docs.128technology.com/kb/2024/04/25/I95-56233#status" class="hash-link" aria-label="Direct link to Status" title="Direct link to Status">​</a></h3>
<p>Open</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="resolved-in">Resolved In<a href="https://docs.128technology.com/kb/2024/04/25/I95-56233#resolved-in" class="hash-link" aria-label="Direct link to Resolved In" title="Direct link to Resolved In">​</a></h3>
<p><a href="https://docs.128technology.com/docs/release_notes_128t_6.2#release-626-15-sts">6.2.6</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="product">Product<a href="https://docs.128technology.com/kb/2024/04/25/I95-56233#product" class="hash-link" aria-label="Direct link to Product" title="Direct link to Product">​</a></h3>
<p>SSR</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functional-area">Functional Area<a href="https://docs.128technology.com/kb/2024/04/25/I95-56233#functional-area" class="hash-link" aria-label="Direct link to Functional Area" title="Direct link to Functional Area">​</a></h3>
<p>Datapath</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="workaround">Workaround<a href="https://docs.128technology.com/kb/2024/04/25/I95-56233#workaround" class="hash-link" aria-label="Direct link to Workaround" title="Direct link to Workaround">​</a></h3>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Juniper may provide a method to temporarily circumvent a problem; workarounds do not exist for all issues.</p></div></div>
<p>Disable enhanced networking in AWS instance.</p>
<p>A restart of the SSR is necessary to remediate this condition:
<code>systemctl restart 128T</code></p>]]></content>
        <category label="6.1" term="6.1"/>
        <category label="6.1.7" term="6.1.7"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Unable to bind accelerated networking interfaces in Azure when using vmbus-id]]></title>
        <id>https://docs.128technology.com/kb/2024/04/25/I95-54541</id>
        <link href="https://docs.128technology.com/kb/2024/04/25/I95-54541"/>
        <updated>2024-04-25T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Recent changes to fix MTU to use the max device supported value causes the SSR to set MTU to 9K. However since NetVSC does not support Scatter RX, it fails to bind because the SSR uses packet buffers of size 2K, and cannot span multiple mbufs.]]></summary>
        <content type="html"><![CDATA[<p>Recent changes to fix MTU to use the max device supported value causes the SSR to set MTU to 9K. However since NetVSC does not support Scatter RX, it fails to bind because the SSR uses packet buffers of size 2K, and cannot span multiple mbufs.</p>
<p><strong>Issue ID:</strong> I95-54541<br>
<strong>Last Updated:</strong> 2024-04-25<br>
<strong>Introduced in SSR Version:</strong> 6.1.5</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="problem">Problem<a href="https://docs.128technology.com/kb/2024/04/25/I95-54541#problem" class="hash-link" aria-label="Direct link to Problem" title="Direct link to Problem">​</a></h3>
<p>NetVSC does not support Scatter RX, so with new changes to use 9K max RX, it is unable to span multipe 2K packet buffers. When matched with MLX in accelerated networking, the MLX device fails to initialize.
During device configuration, user specified MTU exceeding 2K will cause init failure for that device interface.</p>
<p>Limit the MTU (also max RX size in DPDK) of NetVSC devices to SSR packet buffer size.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="release-notes">Release Notes<a href="https://docs.128technology.com/kb/2024/04/25/I95-54541#release-notes" class="hash-link" aria-label="Direct link to Release Notes" title="Direct link to Release Notes">​</a></h3>
<p>Fixes an issue where device-interfaces configured in Azure VM would fail during initialization and port remains operationally down.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="severity">Severity<a href="https://docs.128technology.com/kb/2024/04/25/I95-54541#severity" class="hash-link" aria-label="Direct link to Severity" title="Direct link to Severity">​</a></h3>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><p>The potential impact of a software defect if encountered. Severity levels are:</p><ul>
<li>Critical: Could severely affect service, capacity/traffic, and maintenance capabilities. May have a prolonged impact to the entire system.</li>
<li>Major: Could seriously affect system operation, maintenance, administration and related tasks.</li>
<li>Minor: Would not significantly impair the functioning or affect service.</li>
</ul></div></div></details>
<p>Major</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="status">Status<a href="https://docs.128technology.com/kb/2024/04/25/I95-54541#status" class="hash-link" aria-label="Direct link to Status" title="Direct link to Status">​</a></h3>
<p>Closed</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="resolved-in">Resolved In<a href="https://docs.128technology.com/kb/2024/04/25/I95-54541#resolved-in" class="hash-link" aria-label="Direct link to Resolved In" title="Direct link to Resolved In">​</a></h3>
<p><a href="https://docs.128technology.com/docs/release_notes_128t_6.1#release-618-15-lts">6.1.8</a>,
<a href="https://docs.128technology.com/docs/release_notes_128t_6.2#release-624-14r2">6.2.4</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="product">Product<a href="https://docs.128technology.com/kb/2024/04/25/I95-54541#product" class="hash-link" aria-label="Direct link to Product" title="Direct link to Product">​</a></h3>
<p>Azure SSR AMI</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functional-area">Functional Area<a href="https://docs.128technology.com/kb/2024/04/25/I95-54541#functional-area" class="hash-link" aria-label="Direct link to Functional Area" title="Direct link to Functional Area">​</a></h3>
<p>Interface Binding</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="workaround">Workaround<a href="https://docs.128technology.com/kb/2024/04/25/I95-54541#workaround" class="hash-link" aria-label="Direct link to Workaround" title="Direct link to Workaround">​</a></h3>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><p>Juniper may provide a method to temporarily circumvent a problem; workarounds do not exist for all issues.</p></div></div></details>
<p>Disable the accelerated networking to allow the device to be bound via PCLI address instead of vmbus-id.</p>]]></content>
        <category label="6.1" term="6.1"/>
        <category label="6.1.5" term="6.1.5"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Application Identification incompatible with DSCP Steering]]></title>
        <id>https://docs.128technology.com/kb/2024/04/25/I95-56437</id>
        <link href="https://docs.128technology.com/kb/2024/04/25/I95-56437"/>
        <updated>2024-04-25T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Issue ID: I95-56437]]></summary>
        <content type="html"><![CDATA[<p><strong>Issue ID:</strong> I95-56437<br>
<strong>Last Updated:</strong> 2024-04-25<br>
<strong>Introduced in SSR Version:</strong> 5.6.13</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="problem">Problem<a href="https://docs.128technology.com/kb/2024/04/25/I95-56437#problem" class="hash-link" aria-label="Direct link to Problem" title="Direct link to Problem">​</a></h3>
<p>The app-id and dscp-steering features are incompatible.</p>
<p>If app-id is configured on a child service (application-name, domain-name, domain-name-category, url, subcategory) and also on the same service a dscp-range list is defined, this triggers a failure state when the configuration is committed, causing the service to be added/modified/removed twice during config processing (ServiceManager + AppIdManager).  The commit action fails, and any subsequent service config updates <em>within that failed config</em> are ignored.</p>
<p>The administrator will not be aware of a configuration issue. The only indication of the failure are log messages, as shown below.
<code>highway.log</code></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Apr 17 13:59:54.622 [HWMC|SVC ] WARN  (routingAgPoller) ServiceAddException: Failed to Add Service Audio.MicrosoftTeams</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Apr 17 13:59:54.622 [HWMC|SVC ] ERROR (routingAgPoller) ServiceManager failed to process config trackers</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="release-notes">Release Notes<a href="https://docs.128technology.com/kb/2024/04/25/I95-56437#release-notes" class="hash-link" aria-label="Direct link to Release Notes" title="Direct link to Release Notes">​</a></h3>
<p>The app-id and dscp-steering features are incompatible and should not be configured simultaneously; doing so will cause future commits to fail. Strict configuration validation has been added to prevent configuring both features simultaneously.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="severity">Severity<a href="https://docs.128technology.com/kb/2024/04/25/I95-56437#severity" class="hash-link" aria-label="Direct link to Severity" title="Direct link to Severity">​</a></h3>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><p>The potential impact of a software defect if encountered. Severity levels are:</p><ul>
<li>Critical: Could severely affect service, capacity/traffic, and maintenance capabilities. May have a prolonged impact to the entire system.</li>
<li>Major: Could seriously affect system operation, maintenance, administration and related tasks.</li>
<li>Minor: Would not significantly impair the functioning or affect service.</li>
</ul></div></div></details>
<p>Major</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="status">Status<a href="https://docs.128technology.com/kb/2024/04/25/I95-56437#status" class="hash-link" aria-label="Direct link to Status" title="Direct link to Status">​</a></h3>
<p>Open</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="resolved-in">Resolved In<a href="https://docs.128technology.com/kb/2024/04/25/I95-56437#resolved-in" class="hash-link" aria-label="Direct link to Resolved In" title="Direct link to Resolved In">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="product">Product<a href="https://docs.128technology.com/kb/2024/04/25/I95-56437#product" class="hash-link" aria-label="Direct link to Product" title="Direct link to Product">​</a></h3>
<p>SSR</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functional-area">Functional Area<a href="https://docs.128technology.com/kb/2024/04/25/I95-56437#functional-area" class="hash-link" aria-label="Direct link to Functional Area" title="Direct link to Functional Area">​</a></h3>
<p>Configuration</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="workaround">Workaround<a href="https://docs.128technology.com/kb/2024/04/25/I95-56437#workaround" class="hash-link" aria-label="Direct link to Workaround" title="Direct link to Workaround">​</a></h3>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><p>Juniper may provide a method to temporarily circumvent a problem; workarounds do not exist for all issues.</p></div></div></details>
<p>Disable the service, or delete the offending configuration.</p>]]></content>
        <category label="5.6" term="5.6"/>
        <category label="5.6.13" term="5.6.13"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Upgrade from 6.1 to 6.2 changes PCI mapping in AWS]]></title>
        <id>https://docs.128technology.com/kb/2024/04/25/I95-57085</id>
        <link href="https://docs.128technology.com/kb/2024/04/25/I95-57085"/>
        <updated>2024-04-25T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Existing device to PCI mappings are not persistent across software upgrades.]]></summary>
        <content type="html"><![CDATA[<p>Existing device to PCI mappings are not persistent across software upgrades.</p>
<p><strong>Issue ID:</strong> I95-57085<br>
<strong>Last Updated:</strong> 2024-04-25<br>
<strong>Introduced in SSR Version:</strong> 6.2.3</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="problem">Problem<a href="https://docs.128technology.com/kb/2024/04/25/I95-57085#problem" class="hash-link" aria-label="Direct link to Problem" title="Direct link to Problem">​</a></h3>
<p>Device interfaces that do not have consistent naming do not hold to consistent PCI mappings. This is a known behavior in Linux. See <a href="https://docs.128technology.com/kb/2024/04/25/I95-57085#workaround">workarounds</a></p>
<p>6.1 output</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@egress_us-gov-east-1b_router2_i-0dc522cf745932463 bin]# lshw -c network -businfo</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Bus info         Device Class         Description</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">====================================================</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:05.0 ens5   network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:06.0 eth7   network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:07.0 eth6   network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:08.0 eth5   network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:09.0 eth4   network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:0a.0 ens10  network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:0b.0 ens11  network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:0c.0 ens12  network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:0d.0 ens13  network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:0e.0 eth3   network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:0f.0 eth2   network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:10.0 eth1   network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:11.0 eth0   network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:12.0 ens18  network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:13.0 ens19  network       Elastic Network Adapter (ENA)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>6.2 output. Note the changes to the <code>eth</code> interfaces. <code>ens</code> interfaces remain consistent.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@egress_us-gov-east-1a_router1_i-02d02f0ad597702e6 bin]# lshw -c network -businfo</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Bus info         Device Class         Description</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">====================================================</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:05.0 ens5   network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:06.0 eth5   network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:07.0 eth4   network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:08.0 eth3   network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:09.0 eth6   network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:0a.0 ens10  network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:0b.0 ens11  network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:0c.0 ens12  network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:0d.0 ens13  network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:0e.0 eth7   network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:0f.0 eth2   network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:10.0 eth1   network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:11.0 eth0   network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:12.0 ens18  network       Elastic Network Adapter (ENA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pci@0000:00:13.0 ens19  network       Elastic Network Adapter (ENA)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="release-notes">Release Notes<a href="https://docs.128technology.com/kb/2024/04/25/I95-57085#release-notes" class="hash-link" aria-label="Direct link to Release Notes" title="Direct link to Release Notes">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="severity">Severity<a href="https://docs.128technology.com/kb/2024/04/25/I95-57085#severity" class="hash-link" aria-label="Direct link to Severity" title="Direct link to Severity">​</a></h3>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><p>The potential impact of a software defect if encountered. Severity levels are:</p><ul>
<li>Critical: Could severely affect service, capacity/traffic, and maintenance capabilities. May have a prolonged impact to the entire system.</li>
<li>Major: Could seriously affect system operation, maintenance, administration and related tasks.</li>
<li>Minor: Would not significantly impair the functioning or affect service.</li>
</ul></div></div></details>
<p>Minor</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="status">Status<a href="https://docs.128technology.com/kb/2024/04/25/I95-57085#status" class="hash-link" aria-label="Direct link to Status" title="Direct link to Status">​</a></h3>
<p>Open</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="resolved-in">Resolved In<a href="https://docs.128technology.com/kb/2024/04/25/I95-57085#resolved-in" class="hash-link" aria-label="Direct link to Resolved In" title="Direct link to Resolved In">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="product">Product<a href="https://docs.128technology.com/kb/2024/04/25/I95-57085#product" class="hash-link" aria-label="Direct link to Product" title="Direct link to Product">​</a></h3>
<p>AWS SSR AMI</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functional-area">Functional Area<a href="https://docs.128technology.com/kb/2024/04/25/I95-57085#functional-area" class="hash-link" aria-label="Direct link to Functional Area" title="Direct link to Functional Area">​</a></h3>
<p>Interface Binding</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="workaround">Workaround<a href="https://docs.128technology.com/kb/2024/04/25/I95-57085#workaround" class="hash-link" aria-label="Direct link to Workaround" title="Direct link to Workaround">​</a></h3>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><p>Juniper may provide a method to temporarily circumvent a problem; workarounds do not exist for all issues.</p></div></div></details>
<p><a href="https://support.oracle.com/knowledge/Oracle%20Linux%20and%20Virtualization/2521902_1.html" target="_blank" rel="noopener noreferrer">Give Network Interfaces Persistent Names Without Changing The GRUB Boot Configuration (Kernel Parameter biosdevname Or net.ifnames)</a></p>]]></content>
        <category label="6.2" term="6.2"/>
        <category label="6.2.3-r2" term="6.2.3-r2"/>
    </entry>
</feed>