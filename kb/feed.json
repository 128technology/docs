{
    "version": "https://jsonfeed.org/version/1",
    "title": "SSR Knowledge Base Articles",
    "home_page_url": "https://docs.128technology.com/kb",
    "description": "Session Smart Router Knowledge Base Articles",
    "items": [
        {
            "id": "https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550",
            "content_html": "<p>Highway process can get stuck on startup due to DNS related race conditions for IPSec tunnels.</p>\n<p><strong>Issue ID:</strong> PLUGIN-2550</p>\n<p><strong>Last Updated:</strong> 2024-08-05</p>\n<p><strong>Introduced in Plugin Version:</strong> 128T-ipsec-client-3.6.1</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"problem\">Problem<a href=\"https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550#problem\" class=\"hash-link\" aria-label=\"Direct link to Problem\" title=\"Direct link to Problem\">​</a></h3>\n<p>The IPSec client plugin (3.6.1) attempted to correct a run time race condition between IPSec tunnel starting before DNS was fully operational in the IPSec namespace. Two changes were made to resolve this issue:</p>\n<ol>\n<li>A verification step was added to ensure successful DNS resolution before starting IPsec tunnel.</li>\n<li>A watch dog service was added to monitor IPSec tunnel services and restart them every 30 seconds if not.</li>\n</ol>\n<p>During the initial boot process of a router with the IPSec plugin enabled, the WAN interfaces can take some time to fully come up, creating two interactions with the IPSec controller:</p>\n<ul>\n<li>Each call to verify DNS resolution can take up to 6 mins 40 seconds to timeout since the network is unreachable.</li>\n</ul>\n<div class=\"theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary\"><div class=\"admonitionHeading_Gvgb\"><span class=\"admonitionIcon_Rf37\"><svg viewBox=\"0 0 14 16\"><path fill-rule=\"evenodd\" d=\"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z\"></path></svg></span>note</div><div class=\"admonitionContent_BuS1\"><p>During normal operation this verification process ranges from a few hundred milliseconds to a few seconds.</p></div></div>\n<ul>\n<li>The watchdog, in an attempt to start the failed IPsec tunnel service, initiates another verify DNS resolution API call.</li>\n</ul>\n<p>Due to the delayed initialization of the WAN interfaces, the IPSec controller would get backed up with health-check tasks. This backlog prevented the forwarding plane from initializing the device interfaces. In the instance of the reproduction, there was a backlog of 9 hours before the API call from the forwarding plane could be processed. This was verified by letting the reproduction system stay in the stuck state for more than 9 hours. The device interfaces eventually updated the operational status of the Broadband interfaces.</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"release-notes\">Release Notes<a href=\"https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550#release-notes\" class=\"hash-link\" aria-label=\"Direct link to Release Notes\" title=\"Direct link to Release Notes\">​</a></h3>\n<p>Resolved the startup race condition by enforcing stricter default timeouts for DNS operations.</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"severity\">Severity<a href=\"https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550#severity\" class=\"hash-link\" aria-label=\"Direct link to Severity\" title=\"Direct link to Severity\">​</a></h3>\n<details class=\"details_lb9f alert alert--info details_b_Ee\" data-collapsed=\"true\"><summary>Details</summary><div><div class=\"collapsibleContent_i85q\"><p>The potential impact of a software defect if encountered. Severity levels are:</p><ul>\n<li>Critical: Could severely affect service, capacity/traffic, and maintenance capabilities. May have a prolonged impact to the entire system.</li>\n<li>Major: Could seriously affect system operation, maintenance, administration and related tasks.</li>\n<li>Minor: Would not significantly impair the functioning or affect service.</li>\n</ul></div></div></details>\n<p>Major</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"status\">Status<a href=\"https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550#status\" class=\"hash-link\" aria-label=\"Direct link to Status\" title=\"Direct link to Status\">​</a></h3>\n<p>Resolved</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"resolved-in\">Resolved In<a href=\"https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550#resolved-in\" class=\"hash-link\" aria-label=\"Direct link to Resolved In\" title=\"Direct link to Resolved In\">​</a></h3>\n<p><a href=\"https://docs.128technology.com/docs/plugin_ipsec_client#release-362\">IPSEC Client Plugin Release 3.6.2</a></p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"product\">Product<a href=\"https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550#product\" class=\"hash-link\" aria-label=\"Direct link to Product\" title=\"Direct link to Product\">​</a></h3>\n<p>SSR</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"functional-area\">Functional Area<a href=\"https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550#functional-area\" class=\"hash-link\" aria-label=\"Direct link to Functional Area\" title=\"Direct link to Functional Area\">​</a></h3>\n<p>IPSec Client Plugin</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"workaround\">Workaround<a href=\"https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550#workaround\" class=\"hash-link\" aria-label=\"Direct link to Workaround\" title=\"Direct link to Workaround\">​</a></h3>\n<details class=\"details_lb9f alert alert--info details_b_Ee\" data-collapsed=\"true\"><summary>Details</summary><div><div class=\"collapsibleContent_i85q\"><p>Juniper may provide a method to temporarily circumvent a problem; workarounds do not exist for all issues.</p></div></div></details>\n<h4 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"disable-ipsec-client\">Disable IPSec client<a href=\"https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550#disable-ipsec-client\" class=\"hash-link\" aria-label=\"Direct link to Disable IPSec client\" title=\"Direct link to Disable IPSec client\">​</a></h4>\n<p>While the issue does not happen in every environment, one option is to temporarily disable the IPSec plugin for planned reboot of devices.</p>\n<h4 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"monitor-and-restart-the-ipsec-controller\">Monitor and restart the IPSec controller<a href=\"https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550#monitor-and-restart-the-ipsec-controller\" class=\"hash-link\" aria-label=\"Direct link to Monitor and restart the IPSec controller\" title=\"Direct link to Monitor and restart the IPSec controller\">​</a></h4>\n<p>Once the system is in the problem state, the following steps can be performed from the linux shell to unblock the highway process:</p>\n<ul>\n<li><code>systemctl stop ipsec-controller</code></li>\n<li>Wait for the interfaces and peers over WAN interfaces to come up</li>\n<li><code>touch /var/lib/128technology/plugins/ipsec/config.json</code>\n<ul>\n<li>This will restart the IPSec controller and other necessary services</li>\n</ul>\n</li>\n</ul>",
            "url": "https://docs.128technology.com/kb/2024/08/05/PLUGIN-2550",
            "title": "Highway stuck on startup when IPsec is enabled",
            "summary": "Highway process can get stuck on startup due to DNS related race conditions for IPSec tunnels.",
            "date_modified": "2024-08-05T00:00:00.000Z",
            "tags": [
                "ipsec-client-3.6.1"
            ]
        },
        {
            "id": "https://docs.128technology.com/kb/2024/06/25/I95-54838",
            "content_html": "<p>Large systems with multiple CPU's and many interfaces configured may not initialize the configured interfaces.</p>\n<p><strong>Issue ID:</strong> I95-54838<br>\n<strong>Last Updated:</strong> 2024-06-25<br>\n<strong>Introduced in SSR Version:</strong> 6.2.3</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"problem\">Problem<a href=\"https://docs.128technology.com/kb/2024/06/25/I95-54838#problem\" class=\"hash-link\" aria-label=\"Direct link to Problem\" title=\"Direct link to Problem\">​</a></h3>\n<p>Large systems with multiple CPU's and many interfaces configured may not initialize the configured interfaces. A large system in this context is one with a core count greater than 30, and more than 10 interfaces. These systems may not initialize the configured interfaces, resulting in a <code>MemoryAllocationException</code> in the <code>Device Disabled Error Reason</code> section of the <code>show device-interface detail</code> command output.</p>\n<p>Currently known systems exhibiting this issue are the <strong>SSR1500</strong>, <strong>Dell 7515</strong>, and <strong>AWS c5.18xlarge</strong>, running SSR software version 6.2.3 or greater. Currently deployed SSR1500's running earlier versions of software will experience this issue when they are upgraded to version 6.2.3 or greater.</p>\n<p>This issue is under investigation and will be resolved in a future release.</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"release-notes\">Release Notes<a href=\"https://docs.128technology.com/kb/2024/06/25/I95-54838#release-notes\" class=\"hash-link\" aria-label=\"Direct link to Release Notes\" title=\"Direct link to Release Notes\">​</a></h3>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"severity\">Severity<a href=\"https://docs.128technology.com/kb/2024/06/25/I95-54838#severity\" class=\"hash-link\" aria-label=\"Direct link to Severity\" title=\"Direct link to Severity\">​</a></h3>\n<details class=\"details_lb9f alert alert--info details_b_Ee\" data-collapsed=\"true\"><summary>Details</summary><div><div class=\"collapsibleContent_i85q\"><p>The potential impact of a software defect if encountered. Severity levels are:</p><ul>\n<li>Critical: Could severely affect service, capacity/traffic, and maintenance capabilities. May have a prolonged impact to the entire system.</li>\n<li>Major: Could seriously affect system operation, maintenance, administration and related tasks.</li>\n<li>Minor: Would not significantly impair the functioning or affect service.</li>\n</ul></div></div></details>\n<p>Major</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"status\">Status<a href=\"https://docs.128technology.com/kb/2024/06/25/I95-54838#status\" class=\"hash-link\" aria-label=\"Direct link to Status\" title=\"Direct link to Status\">​</a></h3>\n<p>Open</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"resolved-in\">Resolved In<a href=\"https://docs.128technology.com/kb/2024/06/25/I95-54838#resolved-in\" class=\"hash-link\" aria-label=\"Direct link to Resolved In\" title=\"Direct link to Resolved In\">​</a></h3>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"product\">Product<a href=\"https://docs.128technology.com/kb/2024/06/25/I95-54838#product\" class=\"hash-link\" aria-label=\"Direct link to Product\" title=\"Direct link to Product\">​</a></h3>\n<p>AWS SSR Third-party</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"functional-area\">Functional Area<a href=\"https://docs.128technology.com/kb/2024/06/25/I95-54838#functional-area\" class=\"hash-link\" aria-label=\"Direct link to Functional Area\" title=\"Direct link to Functional Area\">​</a></h3>\n<p>Interface Binding</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"workaround\">Workaround<a href=\"https://docs.128technology.com/kb/2024/06/25/I95-54838#workaround\" class=\"hash-link\" aria-label=\"Direct link to Workaround\" title=\"Direct link to Workaround\">​</a></h3>\n<details class=\"details_lb9f alert alert--info details_b_Ee\" data-collapsed=\"true\"><summary>Details</summary><div><div class=\"collapsibleContent_i85q\"><p>Juniper may provide a method to temporarily circumvent a problem; workarounds do not exist for all issues.</p></div></div></details>\n<ul>\n<li><strong>SSR1500:</strong> Configure 8 or fewer interfaces.</li>\n<li><strong>Dell R7515:</strong> With hugepages of 31G, configure no more than 4 interfaces. With hugepages of 58G, configure no more that 8 interfaces.</li>\n<li><strong>AWS c5.18xlarge:</strong> Systematically reduce the number of interaces until the remaining interfaces become active.</li>\n</ul>",
            "url": "https://docs.128technology.com/kb/2024/06/25/I95-54838",
            "title": "Memory Allocation Exception in Device Disabled Error output",
            "summary": "Large systems with multiple CPU's and many interfaces configured may not initialize the configured interfaces.",
            "date_modified": "2024-06-25T00:00:00.000Z",
            "tags": [
                "6.2",
                "6.2.3-r2"
            ]
        },
        {
            "id": "https://docs.128technology.com/kb/2024/05/29/I95-56484",
            "content_html": "<p>Changes to use a new database in the app-id engine have introduced high memory utilization for the application-director.</p>\n<p><strong>Issue ID:</strong> I95-56484</p>\n<p><strong>Last Updated:</strong> 2024-05-29</p>\n<p><strong>Introduced in SSR Version:</strong> 6.2.3</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"problem\">Problem<a href=\"https://docs.128technology.com/kb/2024/05/29/I95-56484#problem\" class=\"hash-link\" aria-label=\"Direct link to Problem\" title=\"Direct link to Problem\">​</a></h3>\n<p>The application-director has a race condition that can occur during app-id module updates, app-id database reloads, and configuration changes.</p>\n<p>It is possible that stale connections to a database will utilize excessive memory over a long duration (application-director uptime).</p>\n<p>The administrator might notice alarms for high system memory and an Application Director alarm with the message <code>IP Database reload failed.</code></p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"release-notes\">Release Notes<a href=\"https://docs.128technology.com/kb/2024/05/29/I95-56484#release-notes\" class=\"hash-link\" aria-label=\"Direct link to Release Notes\" title=\"Direct link to Release Notes\">​</a></h3>\n<p>Resolve application-director stale database connection memory leak.</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"severity\">Severity<a href=\"https://docs.128technology.com/kb/2024/05/29/I95-56484#severity\" class=\"hash-link\" aria-label=\"Direct link to Severity\" title=\"Direct link to Severity\">​</a></h3>\n<details class=\"details_lb9f alert alert--info details_b_Ee\" data-collapsed=\"true\"><summary>Details</summary><div><div class=\"collapsibleContent_i85q\"><p>The potential impact of a software defect if encountered. Severity levels are:</p><ul>\n<li>Critical: Could severely affect service, capacity/traffic, and maintenance capabilities. May have a prolonged impact to the entire system.</li>\n<li>Major: Could seriously affect system operation, maintenance, administration and related tasks.</li>\n<li>Minor: Would not significantly impair the functioning or affect service.</li>\n</ul></div></div></details>\n<p>Major</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"status\">Status<a href=\"https://docs.128technology.com/kb/2024/05/29/I95-56484#status\" class=\"hash-link\" aria-label=\"Direct link to Status\" title=\"Direct link to Status\">​</a></h3>\n<p>Resolved</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"resolved-in\">Resolved In<a href=\"https://docs.128technology.com/kb/2024/05/29/I95-56484#resolved-in\" class=\"hash-link\" aria-label=\"Direct link to Resolved In\" title=\"Direct link to Resolved In\">​</a></h3>\n<p><a href=\"https://docs.128technology.com/docs/release_notes_128t_6.2#release-625-5r2\">6.2.5</a></p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"product\">Product<a href=\"https://docs.128technology.com/kb/2024/05/29/I95-56484#product\" class=\"hash-link\" aria-label=\"Direct link to Product\" title=\"Direct link to Product\">​</a></h3>\n<p>SSR</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"functional-area\">Functional Area<a href=\"https://docs.128technology.com/kb/2024/05/29/I95-56484#functional-area\" class=\"hash-link\" aria-label=\"Direct link to Functional Area\" title=\"Direct link to Functional Area\">​</a></h3>\n<p>System Health</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"workaround\">Workaround<a href=\"https://docs.128technology.com/kb/2024/05/29/I95-56484#workaround\" class=\"hash-link\" aria-label=\"Direct link to Workaround\" title=\"Direct link to Workaround\">​</a></h3>\n<details class=\"details_lb9f alert alert--info details_b_Ee\" data-collapsed=\"true\"><summary>Details</summary><div><div class=\"collapsibleContent_i85q\"><p>Juniper may provide a method to temporarily circumvent a problem; workarounds do not exist for all issues.</p></div></div></details>\n<p>Utilizing SSR metrics data, custom charts can be used to view memory usage over time to identify processes that are increasing. Also, the PCLI provides a way to view current process memory utilization and a way to compare the current value a previous point in time.</p>\n<div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">admin@node.router# show stats process memory process-name application-director</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Thu 2024-05-30 20:38:03 UTC</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">✔ Retrieving statistics...</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Process Memory Metrics</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">----------------------</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">======== ====== ====================== ============</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\"> Metric   Node   Process-name                Value</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">======== ====== ====================== ============</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\"> rss      node   application-director     61681664</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\"> vsz      node   application-director   1589444608</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>The above values will appear as bytes. Shown below is comparing the current value to 10 days prior.</p>\n<div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">admin@node.router# show stats process memory process-name application-director since 10d</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Thu 2024-05-30 20:52:39 UTC</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">✔ Retrieving statistics...</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Since: 2024-05-20 20:52:39</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Process Memory Metrics</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">----------------------</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">======== ====== ====================== =========</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\"> Metric   Node   Process-name             Value</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">======== ====== ====================== =========</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\"> rss      node   application-director   1171456</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\"> vsz      node   application-director         0</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>In this case, the delta is 10Mb which is normal operating behavior.</p>\n<p>However, if the deltas over time are increasing significantly such that the current utilization has doubled or tripled, this is a good indicator that this issue is occurring.</p>\n<p>If you have confirmed the <code>application-director</code> has significant memory increases over time, the service can be restarted on the offending device using <code>systemctl restart application-director</code> as a privileged User.</p>",
            "url": "https://docs.128technology.com/kb/2024/05/29/I95-56484",
            "title": "High Memory usage for application-director",
            "summary": "Changes to use a new database in the app-id engine have introduced high memory utilization for the application-director.",
            "date_modified": "2024-05-29T00:00:00.000Z",
            "tags": [
                "6.2.3",
                "6.2.4"
            ]
        },
        {
            "id": "https://docs.128technology.com/kb/2024/04/25/I95-56233",
            "content_html": "<p>Packet forwarding on the SSR stops after several hours of runtime in AWS when using Elastic Network Adapter (ENA) driver.</p>\n<p><strong>Issue ID:</strong> I95-56233<br>\n<strong>Last Updated:</strong> 2024-04-26<br>\n<strong>Introduced in SSR Version:</strong> 6.1.7</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"problem\">Problem<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-56233#problem\" class=\"hash-link\" aria-label=\"Direct link to Problem\" title=\"Direct link to Problem\">​</a></h3>\n<p>The ENA command-queue becomes unresponsive (device not responding) and the interface no longer passes traffic.</p>\n<p>Indications of the symptoms can be observed by viewing the output of <code>show device-interface extended-statistics</code>.\nThere will be an excessive amount of rx errors indicated by the system.</p>\n<div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\"> Extended Statistics:</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   bw_in_allowance_exceeded:                0</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   bw_out_allowance_exceeded:               0</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   conntrack_allowance_exceeded:            0</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   dev_start:                               0</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   dev_stop:                                0</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   device_port:                             4</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   dpdk_port:                               0</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   linklocal_allowance_exceeded:            0</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   pps_allowance_exceeded:                  0</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   rx_errors:                 139836994071144</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   rx_good_bytes:                           0</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   rx_good_packets:                         0</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   rx_mbuf_allocation_errors: 139838439323150</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   rx_missed_errors:          139837561586960</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   rx_q0_bytes:                       1876012</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   rx_q0_cnt:                               0</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   rx_q0_errors:                      2734322</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   rx_q0_l3_csum_bad:                       0</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   rx_q0_l4_csum_bad:                       0</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   rx_q0_l4_csum_good:                      0</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   rx_q0_packets:                   875075952</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   rx_q0_refill_partial:                    0</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   rx_q1_bytes:                       1862808</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   rx_q1_cnt:                               0</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">   rx_q1_errors:                      2100224</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>Additionally, the following log messages provide evidence of the failure event:\n<code>DPDK.log</code></p>\n<div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Apr 02 23:47:22.351 [DPDK| -- ] ERROR (deviceManagerTP) [ENA_COM: ena_com_wait_and_process_admin_cq_interrupts]Timeout waiting for comp_ctx-&gt;wait_event</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Apr 02 23:47:22.351 [DPDK| -- ] ERROR (deviceManagerTP) [ENA_COM: ena_com_wait_and_process_admin_cq_interrupts]The ena device didn't send a completion for the admin cmd 11 status 0</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Apr 02 23:47:22.351 [DPDK| -- ] ERROR (deviceManagerTP) [ENA_COM: ena_get_dev_stats]Failed to get stats. error: -62</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Apr 02 23:47:22.351 [DPDK| -- ] ERROR (deviceManagerTP) ena_stats_get(): Could not retrieve statistics from ENA</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Apr 02 23:47:25.352 [DPDK| -- ] ERROR (deviceManagerTP) [ENA_COM: ena_com_wait_and_process_admin_cq_interrupts]Timeout waiting for comp_ctx-&gt;wait_event</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Apr 02 23:47:25.352 [DPDK| -- ] ERROR (deviceManagerTP) [ENA_COM: ena_com_wait_and_process_admin_cq_interrupts]The ena device didn't send a completion for the admin cmd 11 status 0</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Apr 02 23:47:25.352 [DPDK| -- ] ERROR (deviceManagerTP) [ENA_COM: ena_get_dev_stats]Failed to get stats. error: -62</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Apr 02 23:47:25.352 [DPDK| -- ] ERROR (deviceManagerTP) ena_stats_get(): Could not retrieve statistics from ENA</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Apr 02 23:47:26.353 [DPDK| -- ] ERROR (deviceManagerTP) [ENA_COM: ena_get_dev_stats]Failed to get stats. error: -19</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Apr 02 23:47:26.353 [DPDK| -- ] ERROR (deviceManagerTP) ena_stats_get(): Could not retrieve statistics from ENA</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Apr 02 23:47:26.354 [DPDK| -- ] ERROR (deviceManagerTP) [ENA_COM: ena_get_dev_stats]Failed to get stats. error: -19</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p><code>journal.log</code></p>\n<div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Apr 03 08:26:02.642583 relayroutereast001 highway[9604]: Failed to queue packet; No ARP for x.x.x.1, interface 1.0, ex: ArpEntryPendException: Pend list max size of 5 exceeded</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Apr 03 08:26:02.642595 relayroutereast001 highway[9604]: Send packet failed for session remote-host:  ip-address: x.x.x.1; local-ip x.x.x.242; local-intf: 1.0; peer-name Router11-W</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p><code>highway.log</code></p>\n<div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Apr 03 09:25:35.173 [LINK|BFDS] ERROR (bfdAgentTP     ) Failed to queue packet; No ARP for x.x.x.195, interface 1.0, ex: ArpEntryPendException: Pend list max size of 5 exceeded</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Apr 03 09:25:35.173 [LINK|BFDS] ERROR (bfdAgentTP     ) Send packet failed for session remote-host:  ip-address: x.x.x.195; local-ip x.x.x.242; local-intf: 1.0; peer-name RelayRouter001</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"release-notes\">Release Notes<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-56233#release-notes\" class=\"hash-link\" aria-label=\"Direct link to Release Notes\" title=\"Direct link to Release Notes\">​</a></h3>\n<p>The ENA command-queue becomes unresponsive (device not responding) and the interface no longer passes traffic.</p>\n<p>Updated ENA device driver from DPDK/Amazon (upgrading driver from 2.6.0 to 2.9.0).\n<a href=\"https://github.com/amzn/amzn-drivers/blob/master/kernel/linux/ena/RELEASENOTES.md\" target=\"_blank\" rel=\"noopener noreferrer\">ENA release notes</a></p>\n<p>ENA supports health checks which can be used to detect faulty behavior of the hardware and the driver. As such, an ENA driver watchdog has been developed to check for the following reset reasons:</p>\n<ul>\n<li>HW unresponsiveness – Driver detected that the periodic keep alive signals stopped arriving from the HW through the Asynchronous Event Notification Queue (AENQ).</li>\n<li>Faulty admin queue behavior – The admin queue entered a faulty state.</li>\n<li>Faulty behavior on the IO path – The device returned invalid descriptors or caused the driver to enter the invalid state.</li>\n<li>Missing Tx completions exceeds a dynamically calculated threshold - Prevent Tx ring stalls in case Tx descriptors were not returned by the HW.</li>\n</ul>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"severity\">Severity<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-56233#severity\" class=\"hash-link\" aria-label=\"Direct link to Severity\" title=\"Direct link to Severity\">​</a></h3>\n<details class=\"details_lb9f alert alert--info details_b_Ee\" data-collapsed=\"true\"><summary>Details</summary><div><div class=\"collapsibleContent_i85q\"><p>The potential impact of a software defect if encountered. Severity levels are:</p><ul>\n<li>Critical: Could severely affect service, capacity/traffic, and maintenance capabilities. May have a prolonged impact to the entire system.</li>\n<li>Major: Could seriously affect system operation, maintenance, administration and related tasks.</li>\n<li>Minor: Would not significantly impair the functioning or affect service.</li>\n</ul></div></div></details>\n<p>Critical</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"status\">Status<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-56233#status\" class=\"hash-link\" aria-label=\"Direct link to Status\" title=\"Direct link to Status\">​</a></h3>\n<p>Open</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"resolved-in\">Resolved In<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-56233#resolved-in\" class=\"hash-link\" aria-label=\"Direct link to Resolved In\" title=\"Direct link to Resolved In\">​</a></h3>\n<p><a href=\"https://docs.128technology.com/docs/release_notes_128t_6.2#release-626-15r2\">6.2.6</a></p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"product\">Product<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-56233#product\" class=\"hash-link\" aria-label=\"Direct link to Product\" title=\"Direct link to Product\">​</a></h3>\n<p>SSR</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"functional-area\">Functional Area<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-56233#functional-area\" class=\"hash-link\" aria-label=\"Direct link to Functional Area\" title=\"Direct link to Functional Area\">​</a></h3>\n<p>Datapath</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"workaround\">Workaround<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-56233#workaround\" class=\"hash-link\" aria-label=\"Direct link to Workaround\" title=\"Direct link to Workaround\">​</a></h3>\n<div class=\"theme-admonition theme-admonition-info admonition_xJq3 alert alert--info\"><div class=\"admonitionHeading_Gvgb\"><span class=\"admonitionIcon_Rf37\"><svg viewBox=\"0 0 14 16\"><path fill-rule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg></span>info</div><div class=\"admonitionContent_BuS1\"><p>Juniper may provide a method to temporarily circumvent a problem; workarounds do not exist for all issues.</p></div></div>\n<p>Disable enhanced networking in AWS instance.</p>\n<p>A restart of the SSR is necessary to remediate this condition:\n<code>systemctl restart 128T</code></p>",
            "url": "https://docs.128technology.com/kb/2024/04/25/I95-56233",
            "title": "Packet forwarding stops in AWS after several hours",
            "summary": "Packet forwarding on the SSR stops after several hours of runtime in AWS when using Elastic Network Adapter (ENA) driver.",
            "date_modified": "2024-04-26T00:00:00.000Z",
            "tags": [
                "6.1",
                "6.1.7"
            ]
        },
        {
            "id": "https://docs.128technology.com/kb/2024/04/25/I95-54541",
            "content_html": "<p>Recent changes to fix MTU to use the max device supported value causes the SSR to set MTU to 9K. However since NetVSC does not support Scatter RX, it fails to bind because the SSR uses packet buffers of size 2K, and cannot span multiple mbufs.</p>\n<p><strong>Issue ID:</strong> I95-54541<br>\n<strong>Last Updated:</strong> 2024-04-25<br>\n<strong>Introduced in SSR Version:</strong> 6.1.5</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"problem\">Problem<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-54541#problem\" class=\"hash-link\" aria-label=\"Direct link to Problem\" title=\"Direct link to Problem\">​</a></h3>\n<p>NetVSC does not support Scatter RX, so with new changes to use 9K max RX, it is unable to span multipe 2K packet buffers. When matched with MLX in accelerated networking, the MLX device fails to initialize.\nDuring device configuration, user specified MTU exceeding 2K will cause init failure for that device interface.</p>\n<p>Limit the MTU (also max RX size in DPDK) of NetVSC devices to SSR packet buffer size.</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"release-notes\">Release Notes<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-54541#release-notes\" class=\"hash-link\" aria-label=\"Direct link to Release Notes\" title=\"Direct link to Release Notes\">​</a></h3>\n<p>Fixes an issue where device-interfaces configured in Azure VM would fail during initialization and port remains operationally down.</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"severity\">Severity<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-54541#severity\" class=\"hash-link\" aria-label=\"Direct link to Severity\" title=\"Direct link to Severity\">​</a></h3>\n<details class=\"details_lb9f alert alert--info details_b_Ee\" data-collapsed=\"true\"><summary>Details</summary><div><div class=\"collapsibleContent_i85q\"><p>The potential impact of a software defect if encountered. Severity levels are:</p><ul>\n<li>Critical: Could severely affect service, capacity/traffic, and maintenance capabilities. May have a prolonged impact to the entire system.</li>\n<li>Major: Could seriously affect system operation, maintenance, administration and related tasks.</li>\n<li>Minor: Would not significantly impair the functioning or affect service.</li>\n</ul></div></div></details>\n<p>Major</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"status\">Status<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-54541#status\" class=\"hash-link\" aria-label=\"Direct link to Status\" title=\"Direct link to Status\">​</a></h3>\n<p>Closed</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"resolved-in\">Resolved In<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-54541#resolved-in\" class=\"hash-link\" aria-label=\"Direct link to Resolved In\" title=\"Direct link to Resolved In\">​</a></h3>\n<p><a href=\"https://docs.128technology.com/docs/release_notes_128t_6.1#release-618-15\">6.1.8</a>,\n<a href=\"https://docs.128technology.com/docs/release_notes_128t_6.2#release-624-14r2\">6.2.4</a></p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"product\">Product<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-54541#product\" class=\"hash-link\" aria-label=\"Direct link to Product\" title=\"Direct link to Product\">​</a></h3>\n<p>Azure SSR AMI</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"functional-area\">Functional Area<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-54541#functional-area\" class=\"hash-link\" aria-label=\"Direct link to Functional Area\" title=\"Direct link to Functional Area\">​</a></h3>\n<p>Interface Binding</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"workaround\">Workaround<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-54541#workaround\" class=\"hash-link\" aria-label=\"Direct link to Workaround\" title=\"Direct link to Workaround\">​</a></h3>\n<details class=\"details_lb9f alert alert--info details_b_Ee\" data-collapsed=\"true\"><summary>Details</summary><div><div class=\"collapsibleContent_i85q\"><p>Juniper may provide a method to temporarily circumvent a problem; workarounds do not exist for all issues.</p></div></div></details>\n<p>Disable the accelerated networking to allow the device to be bound via PCLI address instead of vmbus-id.</p>",
            "url": "https://docs.128technology.com/kb/2024/04/25/I95-54541",
            "title": "Unable to bind accelerated networking interfaces in Azure when using vmbus-id",
            "summary": "Recent changes to fix MTU to use the max device supported value causes the SSR to set MTU to 9K. However since NetVSC does not support Scatter RX, it fails to bind because the SSR uses packet buffers of size 2K, and cannot span multiple mbufs.",
            "date_modified": "2024-04-25T00:00:00.000Z",
            "tags": [
                "6.1",
                "6.1.5"
            ]
        },
        {
            "id": "https://docs.128technology.com/kb/2024/04/25/I95-56437",
            "content_html": "<p><strong>Issue ID:</strong> I95-56437<br>\n<strong>Last Updated:</strong> 2024-04-25<br>\n<strong>Introduced in SSR Version:</strong> 5.6.13</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"problem\">Problem<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-56437#problem\" class=\"hash-link\" aria-label=\"Direct link to Problem\" title=\"Direct link to Problem\">​</a></h3>\n<p>The app-id and dscp-steering features are incompatible.</p>\n<p>If app-id is configured on a child service (application-name, domain-name, domain-name-category, url, subcategory) and also on the same service a dscp-range list is defined, this triggers a failure state when the configuration is committed, causing the service to be added/modified/removed twice during config processing (ServiceManager + AppIdManager).  The commit action fails, and any subsequent service config updates <em>within that failed config</em> are ignored.</p>\n<p>The administrator will not be aware of a configuration issue. The only indication of the failure are log messages, as shown below.\n<code>highway.log</code></p>\n<div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Apr 17 13:59:54.622 [HWMC|SVC ] WARN  (routingAgPoller) ServiceAddException: Failed to Add Service Audio.MicrosoftTeams</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Apr 17 13:59:54.622 [HWMC|SVC ] ERROR (routingAgPoller) ServiceManager failed to process config trackers</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"release-notes\">Release Notes<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-56437#release-notes\" class=\"hash-link\" aria-label=\"Direct link to Release Notes\" title=\"Direct link to Release Notes\">​</a></h3>\n<p>The app-id and dscp-steering features are incompatible and should not be configured simultaneously; doing so will cause future commits to fail. Strict configuration validation has been added to prevent configuring both features simultaneously.</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"severity\">Severity<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-56437#severity\" class=\"hash-link\" aria-label=\"Direct link to Severity\" title=\"Direct link to Severity\">​</a></h3>\n<details class=\"details_lb9f alert alert--info details_b_Ee\" data-collapsed=\"true\"><summary>Details</summary><div><div class=\"collapsibleContent_i85q\"><p>The potential impact of a software defect if encountered. Severity levels are:</p><ul>\n<li>Critical: Could severely affect service, capacity/traffic, and maintenance capabilities. May have a prolonged impact to the entire system.</li>\n<li>Major: Could seriously affect system operation, maintenance, administration and related tasks.</li>\n<li>Minor: Would not significantly impair the functioning or affect service.</li>\n</ul></div></div></details>\n<p>Major</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"status\">Status<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-56437#status\" class=\"hash-link\" aria-label=\"Direct link to Status\" title=\"Direct link to Status\">​</a></h3>\n<p>Open</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"resolved-in\">Resolved In<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-56437#resolved-in\" class=\"hash-link\" aria-label=\"Direct link to Resolved In\" title=\"Direct link to Resolved In\">​</a></h3>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"product\">Product<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-56437#product\" class=\"hash-link\" aria-label=\"Direct link to Product\" title=\"Direct link to Product\">​</a></h3>\n<p>SSR</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"functional-area\">Functional Area<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-56437#functional-area\" class=\"hash-link\" aria-label=\"Direct link to Functional Area\" title=\"Direct link to Functional Area\">​</a></h3>\n<p>Configuration</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"workaround\">Workaround<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-56437#workaround\" class=\"hash-link\" aria-label=\"Direct link to Workaround\" title=\"Direct link to Workaround\">​</a></h3>\n<details class=\"details_lb9f alert alert--info details_b_Ee\" data-collapsed=\"true\"><summary>Details</summary><div><div class=\"collapsibleContent_i85q\"><p>Juniper may provide a method to temporarily circumvent a problem; workarounds do not exist for all issues.</p></div></div></details>\n<p>Disable the service, or delete the offending configuration.</p>",
            "url": "https://docs.128technology.com/kb/2024/04/25/I95-56437",
            "title": "Application Identification incompatible with DSCP Steering",
            "summary": "Issue ID: I95-56437",
            "date_modified": "2024-04-25T00:00:00.000Z",
            "tags": [
                "5.6",
                "5.6.13"
            ]
        },
        {
            "id": "https://docs.128technology.com/kb/2024/04/25/I95-57085",
            "content_html": "<p>Existing device to PCI mappings are not persistent across software upgrades.</p>\n<p><strong>Issue ID:</strong> I95-57085<br>\n<strong>Last Updated:</strong> 2024-04-25<br>\n<strong>Introduced in SSR Version:</strong> 6.2.3</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"problem\">Problem<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-57085#problem\" class=\"hash-link\" aria-label=\"Direct link to Problem\" title=\"Direct link to Problem\">​</a></h3>\n<p>Device interfaces that do not have consistent naming do not hold to consistent PCI mappings. This is a known behavior in Linux. See <a href=\"https://docs.128technology.com/kb/2024/04/25/I95-57085#workaround\">workarounds</a></p>\n<p>6.1 output</p>\n<div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">[root@egress_us-gov-east-1b_router2_i-0dc522cf745932463 bin]# lshw -c network -businfo</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Bus info         Device Class         Description</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">====================================================</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:05.0 ens5   network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:06.0 eth7   network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:07.0 eth6   network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:08.0 eth5   network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:09.0 eth4   network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:0a.0 ens10  network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:0b.0 ens11  network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:0c.0 ens12  network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:0d.0 ens13  network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:0e.0 eth3   network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:0f.0 eth2   network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:10.0 eth1   network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:11.0 eth0   network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:12.0 ens18  network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:13.0 ens19  network       Elastic Network Adapter (ENA)</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>6.2 output. Note the changes to the <code>eth</code> interfaces. <code>ens</code> interfaces remain consistent.</p>\n<div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">[root@egress_us-gov-east-1a_router1_i-02d02f0ad597702e6 bin]# lshw -c network -businfo</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Bus info         Device Class         Description</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">====================================================</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:05.0 ens5   network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:06.0 eth5   network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:07.0 eth4   network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:08.0 eth3   network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:09.0 eth6   network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:0a.0 ens10  network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:0b.0 ens11  network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:0c.0 ens12  network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:0d.0 ens13  network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:0e.0 eth7   network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:0f.0 eth2   network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:10.0 eth1   network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:11.0 eth0   network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:12.0 ens18  network       Elastic Network Adapter (ENA)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">pci@0000:00:13.0 ens19  network       Elastic Network Adapter (ENA)</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"release-notes\">Release Notes<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-57085#release-notes\" class=\"hash-link\" aria-label=\"Direct link to Release Notes\" title=\"Direct link to Release Notes\">​</a></h3>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"severity\">Severity<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-57085#severity\" class=\"hash-link\" aria-label=\"Direct link to Severity\" title=\"Direct link to Severity\">​</a></h3>\n<details class=\"details_lb9f alert alert--info details_b_Ee\" data-collapsed=\"true\"><summary>Details</summary><div><div class=\"collapsibleContent_i85q\"><p>The potential impact of a software defect if encountered. Severity levels are:</p><ul>\n<li>Critical: Could severely affect service, capacity/traffic, and maintenance capabilities. May have a prolonged impact to the entire system.</li>\n<li>Major: Could seriously affect system operation, maintenance, administration and related tasks.</li>\n<li>Minor: Would not significantly impair the functioning or affect service.</li>\n</ul></div></div></details>\n<p>Minor</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"status\">Status<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-57085#status\" class=\"hash-link\" aria-label=\"Direct link to Status\" title=\"Direct link to Status\">​</a></h3>\n<p>Open</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"resolved-in\">Resolved In<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-57085#resolved-in\" class=\"hash-link\" aria-label=\"Direct link to Resolved In\" title=\"Direct link to Resolved In\">​</a></h3>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"product\">Product<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-57085#product\" class=\"hash-link\" aria-label=\"Direct link to Product\" title=\"Direct link to Product\">​</a></h3>\n<p>AWS SSR AMI</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"functional-area\">Functional Area<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-57085#functional-area\" class=\"hash-link\" aria-label=\"Direct link to Functional Area\" title=\"Direct link to Functional Area\">​</a></h3>\n<p>Interface Binding</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"workaround\">Workaround<a href=\"https://docs.128technology.com/kb/2024/04/25/I95-57085#workaround\" class=\"hash-link\" aria-label=\"Direct link to Workaround\" title=\"Direct link to Workaround\">​</a></h3>\n<details class=\"details_lb9f alert alert--info details_b_Ee\" data-collapsed=\"true\"><summary>Details</summary><div><div class=\"collapsibleContent_i85q\"><p>Juniper may provide a method to temporarily circumvent a problem; workarounds do not exist for all issues.</p></div></div></details>\n<p><a href=\"https://support.oracle.com/knowledge/Oracle%20Linux%20and%20Virtualization/2521902_1.html\" target=\"_blank\" rel=\"noopener noreferrer\">Give Network Interfaces Persistent Names Without Changing The GRUB Boot Configuration (Kernel Parameter biosdevname Or net.ifnames)</a></p>",
            "url": "https://docs.128technology.com/kb/2024/04/25/I95-57085",
            "title": "Upgrade from 6.1 to 6.2 changes PCI mapping in AWS",
            "summary": "Existing device to PCI mappings are not persistent across software upgrades.",
            "date_modified": "2024-04-25T00:00:00.000Z",
            "tags": [
                "6.2",
                "6.2.3-r2"
            ]
        },
        {
            "id": "https://docs.128technology.com/kb/2024/04/24/I95-55904",
            "content_html": "<p>Upgrade from 5.6.8 to 6.1.7 may result in missing FIB entries and service-paths, causing connectivity issues.</p>\n<p><strong>Issue ID:</strong> I95-55904<br>\n<strong>Last Updated:</strong> 2024-04-24<br>\n<strong>Introduced in SSR Version:</strong> 6.1.7</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"problem\">Problem<a href=\"https://docs.128technology.com/kb/2024/04/24/I95-55904#problem\" class=\"hash-link\" aria-label=\"Direct link to Problem\" title=\"Direct link to Problem\">​</a></h3>\n<p>The key of the data structure storing service configuration is a net::IpMask, which has custom <code>operator&lt;</code> and <code>operator==</code> operator functions. These operators treat the bits after the prefix length as 1s, so 147.161.128.0/17 should be equal to 147.161.254.0/23 (as an example). The container used in 5.6 uses the <code>operator&lt;</code>. The container used in 6.1 takes a hash operator which is not hashing these equivalent net::IpMasks to be equal, hence the difference in behavior.</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"release-notes\">Release Notes<a href=\"https://docs.128technology.com/kb/2024/04/24/I95-55904#release-notes\" class=\"hash-link\" aria-label=\"Direct link to Release Notes\" title=\"Direct link to Release Notes\">​</a></h3>\n<p>Fix case where adding services with overlapping address prefixes would cause config to not apply in highway.</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"severity\">Severity<a href=\"https://docs.128technology.com/kb/2024/04/24/I95-55904#severity\" class=\"hash-link\" aria-label=\"Direct link to Severity\" title=\"Direct link to Severity\">​</a></h3>\n<div class=\"theme-admonition theme-admonition-info admonition_xJq3 alert alert--info\"><div class=\"admonitionHeading_Gvgb\"><span class=\"admonitionIcon_Rf37\"><svg viewBox=\"0 0 14 16\"><path fill-rule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg></span>info</div><div class=\"admonitionContent_BuS1\"><p>The potential impact of a software defect if encountered. Severity levels are:</p><ul>\n<li>Critical: Could severely affect service, capacity/traffic, and maintenance capabilities. May have a prolonged impact to the entire system.</li>\n<li>Major: Could seriously affect system operation, maintenance, administration and related tasks.</li>\n<li>Minor: Would not significantly impair the functioning or affect service.</li>\n</ul></div></div>\n<p>Critical</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"status\">Status<a href=\"https://docs.128technology.com/kb/2024/04/24/I95-55904#status\" class=\"hash-link\" aria-label=\"Direct link to Status\" title=\"Direct link to Status\">​</a></h3>\n<p>Closed</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"resolved-in\">Resolved In<a href=\"https://docs.128technology.com/kb/2024/04/24/I95-55904#resolved-in\" class=\"hash-link\" aria-label=\"Direct link to Resolved In\" title=\"Direct link to Resolved In\">​</a></h3>\n<p><a href=\"https://docs.128technology.com/docs/release_notes_128t_6.1#release-618-15\">6.1.8</a></p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"product\">Product<a href=\"https://docs.128technology.com/kb/2024/04/24/I95-55904#product\" class=\"hash-link\" aria-label=\"Direct link to Product\" title=\"Direct link to Product\">​</a></h3>\n<p>SSR</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"functional-area\">Functional Area<a href=\"https://docs.128technology.com/kb/2024/04/24/I95-55904#functional-area\" class=\"hash-link\" aria-label=\"Direct link to Functional Area\" title=\"Direct link to Functional Area\">​</a></h3>\n<p>Routing</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"workaround\">Workaround<a href=\"https://docs.128technology.com/kb/2024/04/24/I95-55904#workaround\" class=\"hash-link\" aria-label=\"Direct link to Workaround\" title=\"Direct link to Workaround\">​</a></h3>\n<div class=\"theme-admonition theme-admonition-info admonition_xJq3 alert alert--info\"><div class=\"admonitionHeading_Gvgb\"><span class=\"admonitionIcon_Rf37\"><svg viewBox=\"0 0 14 16\"><path fill-rule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg></span>info</div><div class=\"admonitionContent_BuS1\"><p>Juniper may provide a method to temporarily circumvent a problem; workarounds do not exist for all issues.</p></div></div>\n<div class=\"language-bash codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-bash codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">curl -JLO https://github.com/majes-git/128t-scripts/raw/main/t128-show-ip-prefix-conflicts.pyz</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">chmod +x t128-show-ip-prefix-conflicts.pyz</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<h4 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"command-help\">Command Help<a href=\"https://docs.128technology.com/kb/2024/04/24/I95-55904#command-help\" class=\"hash-link\" aria-label=\"Direct link to Command Help\" title=\"Direct link to Command Help\">​</a></h4>\n<div class=\"language-bash codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-bash codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">$ ./t128-show-ip-prefix-conflicts.pyz --help</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">usage: t128-show-ip-prefix-conflicts.pyz [-h] [-c HOST] [-u USER] [-p PASSWORD] [--config-store {running,candidate}] [-r READ_JSON] [--dump-json]</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Show overlapping ip prefixes in 128T services</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">optional arguments:</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">  -h, --help            show this help message and exit</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">  -c HOST, --host HOST  Conductor/router hostname</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">  -u USER, --user USER  Conductor/router username (if no key auth)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">  -p PASSWORD, --password PASSWORD</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">                        Conductor/router password (if no key auth)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">  --config-store {running,candidate}</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">                        Config store to be used (running/candidate)</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">  -r READ_JSON, --read-json READ_JSON</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">                        Read services config from json file</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">  --dump-json           Write config dump to json file \"t128-show-ip-prefix-conflicts.json\"</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<h4 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"sample\">Sample<a href=\"https://docs.128technology.com/kb/2024/04/24/I95-55904#sample\" class=\"hash-link\" aria-label=\"Direct link to Sample\" title=\"Direct link to Sample\">​</a></h4>\n<div class=\"language-bash codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-bash codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">$ ./t128-show-ip-prefix-conflicts.pyz -r ssr-configuration.json</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">WARNING: Service \"zscaler__client.internet\" has conflicting addresses:</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">* 147.161.254.0/23 and 147.161.128.0/17</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">* 104.129.192.0/20 and 104.129.206.0/23</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">* 136.226.0.0/16 and 136.226.254.0/23</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>",
            "url": "https://docs.128technology.com/kb/2024/04/24/I95-55904",
            "title": "Upgrade from 5.6 to 6.1 may result in missing FIB entries",
            "summary": "Upgrade from 5.6.8 to 6.1.7 may result in missing FIB entries and service-paths, causing connectivity issues.",
            "date_modified": "2024-04-24T00:00:00.000Z",
            "tags": [
                "6.1",
                "6.1.7"
            ]
        }
    ]
}