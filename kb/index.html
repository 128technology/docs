<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Session Smart Router Knowledge Base Articles | SSN Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.128technology.com/kb"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="Session Smart Router Knowledge Base Articles | SSN Docs"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.128technology.com/kb"><link data-rh="true" rel="alternate" href="https://docs.128technology.com/kb" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.128technology.com/kb" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/kb/rss.xml" title="SSR Knowledge Base Articles RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/kb/atom.xml" title="SSR Knowledge Base Articles Atom Feed">
<link rel="alternate" type="application/json" href="/kb/feed.json" title="SSR Knowledge Base Articles JSON Feed"><link rel="stylesheet" href="/assets/css/styles.df1c9d6e.css">
<script src="/assets/js/runtime~main.22256fcb.js" defer="defer"></script>
<script src="/assets/js/main.065ea9f0.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Juniper Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo_dark.png" alt="Juniper Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro_getting_started">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/kb">Knowledge Base</a><a href="https://community.juniper.net/answers/communities/community-home?CommunityKey=310d1a41-12fa-4627-9a99-880145a7c87c" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.juniper.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Company<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><main class="col col--9 col--offset-1" itemscope="" itemtype="https://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="To implement IPsec, SSR leverages a third-party client called libreswan. The client periodically deprecates weak algorithms from its code base such as dh2 (a.k.a modp1024) and dh22. While the SSR supports these algorithms, it is very likely that these algorithms will be deprecated in the near future. The article is meant to raise awareness of this upcoming change and provide instruction to proactively modify configuration to avoid outages."><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/kb/2024/12/12/PLUGIN-2835">IPSec algorithms dh2 (modp1024) and dh22 are being deprecated</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-12-12T00:00:00.000Z" itemprop="datePublished">December 12, 2024</time></div></header><div class="markdown" itemprop="articleBody"><p>To implement IPsec, SSR leverages a third-party client called <code>libreswan</code>. The client periodically deprecates weak algorithms from its code base such as dh2 (a.k.a <code>modp1024</code>) and dh22. While the SSR supports these algorithms, it is very likely that these algorithms will be deprecated in the near future. The article is meant to raise awareness of this upcoming change and provide instruction to proactively modify configuration to avoid outages.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/kb/tags/ipsec-client">ipsec-client</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about IPSec algorithms dh2 (modp1024) and dh22 are being deprecated" href="/kb/2024/12/12/PLUGIN-2835"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="In some cases, Salt states fail to be applied on routers after an upgrade to 5.6.16+, 6.1.12+, 6.2.8+, and 6.3.x-r2+. This will impact any salt states that rely on the CentOS name to detect or conditionally perform operations on the SSR."><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/kb/2024/11/06/PLUGIN-2776">Change in behavior for Salt states for 5.6.16+, 6.1.12+, 6.2.8+, 6.3.x-r2+</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-11-06T00:00:00.000Z" itemprop="datePublished">November 6, 2024</time></div></header><div class="markdown" itemprop="articleBody"><p>In some cases, Salt states fail to be applied on routers after an upgrade to 5.6.16+, 6.1.12+, 6.2.8+, and 6.3.x-r2+. This will impact any salt states that rely on the <code>CentOS</code> name to detect or conditionally perform operations on the SSR.</p>
<p>For example, the following <code>top.sls</code> would be impacted:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">base:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &#x27;*&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - dummy</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &#x27;os:CentOS&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - match: grain</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - centos_example</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/kb/tags/saltstack-sip-alg">saltstack, sip-alg</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about Change in behavior for Salt states for 5.6.16+, 6.1.12+, 6.2.8+, 6.3.x-r2+" href="/kb/2024/11/06/PLUGIN-2776"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Upgrading an HA Conductor to 6.3.0 fails on the second node."><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/kb/2024/08/30/I95-56628">Unable to upgrade second HA Conductor to 6.3.0</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-08-30T00:00:00.000Z" itemprop="datePublished">August 30, 2024</time></div></header><div class="markdown" itemprop="articleBody"><p>Upgrading an HA Conductor to 6.3.0 fails on the second node.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/kb/tags/6-3">6.3</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about Unable to upgrade second HA Conductor to 6.3.0" href="/kb/2024/08/30/I95-56628"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Highway process can get stuck on startup due to DNS related race conditions for IPSec tunnels."><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/kb/2024/08/05/PLUGIN-2550">Highway stuck on startup when IPsec is enabled</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-08-05T00:00:00.000Z" itemprop="datePublished">August 5, 2024</time></div></header><div class="markdown" itemprop="articleBody"><p>Highway process can get stuck on startup due to DNS related race conditions for IPSec tunnels.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/kb/tags/ipsec-client-3-6-1">ipsec-client-3.6.1</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about Highway stuck on startup when IPsec is enabled" href="/kb/2024/08/05/PLUGIN-2550"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Large systems with multiple CPU&#x27;s and many interfaces configured may not initialize the configured interfaces."><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/kb/2024/06/25/I95-54838">Memory Allocation Exception in Device Disabled Error output</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-06-25T00:00:00.000Z" itemprop="datePublished">June 25, 2024</time></div></header><div class="markdown" itemprop="articleBody"><p>Large systems with multiple CPU&#x27;s and many interfaces configured may not initialize the configured interfaces.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/kb/tags/6-2">6.2</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/kb/tags/6-2-3-r-2">6.2.3-r2</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about Memory Allocation Exception in Device Disabled Error output" href="/kb/2024/06/25/I95-54838"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Changes to use a new database in the app-id engine have introduced high memory utilization for the application-director."><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/kb/2024/05/29/I95-56484">High Memory usage for application-director</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-05-29T00:00:00.000Z" itemprop="datePublished">May 29, 2024</time></div></header><div class="markdown" itemprop="articleBody"><p>Changes to use a new database in the app-id engine have introduced high memory utilization for the application-director.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/kb/tags/6-2-3">6.2.3</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/kb/tags/6-2-4">6.2.4</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about High Memory usage for application-director" href="/kb/2024/05/29/I95-56484"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Packet forwarding on the SSR stops after several hours of runtime in AWS when using Elastic Network Adapter (ENA) driver."><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/kb/2024/04/25/I95-56233">Packet forwarding stops in AWS after several hours</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-04-26T00:00:00.000Z" itemprop="datePublished">April 26, 2024</time></div></header><div class="markdown" itemprop="articleBody"><p>Packet forwarding on the SSR stops after several hours of runtime in AWS when using Elastic Network Adapter (ENA) driver.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/kb/tags/6-1">6.1</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/kb/tags/6-1-7">6.1.7</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about Packet forwarding stops in AWS after several hours" href="/kb/2024/04/25/I95-56233"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Recent changes to fix MTU to use the max device supported value causes the SSR to set MTU to 9K. However since NetVSC does not support Scatter RX, it fails to bind because the SSR uses packet buffers of size 2K, and cannot span multiple mbufs."><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/kb/2024/04/25/I95-54541">Unable to bind accelerated networking interfaces in Azure when using vmbus-id</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-04-25T00:00:00.000Z" itemprop="datePublished">April 25, 2024</time></div></header><div class="markdown" itemprop="articleBody"><p>Recent changes to fix MTU to use the max device supported value causes the SSR to set MTU to 9K. However since NetVSC does not support Scatter RX, it fails to bind because the SSR uses packet buffers of size 2K, and cannot span multiple mbufs.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/kb/tags/6-1">6.1</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/kb/tags/6-1-5">6.1.5</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about Unable to bind accelerated networking interfaces in Azure when using vmbus-id" href="/kb/2024/04/25/I95-54541"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Issue ID: I95-56437"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/kb/2024/04/25/I95-56437">Application Identification incompatible with DSCP Steering</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-04-25T00:00:00.000Z" itemprop="datePublished">April 25, 2024</time></div></header><div class="markdown" itemprop="articleBody"></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/kb/tags/5-6">5.6</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/kb/tags/5-6-13">5.6.13</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about Application Identification incompatible with DSCP Steering" href="/kb/2024/04/25/I95-56437"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Existing device to PCI mappings are not persistent across software upgrades."><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/kb/2024/04/25/I95-57085">Upgrade from 6.1 to 6.2 changes PCI mapping in AWS</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-04-25T00:00:00.000Z" itemprop="datePublished">April 25, 2024</time></div></header><div class="markdown" itemprop="articleBody"><p>Existing device to PCI mappings are not persistent across software upgrades.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/kb/tags/6-2">6.2</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/kb/tags/6-2-3-r-2">6.2.3-r2</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about Upgrade from 6.1 to 6.2 changes PCI mapping in AWS" href="/kb/2024/04/25/I95-57085"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Upgrade from 5.6.8 to 6.1.7 may result in missing FIB entries and service-paths, causing connectivity issues."><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/kb/2024/04/24/I95-55904">Upgrade from 5.6 to 6.1 may result in missing FIB entries</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-04-24T00:00:00.000Z" itemprop="datePublished">April 24, 2024</time></div></header><div class="markdown" itemprop="articleBody"><p>Upgrade from 5.6.8 to 6.1.7 may result in missing FIB entries and service-paths, causing connectivity issues.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/kb/tags/6-1">6.1</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/kb/tags/6-1-7">6.1.7</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about Upgrade from 5.6 to 6.1 may result in missing FIB entries" href="/kb/2024/04/24/I95-55904"><b>Read More</b></a></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Juniper Networks, Inc.</div></div></div></footer></div>
</body>
</html>