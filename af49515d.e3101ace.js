(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{195:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return a})),r.d(t,"metadata",(function(){return c})),r.d(t,"rightToc",(function(){return s})),r.d(t,"default",(function(){return l}));var o=r(1),n=r(11),i=(r(0),r(223)),a={title:"Conductor Migration"},c={id:"howto_conductor_migration",title:"Conductor Migration",description:"Before going through this document, it is beneficial to first understand the [best practices for deploying your conductor](bcp_conductor_deployment.md).",source:"@site/docs/howto_conductor_migration.md",permalink:"/docs/howto_conductor_migration",editUrl:"https://github.com/128technology/docs/tree/master/docs/howto_conductor_migration.md",lastUpdatedAt:1586828518,sidebar:"docs",previous:{title:"Border Gateway Protocol (BGP)",permalink:"/docs/howto_bgp"},next:{title:"LTE",permalink:"/docs/howto_lte"}},s=[{value:"Prerequisites",id:"prerequisites",children:[]},{value:"Migration Process",id:"migration-process",children:[]},{value:"Verify Migration",id:"verify-migration",children:[]}],u={rightToc:s};function l(e){var t=e.components,r=Object(n.a)(e,["components"]);return Object(i.b)("wrapper",Object(o.a)({},u,r,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Before going through this document, it is beneficial to first understand the ",Object(i.b)("a",Object(o.a)({parentName:"p"},{href:"/docs/bcp_conductor_deployment"}),"best practices for deploying your conductor"),"."),Object(i.b)("p",null,"The purpose of this guide is to provide an overview and walkthrough the process of migrating the routers and their conductor configurations to a newly installed 128T Conductor"),Object(i.b)("h2",{id:"prerequisites"},"Prerequisites"),Object(i.b)("p",null,"This document presumes that the reader has already installed a new conductor and wants to migrate the routers in the network along with their configurations. If you have not yet setup your 128T nodes, you can follow the ",Object(i.b)("a",Object(o.a)({parentName:"p"},{href:"/docs/intro_installation"}),"installation guide")," to walk you through that process."),Object(i.b)("h2",{id:"migration-process"},"Migration Process"),Object(i.b)("p",null,"During the process of standing up the 128T conductor as mentioned in the Installation Guide, there are a couple of things we will have to make sure before proceeding with the migration of the router. Make sure that you have exported the configurations from the existing Conductor and import them to the new Conductor."),Object(i.b)("p",null,"While importing the configurations to the Conductor, we will need to ",Object(i.b)("em",{parentName:"p"},"\u201ccommit\u201d")," the changes from the PCLI as long as the candidate configuration is valid. A restart will be required and then we can proceed with the migration."),Object(i.b)("div",{className:"admonition admonition-important alert alert--info"},Object(i.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("div",Object(o.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(o.a)({parentName:"div"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(o.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(i.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"It is extremely important that the conductor configurations are exported/imported correctly to avoid losing the configuration."))),Object(i.b)("p",null,"Once the new conductor is all set up, we can go on with migrating the routers one at a time. The below commands have to be run on the PCLI on every router and should be repeated for all the routers individually."),Object(i.b)("p",null,"For standalone conductor, on the router use the command: ",Object(i.b)("inlineCode",{parentName:"p"},"migrate conductor <address1>")),Object(i.b)("p",null,"For HA conductor, on the routers use the command: ",Object(i.b)("inlineCode",{parentName:"p"},"migrate conductor <address1> <address2>")," "),Object(i.b)("h2",{id:"verify-migration"},"Verify Migration"),Object(i.b)("p",null,"If any router does not get migrated successfully, it will show an error or else the migration will proceed smoothly."),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Make sure that the TCP ports 930, 4505 and 4506 on the Conductor are enabled, as the routers will require to access these ports in order for them and the new Conductor to communicate."),Object(i.b)("li",{parentName:"ul"},"These TCP ports have to be added open on any firewalls in front of the conductor. (In reference to the public connections a Conductor runs, and the firewall required to allow those connections)"),Object(i.b)("li",{parentName:"ul"},"After the migration runs successfully, all the assets will show \u201crunning\u201d from the new Conductor.")))}l.isMDXComponent=!0},223:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return m}));var o=r(0),n=r.n(o);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var u=n.a.createContext({}),l=function(e){var t=n.a.useContext(u),r=t;return e&&(r="function"==typeof e?e(t):c({},t,{},e)),r},d=function(e){var t=l(e.components);return n.a.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},h=Object(o.forwardRef)((function(e,t){var r=e.components,o=e.mdxType,i=e.originalType,a=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=l(r),h=o,m=d["".concat(a,".").concat(h)]||d[h]||p[h]||i;return r?n.a.createElement(m,c({ref:t},u,{components:r})):n.a.createElement(m,c({ref:t},u))}));function m(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=r.length,a=new Array(i);a[0]=h;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:o,a[1]=c;for(var u=2;u<i;u++)a[u]=r[u];return n.a.createElement.apply(null,a)}return n.a.createElement.apply(null,r)}h.displayName="MDXCreateElement"}}]);