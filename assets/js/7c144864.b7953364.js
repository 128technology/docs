"use strict";(self.webpackChunk_128t_docs=self.webpackChunk_128t_docs||[]).push([[2404],{54526:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>s,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>d});var r=n(74848),i=n(28453);const t={title:"Local Configuration Override",sidebar_label:"Local Configuration Override"},c=void 0,a={id:"how_to_local_config_override",title:"Local Configuration Override",description:"In some situations, local administrators may need to make configuration changes to their router in order to repair or establish communications. In these environments they may not have access to the conductor, or may not be able to communicate with the personnel responsible for managing the conductor. This feature allows the admin to make local changes without having conductor connectivity, and prevents the local changes from being overwritten when that connectivity is reestablished.",source:"@site/docs/how_to_local_config_override.md",sourceDirName:".",slug:"/how_to_local_config_override",permalink:"/docs/how_to_local_config_override",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Local Configuration Override",sidebar_label:"Local Configuration Override"},sidebar:"docs",previous:{title:"Configuration Templates",permalink:"/docs/config_templates"},next:{title:"Configuring Role-Based Access Control",permalink:"/docs/config_RBAC"}},s={},d=[{value:"How It Works",id:"how-it-works",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Comparing Configurations",id:"comparing-configurations",level:3},{value:"Disabling Local Override Mode",id:"disabling-local-override-mode",level:3},{value:"Show Commands",id:"show-commands",level:3}];function l(e){const o={admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.p,{children:"In some situations, local administrators may need to make configuration changes to their router in order to repair or establish communications. In these environments they may not have access to the conductor, or may not be able to communicate with the personnel responsible for managing the conductor. This feature allows the admin to make local changes without having conductor connectivity, and prevents the local changes from being overwritten when that connectivity is reestablished."}),"\n",(0,r.jsx)(o.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,r.jsxs)(o.p,{children:["Use the command ",(0,r.jsx)(o.code,{children:"set config local-override"})," to prevent conductor generated configuration changes from being applied to a router. This command will not interfere with the communication between the router and a conductor, allowing router status and other information to continue to be exchanged."]}),"\n",(0,r.jsx)(o.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsxs)(o.p,{children:["Use the command ",(0,r.jsx)(o.code,{children:"set config local-override"})," to engage or disengage the ",(0,r.jsx)(o.code,{children:"config local-override"})," mode. This command is issued at the ",(0,r.jsx)(o.code,{children:"router"})," level, for a router, and cannot target individual nodes or a Conductor."]}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{children:"config\n\tauthority\n\t\trouter \trouter-east128t\n\t\t\tset config local-override\n\t\t\texit\n\t\texit\n\texit\n"})}),"\n",(0,r.jsx)(o.p,{children:"The commands can be run on the router, or on the conductor targeting a router. Attempting to run the command targeting a conductor will return an error."}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.strong,{children:"Enable/Disable on a Router:"})}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{children:"admin@combo-east-1.RTR_EAST_COMBO# set config local-override\n"})}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{children:"admin@combo-east-1.RTR_EAST_COMBO# set config local-override disabled\n"})}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.strong,{children:"Enable/Disable from a Conductor targeting a Router:"})}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{children:"admin@conductor-east-1.RTR_EAST_CONDUCTOR# set config local-override router RTR_EAST_COMBO\n"})}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{children:"admin@conductor-east-1.RTR_EAST_CONDUCTOR# set config local-override disabled router RTR_EAST_COMBO\n"})}),"\n",(0,r.jsxs)(o.admonition,{type:"info",children:[(0,r.jsxs)(o.p,{children:["If you are making configuration changes directly on a router and ",(0,r.jsx)(o.code,{children:"config local-override"})," is not enabled, a message is displayed notifying you of the option to enable it."]}),(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{children:"admin@combo-east-1.RTR_EAST_COMBO# configure authority router RTR_EAST_COMBO\n% Warning: You are about to make configuration changes to a router that is managed by a Conductor. These changes could be overwritten at\nany time by the Conductor. Consider enabling config local override mode to prevent the conductor from overwriting the local changes by\nrunning 'set config local-override'.\nAre you sure you want to edit 'description'? [y/N]:\n"})})]}),"\n",(0,r.jsx)(o.h3,{id:"comparing-configurations",children:"Comparing Configurations"}),"\n",(0,r.jsxs)(o.p,{children:["Using ",(0,r.jsx)(o.code,{children:"set config local-override"})," puts the managed router's configuration in local override mode. This prevents configuration updates from the Conductor from overwriting the current router configuration. However, configuration updates from the conductor are saved on the router as an exported config named ",(0,r.jsx)(o.code,{children:"last-seen-conductor-config"}),"."]}),"\n",(0,r.jsxs)(o.p,{children:["When local override mode is engaged, copy of the router configuration is saved as an exported configuration on the router named ",(0,r.jsx)(o.code,{children:"at-local-override"}),". This is saved as a baseline for the original router config."]}),"\n",(0,r.jsxs)(o.p,{children:["The user can diff the router current config against either the ",(0,r.jsx)(o.code,{children:"last-seen-conductor-config"}),", or the original router config ",(0,r.jsx)(o.code,{children:"at-local-override"})," before changes were made. It is important to note that any changes made to the local router while in local override mode ",(0,r.jsx)(o.strong,{children:"will not"})," be sync'ed to the conductor."]}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:["\n",(0,r.jsxs)(o.p,{children:["To compare the running config against the config when local override mode was engaged use: ",(0,r.jsx)(o.code,{children:"compare config at-local-override"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(o.li,{children:["\n",(0,r.jsxs)(o.p,{children:["To compare running config against the last seen conductor config use: ",(0,r.jsx)(o.code,{children:"compare config last-seen-conductor-config"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(o.li,{children:["\n",(0,r.jsxs)(o.p,{children:["To compare all changes made by the conductor since local override mode was enabled use: ",(0,r.jsx)(o.code,{children:"compare config at-local-override last-seen-conductor-config"})," This is the best comparison to view any new conductor changes and determine whether to manually apply them to the local configuration."]}),"\n"]}),"\n",(0,r.jsxs)(o.li,{children:["\n",(0,r.jsxs)(o.p,{children:["To revert to the original configuration when local override mode was engaged, use: ",(0,r.jsx)(o.code,{children:"import config at-local-override"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(o.h3,{id:"disabling-local-override-mode",children:"Disabling Local Override Mode"}),"\n",(0,r.jsxs)(o.p,{children:["Use the command ",(0,r.jsx)(o.code,{children:"set config local-override disable"})," to disable the local override mode. The router fetches the latest configuration from the conductor and applies it to the local configuration. Any changes that were made to the local router while in local override mode will be lost. If you wish to keep the router local configuration changes, they must be made on the conductor prior to disabling local override mode."]}),"\n",(0,r.jsx)(o.h3,{id:"show-commands",children:"Show Commands"}),"\n",(0,r.jsx)(o.p,{children:"The following commands are used to view the local configuration override status of the router."}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.code,{children:"show config out-of-sync"})}),"\n",(0,r.jsx)(o.p,{children:"The Local Override column indicates the config local override mode status:"}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{children:"admin@conductor-east-1.RTR_EAST_CONDUCTOR# show config out-of-sync\nFri 2023-04-07 20:35:28 UTC\nRetrieving configuration version...\n\n============== ============================= =========================== ================\n Router Name    Conductor Commit Time         Difference From Conductor   Local Override\n============== ============================= =========================== ================\n Burbank        Sat 1970-04-11 09:48:20.000   9 seconds                   True\n LosAngeles     Sat 1970-04-11 09:48:20.000   9 seconds                   True\n NewYork        Sat 1970-04-11 07:48:29.000   2 hours                     False\n Boston         Sat 1970-04-04 09:48:29.000   7 days                      False\n SanFrancisco   None                          3 months                    True\n Houston        Disconnected                  Unknown                     Unknown\n Madrid         Disconnected                  Unknown                     Unknown\n"})}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.code,{children:"show config locally-modified"})}),"\n",(0,r.jsx)(o.p,{children:"The Local Override column indicates the config local override mode status:"}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{children:"admin@conductor-east-1.RTR_EAST_CONDUCTOR# show config locally-modified\nFri 2023-04-07 20:47:05 UTC\nRetrieving configuration version...\n\n============= ============================= ============================= ================\n Router Name   Conductor Commit Time         Local Commit Time             Local Override\n============= ============================= ============================= ================\n Burbank       Sat 1970-04-11 09:48:20.000   Sat 1970-04-11 09:48:20.000   True\n LosAngeles    Sat 1970-04-11 09:48:20.000   Sat 1970-04-11 09:48:20.000   False\n"})}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.code,{children:"show config local-override"})}),"\n",(0,r.jsx)(o.p,{children:"This command shows the local override status of any router."}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{children:"admin@conductor-east-1.RTR_EAST_CONDUCTOR# show config local-override router all\nFri 2023-04-07 20:35:28 UTC\nRetrieving configuration local override status...\n\n============== ================\n Router Name    Local Override\n============== ================\n Burbank        True\n LosAngeles     True\n NewYork        False\n Boston         False\n SanFrancisco   True\n Houston        Unknown\n Madrid         Unknown\n"})})]})}function h(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},28453:(e,o,n)=>{n.d(o,{R:()=>c,x:()=>a});var r=n(96540);const i={},t=r.createContext(i);function c(e){const o=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(t.Provider,{value:o},e.children)}}}]);