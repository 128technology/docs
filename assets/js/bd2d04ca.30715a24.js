"use strict";(self.webpackChunk_128t_docs=self.webpackChunk_128t_docs||[]).push([[9128],{3905:function(e,t,a){a.d(t,{Zo:function(){return d},kt:function(){return f}});var n=a(67294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=n.createContext({}),c=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=c(a),f=i,g=u["".concat(l,".").concat(f)]||u[f]||p[f]||r;return a?n.createElement(g,o(o({ref:t},d),{},{components:a})):n.createElement(g,o({ref:t},d))}));function f(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,o=new Array(r);o[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var c=2;c<r;c++)o[c]=a[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},28819:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return d},default:function(){return u}});var n=a(87462),i=a(63366),r=(a(67294),a(3905)),o=["components"],s={title:"WAN Edge Provisioning",sidebar_label:"WAN Edge Provisioning"},l=void 0,c={unversionedId:"wan_edge_provisioning",id:"wan_edge_provisioning",title:"WAN Edge Provisioning",description:"To facilitate the ZTP (zero-touch provisioning) process of onboarding an SSR into the Mist Cloud, it is a best practice to create the topology and configuration where the SSR will be adopted before adding the SSR to the Mist Cloud. The process described here allows you to create a basic configuration to be loaded onto the SSR during onboarding.",source:"@site/docs/wan_edge_provisioning.md",sourceDirName:".",slug:"/wan_edge_provisioning",permalink:"/docs/wan_edge_provisioning",tags:[],version:"current",lastUpdatedAt:1663031670,formattedLastUpdatedAt:"9/13/2022",frontMatter:{title:"WAN Edge Provisioning",sidebar_label:"WAN Edge Provisioning"},sidebar:"docs",previous:{title:"Overview",permalink:"/docs/wan_overview"},next:{title:"Whitebox Staging",permalink:"/docs/wan_staging"}},d=[{value:"Site Creation",id:"site-creation",children:[{value:"Conductor-Managed Sites",id:"conductor-managed-sites",children:[],level:3}],level:2},{value:"Add a Network",id:"add-a-network",children:[],level:2},{value:"Identify Applications",id:"identify-applications",children:[],level:2},{value:"Create Standalone WAN Edge Template",id:"create-standalone-wan-edge-template",children:[],level:2},{value:"Create the WAN Interface",id:"create-the-wan-interface",children:[],level:2},{value:"Create the LAN Interface",id:"create-the-lan-interface",children:[],level:2},{value:"Create Breakout Steering Policy",id:"create-breakout-steering-policy",children:[],level:2},{value:"Create an Access Policy",id:"create-an-access-policy",children:[],level:2},{value:"Associate Template With Site",id:"associate-template-with-site",children:[],level:2}],p={toc:d};function u(e){var t=e.components,s=(0,i.Z)(e,o);return(0,r.kt)("wrapper",(0,n.Z)({},p,s,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"To facilitate the ZTP (zero-touch provisioning) process of onboarding an SSR into the Mist Cloud, it is a best practice to create the topology and configuration where the SSR will be adopted before adding the SSR to the Mist Cloud. The process described here allows you to create a basic configuration to be loaded onto the SSR during onboarding. "),(0,r.kt)("p",null,"This process assumes that you already have an account on the Mist Portal."),(0,r.kt)("h2",{id:"site-creation"},"Site Creation"),(0,r.kt)("p",null,"Create one Site for each physical location for onboarding the SSRs."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Create a unique site for each physical (or logical) location in the network. For example, the spoke and hub should be onboarded to different sites. Other devices from the Juniper stack such as Mist APs, Switches, SRX, etc., should be onboarded and assigned to their respective sites. This provides a clean topology view of all devices running within a site."),(0,r.kt)("li",{parentName:"ul"},"Spoke Site is typically the location where a full stack solution is deployed. The location field is required for creation. Site variables are assigned after the network is defined.")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Create a Site",src:a(26243).Z})),(0,r.kt)("h3",{id:"conductor-managed-sites"},"Conductor-Managed Sites"),(0,r.kt)("p",null,"If you are creating a site for a conductor-managed SSR deployment, it is a best practice to configure the IP address of the conductor as part of the site creation. Use the following procedure to retrieve and assign the conductor IP address to the Mist site. "),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"On the Configuration Home panel in the SSR GUI, click the Authority button. "),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{alt:"Authority Home",src:a(28480).Z}))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Under Authority Settings, scroll down to ",(0,r.kt)("strong",{parentName:"p"},"Conductor Addresses")," and copy the IP address of the conductor."),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{alt:"Conductor Address",src:a(62847).Z}))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Return to the Mist Site Configuration, and scroll down to the Session Smart Conductor field and add the Conductor IP address."),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{alt:"Session Smart Conductor Address",src:a(61267).Z})))),(0,r.kt)("h2",{id:"add-a-network"},"Add a Network"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Add a Network",src:a(93835).Z})," "),(0,r.kt)("p",null,"In the add network panel, define the following:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Network name, IP address and subnet."),(0,r.kt)("li",{parentName:"ul"},"Enable \u201cAccess to Mist Cloud\u201d to permit services from this network to the Mist cloud. Enabling \u201cAdvertise via Overlay\u201d will announce this network via iBGP."),(0,r.kt)("li",{parentName:"ul"},"Add users/hosts representing the LAN segments \u2013 these will be used as a source in service policies."),(0,r.kt)("li",{parentName:"ul"},"Configure support for source and destination NAT.")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Network Details Panel",src:a(78059).Z})),(0,r.kt)("h2",{id:"identify-applications"},"Identify Applications"),(0,r.kt)("p",null,'Applications represent the "things" that the users are connecting to. These include:'),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Network services"),(0,r.kt)("li",{parentName:"ul"},"SaaS apps"),(0,r.kt)("li",{parentName:"ul"},"Private subnets"),(0,r.kt)("li",{parentName:"ul"},"Cloud workloads")),(0,r.kt)("p",null,"To create a new application, navigate to Applications and click Add Applications. "),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Add Application",src:a(87580).Z})),(0,r.kt)("p",null,'Configure and save a basic Internet app. If you intend to have a catch-all application for all traffic, it is best practice to create an "Internet" application that is represented by a quad 0 (0.0.0.0/0).'),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Application Panel",src:a(99591).Z})),(0,r.kt)("h2",{id:"create-standalone-wan-edge-template"},"Create Standalone WAN Edge Template"),(0,r.kt)("p",null,"Navigate to \u201cWAN Edge Templates\u201d and create a new template."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"WAN Edge Template",src:a(62290).Z})),(0,r.kt)("p",null,"Enter your NTP and DNS settings."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Define Template",src:a(32618).Z})),(0,r.kt)("h2",{id:"create-the-wan-interface"},"Create the WAN Interface"),(0,r.kt)("p",null,"Add a new WAN interface to the template."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"WAN Interface",src:a(65046).Z})),(0,r.kt)("p",null,"Enter and save the WAN interface settings."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"WAN Settings",src:a(12757).Z})),(0,r.kt)("h2",{id:"create-the-lan-interface"},"Create the LAN Interface"),(0,r.kt)("p",null,"Add a new LAN interface to the template."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"LAN Interface",src:a(72425).Z})),(0,r.kt)("p",null,"Select your previously created network, and set the IP address the device will use from within the subnet."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Set IP",src:a(30116).Z})),(0,r.kt)("p",null,"Set up a DHCP server pool for the LAN network."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Set Server Pool",src:a(91469).Z})),(0,r.kt)("h2",{id:"create-breakout-steering-policy"},"Create Breakout Steering Policy"),(0,r.kt)("p",null,"Add a traffic steering policy specifying use of WAN path, and previously configured WAN interface."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Steering Policy",src:a(88075).Z})),(0,r.kt)("h2",{id:"create-an-access-policy"},"Create an Access Policy"),(0,r.kt)("p",null,"Add an access policy to the template."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Add Access Policy",src:a(71110).Z})),(0,r.kt)("p",null,"Select your network, your internet app, and breakout steering policy."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Define Access Policy",src:a(62528).Z})),(0,r.kt)("h2",{id:"associate-template-with-site"},"Associate Template With Site"),(0,r.kt)("p",null,"Save the template you have configured, and associate the template with your previously created site."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Save Template",src:a(89430).Z})))}u.isMDXComponent=!0},87580:function(e,t,a){t.Z=a.p+"assets/images/wanas_add-app-72996d621f1e4591b04efc56fbc98f42.gif"},99591:function(e,t,a){t.Z=a.p+"assets/images/wanas_add-app_static-9870dd45ea942a994d843ab62615d037.png"},71110:function(e,t,a){t.Z=a.p+"assets/images/wanas_add_access_policy-4846fa891f7ec18bbbfe40d55f9669d5.gif"},62528:function(e,t,a){t.Z=a.p+"assets/images/wanas_add_access_policy2-6a0d5d6276f1514ed13289595aeed751.gif"},72425:function(e,t,a){t.Z=a.p+"assets/images/wanas_add_lan-347ee51092e0c24f5ba168ecdaf71701.gif"},30116:function(e,t,a){t.Z=a.p+"assets/images/wanas_add_lan-115c63bc2ea010f54d88a7585a5169a8.png"},91469:function(e,t,a){t.Z=a.p+"assets/images/wanas_add_lan_dhcp-2f334559c6b514e688036450ca5a2b71.png"},88075:function(e,t,a){t.Z=a.p+"assets/images/wanas_add_steering-b4b70a877768c0d349366fa50bc94525.gif"},65046:function(e,t,a){t.Z=a.p+"assets/images/wanas_add_wan-9068ac394323ea994d7a9a6be8e0bb44.gif"},12757:function(e,t,a){t.Z=a.p+"assets/images/wanas_add_wan-214b364db1d107c787630301ce0ac932.png"},62847:function(e,t,a){t.Z=a.p+"assets/images/wanas_conductor_ip-18bf6fafbc45712a126188e2a0a485ae.png"},28480:function(e,t,a){t.Z=a.p+"assets/images/wanas_conductor_ip1-433af01425383cd7210572f74e475b7c.png"},61267:function(e,t,a){t.Z=a.p+"assets/images/wanas_conductor_ip_mist-0fb118c9949c6de928cd14f52a8b2fea.png"},93835:function(e,t,a){t.Z=a.p+"assets/images/wanas_create-network-ebe9a8b60fdb36126dacb9fd0d26b769.gif"},78059:function(e,t,a){t.Z=a.p+"assets/images/wanas_create-network_detail-56cba85db99be255ebb232ae3a52ffa5.png"},26243:function(e,t,a){t.Z=a.p+"assets/images/wanas_create_site-5d8d45503ff1b4bf1b4b43845c0b9e4e.gif"},89430:function(e,t,a){t.Z=a.p+"assets/images/wanas_save_assign_template-094aeda319ebf939f696050497eb2c34.gif"},62290:function(e,t,a){t.Z=a.p+"assets/images/wanas_standalone_template-2c3b3abd73eea861a437295546bd128f.gif"},32618:function(e,t,a){t.Z=a.p+"assets/images/wanas_template_static-d15dd8cdbbca3ee174d68f39312f24bb.png"}}]);