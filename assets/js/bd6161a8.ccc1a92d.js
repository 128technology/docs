"use strict";(self.webpackChunk_128t_docs=self.webpackChunk_128t_docs||[]).push([[4034],{4592:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>d});var t=r(74848),i=r(28453);const s={title:"Configuring Ethernet Over Secure Vector Routing",sidebar_label:"Configuring Ethernet Over Secure Vector Routing"},o=void 0,c={id:"config_EthoSVR",title:"Configuring Ethernet Over Secure Vector Routing",description:"Use the following procedures to configure an SSR network to use Ethernet over SVR (EoSVR). Any network interface can be configured to use Ethernet over SVR.",source:"@site/docs/config_EthoSVR.md",sourceDirName:".",slug:"/config_EthoSVR",permalink:"/docs/config_EthoSVR",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1711026369,formattedLastUpdatedAt:"Mar 21, 2024",frontMatter:{title:"Configuring Ethernet Over Secure Vector Routing",sidebar_label:"Configuring Ethernet Over Secure Vector Routing"},sidebar:"docs",previous:{title:"Application Steering",permalink:"/docs/config_application_steering"},next:{title:"Configuring Ethernet Over SVR for Active/Standby",permalink:"/docs/config_EthoSVR_activestandby"}},l={},d=[{value:"Interface Redundancy on Ethernet over SVR",id:"interface-redundancy-on-ethernet-over-svr",level:3},{value:"Configure an Ethernet over SVR Bridge",id:"configure-an-ethernet-over-svr-bridge",level:3},{value:"Create a Service For Ethernet over SVR",id:"create-a-service-for-ethernet-over-svr",level:3},{value:"Assign the Service Route",id:"assign-the-service-route",level:3},{value:"Peer List",id:"peer-list",level:3}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Use the following procedures to configure an SSR network to use Ethernet over SVR (EoSVR). Any network interface can be configured to use Ethernet over SVR."}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["When configuring EoSVR on a STEP-enabled router, it is a best practice to clear all existing sessions so the routers begin using the STEP-based routes. This is especially important for EoSVR configurations, to prevent stuck flows and traffic from being dropped. Use the command ",(0,t.jsx)(n.code,{children:"delete sessions service <eosvr-service-name>"})," to clear sessions."]})}),"\n",(0,t.jsx)(n.h3,{id:"interface-redundancy-on-ethernet-over-svr",children:"Interface Redundancy on Ethernet over SVR"}),"\n",(0,t.jsx)(n.admonition,{type:"important",children:(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Important Configuration Note for EoSVR Interface Redundancy"})})}),"\n",(0,t.jsxs)(n.p,{children:["When configuring EOSVR for interface redundancy, it is crucial to set the ",(0,t.jsx)(n.code,{children:"ethernet-over-svr encapsulate-all-traffic"})," field to ",(0,t.jsx)(n.code,{children:"true"}),". Failure to enable this mode may result in continued traffic transmission to the old active interface from the switch during an interface or node failover. This may continue until the ARP times out on the switch side."]}),"\n",(0,t.jsxs)(n.p,{children:["Enabling the ",(0,t.jsx)(n.code,{children:"encapsulate-all-traffic"})," mode ensures that the reverse traffic from the remote peer utilizes a separate session from the forward traffic. This mechanism allows the reverse flow to rectify the ARP entries in the switch and resume normal operation.\nJuniper recommends verifying ",(0,t.jsx)(n.code,{children:"ethernet-over-svr encapsulate-all-traffic"})," is set to ",(0,t.jsx)(n.code,{children:"true"})," to ensure seamless interface redundancy."]}),"\n",(0,t.jsx)(n.h3,{id:"configure-an-ethernet-over-svr-bridge",children:"Configure an Ethernet over SVR Bridge"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"On the Configuration home screen, select a Router."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Scroll down and select a Node."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Scroll down to ",(0,t.jsx)(n.strong,{children:"Device Interfaces"})," and select the device interface (the LAN interface) that connects to the peer SSR router."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Scroll down to ",(0,t.jsx)(n.strong,{children:"Network Interfaces"}),", and select the network interface (the LAN interface) that connects to the peer SSR router."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Scroll down to the ",(0,t.jsx)(n.strong,{children:"Ethernet Over SVR Bridge"})," tile, and click it.\n",(0,t.jsx)(n.img,{alt:"Ethernet over SVR",src:r(96026).A+"",width:"180",height:"147"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Enter a name for the bridge."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Set Enabled to true.\n",(0,t.jsx)(n.img,{alt:"Name the Bridge",src:r(13505).A+"",width:"653",height:"388"})]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"Enabling the Encapsulate All switch encapsulates all traffic, including IP traffic."})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"In the Peer Info panel, select ADD."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Enter LAN IP address of the corresponding peer SSR router where the same bridge name is configured.\n",(0,t.jsx)(n.img,{alt:"Peer Info",src:r(19988).A+"",width:"613",height:"271"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"From the Name drop down, select the Peer router, and click SAVE."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Repeat this process for the Peer router, using the same name for the bridge and adding the appropriate Peer IP address and name."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"create-a-service-for-ethernet-over-svr",children:"Create a Service For Ethernet over SVR"}),"\n",(0,t.jsxs)(n.p,{children:["Use the following procedure to create a service on each router for layer 2 traffic. For IP traffic, use the ",(0,t.jsx)(n.a,{href:"/docs/intro_basic_conductor_config#create-a-service",children:"Create a Service"})," procedure."]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["On the Configuration home screen, scroll down to ",(0,t.jsx)(n.strong,{children:"Services"})," and click ADD."]}),"\n",(0,t.jsx)(n.li,{children:"Name the service and click SAVE."}),"\n",(0,t.jsxs)(n.li,{children:["Under ",(0,t.jsx)(n.strong,{children:"Service Applies To"}),", click New and select router from the drop down."]}),"\n",(0,t.jsx)(n.li,{children:"Click SAVE."}),"\n",(0,t.jsxs)(n.li,{children:["In the ",(0,t.jsx)(n.strong,{children:"Router Name"})," panel, select ADD."]}),"\n",(0,t.jsx)(n.li,{children:"Select the router name from the drop down, and click SAVE."}),"\n",(0,t.jsxs)(n.li,{children:["Return to the ",(0,t.jsx)(n.strong,{children:"Service"})," panel, and scroll to the ",(0,t.jsx)(n.strong,{children:"Service Transport"})," pane."]}),"\n",(0,t.jsxs)(n.li,{children:["Click ADD, select ",(0,t.jsx)(n.strong,{children:"UDP"})," from the drop down, and click SAVE."]}),"\n",(0,t.jsxs)(n.li,{children:["In the ",(0,t.jsx)(n.strong,{children:"Service Transport: UDP"})," window, under ",(0,t.jsx)(n.strong,{children:"Port Ranges"})," click ADD."]}),"\n",(0,t.jsxs)(n.li,{children:["Set the ",(0,t.jsx)(n.strong,{children:"Start Port"})," to 1281 and click SAVE."]}),"\n",(0,t.jsxs)(n.li,{children:["Return to the Service Panel, and scroll down to the ",(0,t.jsx)(n.strong,{children:"Service Addresses"})," panel."]}),"\n",(0,t.jsx)(n.li,{children:"Click ADD, and enter the IP address of the EthOverSVR interface (the LAN interface for the router for which you are currently configuring the service.)"}),"\n",(0,t.jsx)(n.li,{children:"Click SAVE."}),"\n",(0,t.jsx)(n.li,{children:"Create another service for the other router - perform the same steps, but in step 6, choose the Peer router."}),"\n",(0,t.jsx)(n.li,{children:"Return to the Configuration home screen."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"assign-the-service-route",children:"Assign the Service Route"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"On the Configuration home screen, select the first router configured for EoSVR."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Scroll down to the ",(0,t.jsx)(n.strong,{children:"Service Route"})," panel and click ADD."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Name the Service Route and click SAVE."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Under ",(0,t.jsx)(n.strong,{children:"Service Route Information"}),", select the EoSVR service you created prevoiusly."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Under ",(0,t.jsx)(n.strong,{children:"Service Route Type"}),", select the drop down, scroll down and select ",(0,t.jsx)(n.strong,{children:"Eosvr Bridge"}),".\n",(0,t.jsx)(n.img,{alt:"Service Route Type",src:r(47709).A+"",width:"733",height:"716"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In the ",(0,t.jsx)(n.strong,{children:"To EoSVR Bridge"})," field, use the drop down to select the EoSVR Bridge you configured earlier.\n",(0,t.jsx)(n.img,{alt:"Service Route Type Next",src:r(66502).A+"",width:"747",height:"170"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Repeat the procedure for the second router configured for EoSVR."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"peer-list",children:"Peer List"}),"\n",(0,t.jsx)(n.p,{children:"The Peer list (created as part of the EoSVR config process) consists of peers with the same EoSVR bridge name and network interface IP."})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},47709:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/config_EthoSVR_ASR5-5fb13f554c11b0151aa7710b727a6f4c.png"},66502:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/config_EthoSVR_ASR6-901aa2d4ad2a7c8912efc96532d574c0.png"},13505:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/config_EthoSVR_BridgeS5-d13a23c6b451eef2cffefaa3ae3d675f.png"},19988:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/config_EthoSVR_BridgeS8-c673a7753a46bffa4ebdb14c252349c4.png"},96026:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/config_EthoSVR_tile-0415c7af658987c5967052bebd9db9d8.png"},28453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>c});var t=r(96540);const i={},s=t.createContext(i);function o(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);