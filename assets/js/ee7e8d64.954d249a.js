"use strict";(self.webpackChunk_128t_docs=self.webpackChunk_128t_docs||[]).push([[1371],{20541:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>d});var s=i(74848),o=i(28453);const t={title:"Onboard an SSR Device using OTP",sidebar_label:"Onboard an SSR Device using OTP"},r=void 0,a={id:"onboard_ssr_device_otp",title:"Onboard an SSR Device using OTP",description:"The steps in this section describe the process of re-imaging an SSR100 or SSR1000 series device for onboarding to a Conductor using the OTP process. This process is for SSR devices that cannot use Mist for onboarding, telemetry, or WAN Assurance.",source:"@site/docs/onboard_ssr_device_otp.md",sourceDirName:".",slug:"/onboard_ssr_device_otp",permalink:"/docs/onboard_ssr_device_otp",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1710456059,formattedLastUpdatedAt:"Mar 14, 2024",frontMatter:{title:"Onboard an SSR Device using OTP",sidebar_label:"Onboard an SSR Device using OTP"},sidebar:"docs",previous:{title:"Onboard an SSR Device to a Conductor",permalink:"/docs/onboard_ssr_to_conductor"},next:{title:"Router Migration",permalink:"/docs/howto_router_migration"}},c={},d=[{value:"Re-Imaging Process",id:"re-imaging-process",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"OTP Re-Imaging Process",id:"otp-re-imaging-process",level:2},{value:"Mac Serial Connection and Set-up",id:"mac-serial-connection-and-set-up",level:3},{value:"Windows Serial Connection and Set-up",id:"windows-serial-connection-and-set-up",level:3},{value:"Device Re-imaging",id:"device-re-imaging",level:3},{value:"SSR100 Series Devices",id:"ssr100-series-devices",level:4},{value:"SSR1000 Series Devices",id:"ssr1000-series-devices",level:4}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["The steps in this section describe the process of ",(0,s.jsx)(n.strong,{children:"re-imaging an SSR100 or SSR1000 series device"})," for onboarding to a Conductor using the OTP process. This process is for SSR devices that ",(0,s.jsx)(n.strong,{children:"cannot"})," use Mist for onboarding, telemetry, or WAN Assurance."]}),"\n",(0,s.jsx)(n.admonition,{type:"important",children:(0,s.jsxs)(n.p,{children:['For customers or partners who can access Mist and are not in an "air-gap" network, the easiest way to onboard an SSR device is to configure an account on Mist (this is free), and onboard to a conductor using ZTP. This provides a simple conductor onboarding process, and does not require access to Mist after the onboarding. See ',(0,s.jsx)(n.a,{href:"/docs/config_wan_assurance",children:"ZTP Onboarding to a Conductor."})," ",(0,s.jsx)(n.strong,{children:"This process provides the ability to perform conductor-managed onboarding for customers who will not be using Mist Telemetry or WAN Assurance."})]})}),"\n",(0,s.jsx)(n.h2,{id:"re-imaging-process",children:"Re-Imaging Process"}),"\n",(0,s.jsx)(n.p,{children:"The image shipped on the SSR devices is designed to connect with Mist and Mist WAN Assurance. To use these devices in a conductor-managed environment that does not have access to Mist, re-image the SSR device with a generally available, package-based, OTP-compatible SSR software release. The minimum requirement for this re-imaging process is SSR Version 5.4.9. OTP software images are located at the following link:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://software.128technology.com/artifactory/list/generic-128t-isos-release-local",children:"https://software.128technology.com/artifactory/list/generic-128t-isos-release-local"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"You will be prompted for your username and token to access the web page listing the software versions, and will be able to download directly from the page."}),"\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.a,{href:"/docs/intro_downloading_iso#downloading-an-iso",children:"Downloading an ISO"})," for important information about the download process."]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Use of a non-GA software release will void the Juniper device warranty. Refer to ",(0,s.jsx)(n.a,{href:"/docs/about_releases#general-availability",children:(0,s.jsx)(n.strong,{children:"SSR Releases - General Availability"})})," for the list of GA releases."]}),"\n"]})}),"\n",(0,s.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["To successfully onboard an SSR using OTP, you must already have a ",(0,s.jsx)(n.a,{href:"/docs/install_conductor_overview",children:"Conductor up and running"})," in the network where the SSR router can connect and receive configuration information."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The conductor ",(0,s.jsx)(n.strong,{children:"must have"})," a software version equal to or greater than the version that will be installed on the routers using OTP."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["To retain a valid warranty, the software used to re-image the SSR device must be an ",(0,s.jsx)(n.a,{href:"/docs/about_releases#general-availability",children:(0,s.jsx)(n.strong,{children:"official Juniper GA Release of the SSR Software"})}),", and at a minumum, version 5.4.9."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"otp-re-imaging-process",children:"OTP Re-Imaging Process"}),"\n",(0,s.jsx)(n.p,{children:"The process varies based on the SSR device, and whether Mac or Windows is used as the re-imaging host. Use the following procedures for the serial connection and set up and device specific re-imaging."}),"\n",(0,s.jsx)(n.h3,{id:"mac-serial-connection-and-set-up",children:"Mac Serial Connection and Set-up"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Use the procedure ",(0,s.jsx)(n.a,{href:"/docs/intro_creating_bootable_usb",children:"Creating a Bootable USB from an ISO"})," to download the package-based ISO and create a bootable USB. Once you have completed that step, continue below."]}),"\n",(0,s.jsx)(n.li,{children:"Connect the RJ45/USB cable to the console port on the SSR device."}),"\n",(0,s.jsx)(n.li,{children:"Connect the USB end of the cable to your Mac."}),"\n",(0,s.jsx)(n.li,{children:"Connect the power input to the back of the SSR device, but do not power it up."}),"\n",(0,s.jsx)(n.li,{children:"Open a terminal window."}),"\n",(0,s.jsx)(n.li,{children:"Run the following command to identify the USB port:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\tls -al /dev/*usb*\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"7",children:["\n",(0,s.jsx)(n.li,{children:"Copy the serial port info displayed after running the command above."}),"\n",(0,s.jsxs)(n.li,{children:["In the terminal window, type ",(0,s.jsx)(n.code,{children:"screen"}),", paste the serial port info, and add the baud rate as shown in the example below."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\tscreen /dev/tty.usbserial-A50285BI 115200\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"9",children:["\n",(0,s.jsx)(n.li,{children:"Press Enter."}),"\n",(0,s.jsx)(n.li,{children:"Insert your USB with the new ISO image into the USB port of the SSR device."}),"\n",(0,s.jsx)(n.li,{children:"Power up the SSR device."}),"\n",(0,s.jsx)(n.li,{children:"Use the instructions below appropriate for your device (SSR100 or SSR1000 series) to complete the re-imaging process."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"windows-serial-connection-and-set-up",children:"Windows Serial Connection and Set-up"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Use the procedure ",(0,s.jsx)(n.a,{href:"/docs/intro_creating_bootable_usb",children:"Creating a Bootable USB from an ISO"})," to download the package-based ISO and create a bootable USB. Once you have completed that step, continue below."]}),"\n",(0,s.jsx)(n.li,{children:"Connect the RJ45/USB cable to the console port on the SSR device."}),"\n",(0,s.jsx)(n.li,{children:"Connect the USB end of the cable to your Windows PC."}),"\n",(0,s.jsx)(n.li,{children:"Connect the power input to the back of the SSR device, but do not power it up."}),"\n",(0,s.jsxs)(n.li,{children:["From the Windows Device Manager, open a ",(0,s.jsx)(n.a,{href:"https://www.ssh.com/academy/ssh/putty",children:"PuTTY"})," session, and select the serial port and baud rate.\n",(0,s.jsx)(n.img,{alt:"PuTTY window",src:i(38350).A+"",width:"339",height:"338"})]}),"\n",(0,s.jsx)(n.li,{children:"Insert your USB with the new ISO image into the USB port of the SSR device."}),"\n",(0,s.jsx)(n.li,{children:"Power up the SSR device."}),"\n",(0,s.jsx)(n.li,{children:"Use the instructions below appropriate for your device (SSR100 or SSR1000 series) to complete the re-imaging process."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"device-re-imaging",children:"Device Re-imaging"}),"\n",(0,s.jsx)(n.p,{children:"Use the process specific to your device to complete the re-imaging process."}),"\n",(0,s.jsx)(n.h4,{id:"ssr100-series-devices",children:"SSR100 Series Devices"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["At the instruction in the terminal window: ",(0,s.jsx)(n.code,{children:"Press ESC for boot menu"}),", do so.\n",(0,s.jsx)(n.img,{alt:"Boot Menu prompt",src:i(24001).A+"",width:"587",height:"368"})]}),"\n",(0,s.jsx)(n.li,{children:"From the boot menu, enter the boot device number corresponding to the USB, and press Enter."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{alt:"Select Boot Device",src:i(78550).A+"",width:"588",height:"371"}),"\n3. When the USB installer boot menu is displayed, follow the ",(0,s.jsx)(n.a,{href:"/docs/intro_otp_iso_install#installing-ssr-using-one-touch-provisioning-otp",children:"Installing SSR Using OTP"})," instructions to complete the installation process."]}),"\n",(0,s.jsx)(n.h4,{id:"ssr1000-series-devices",children:"SSR1000 Series Devices"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["At the instruction in the terminal window: ",(0,s.jsx)(n.code,{children:"Press <Tab> or <DEL> to enter Setup"}),", do so.\n",(0,s.jsx)(n.img,{alt:"Setup Menu Prompt",src:i(43884).A+"",width:"640",height:"297"})]}),"\n",(0,s.jsxs)(n.li,{children:["When the Setup Utility window appears, use the left and right arrow keys to navigate to the ",(0,s.jsx)(n.code,{children:"Save & Exit"})," tab."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{alt:"Setup Utility",src:i(64821).A+"",width:"563",height:"354"}),"\n3. Use the up and down arrow keys to highlight the boot device in the the Boot Override list."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{alt:"Boot Override list",src:i(13466).A+"",width:"572",height:"359"}),"\n4. Press Enter to confirm boot from the USB device.\n5. When the USB installer boot menu is displayed, follow the ",(0,s.jsx)(n.a,{href:"/docs/intro_otp_iso_install#installing-ssr-using-one-touch-provisioning-otp",children:"Installing SSR Using OTP"})," instructions to complete the installation process."]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},13466:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/1x00_boot-override-590cf2f9a0988cf09622291389943741.png"},43884:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/1x00_setup_menu-a933d3b21e6143af6e6c4164f053f9c8.png"},78550:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/onboard_otp_boot_device-8a90a08660088f6a2a04c5048f2fbe9e.png"},24001:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/onboard_otp_boot_menu-a6cf17e36c4bfa8c2bb906a833ef0e80.png"},38350:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/putty-window-9d2243ee8deffae36f576e6ef9146392.png"},64821:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/setup-menu-prompt-fef7387b5a62cc9966dfecfb8b4f893e.png"},28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>a});var s=i(96540);const o={},t=s.createContext(o);function r(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);