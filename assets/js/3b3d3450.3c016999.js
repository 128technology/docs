"use strict";(self.webpackChunk_128t_docs=self.webpackChunk_128t_docs||[]).push([[1295],{4474:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>l,toc:()=>c});var r=n(74848),s=n(28453);const t={title:"SSR Anti-Virus",sidebar_label:"SSR Anti-Virus"},o=void 0,l={id:"sec-config-antivirus",title:"SSR Anti-Virus",description:"The SSR provides Anti-Virus protection on spoke devices, and is configurable on a per-application basis. SSR Anti-Virus runs with or without IDP configuration, reports metrics to the User Interface, and will generate alarms if the anti-virus engine fails for any reason. With both built-in and user-customizable security profiles, it provides a high level of flexibility.",source:"@site/docs/sec-config-antivirus.md",sourceDirName:".",slug:"/sec-config-antivirus",permalink:"/docs/sec-config-antivirus",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"SSR Anti-Virus",sidebar_label:"SSR Anti-Virus"},sidebar:"docs",previous:{title:"Troubleshooting IDP",permalink:"/docs/ts_idp"},next:{title:"SSR1300 and SSR1400 BIOS Upgrade for the Intel X722",permalink:"/docs/howto_update_bios"}},a={},c=[{value:"How Does It Work?",id:"how-does-it-work",level:2},{value:"SSR Anti-Virus Profiles",id:"ssr-anti-virus-profiles",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Configure Anti-Virus Standard Profiles (CLI)",id:"configure-anti-virus-standard-profiles-cli",level:4},{value:"Custom Profile Example (CLI)",id:"custom-profile-example-cli",level:4},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Alarms",id:"alarms",level:3},{value:"Show Commands",id:"show-commands",level:3}];function d(e){const i={code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.p,{children:"The SSR provides Anti-Virus protection on spoke devices, and is configurable on a per-application basis. SSR Anti-Virus runs with or without IDP configuration, reports metrics to the User Interface, and will generate alarms if the anti-virus engine fails for any reason. With both built-in and user-customizable security profiles, it provides a high level of flexibility."}),"\n",(0,r.jsx)(i.h2,{id:"how-does-it-work",children:"How Does It Work?"}),"\n",(0,r.jsx)(i.p,{children:"SSR Anti-Virus uses the Sophos anti-virus engine and includes a self signing certificate for simplified, secure connection. Similar to IDP, Anti-Virus is configurable directly on the spokes of the network. You can select one of the built-in security profiles, or define parameters on your own for a custom profile."}),"\n",(0,r.jsx)(i.h2,{id:"ssr-anti-virus-profiles",children:"SSR Anti-Virus Profiles"}),"\n",(0,r.jsxs)(i.p,{children:["The SSR provides the following ",(0,r.jsx)(i.strong,{children:"standard profiles"}),":"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"http-only"}),": Process only http traffic."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"default-profile"}),": Process all traffic: ftp, http, imap, pop3, smtp."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"no-ftp"}),": Process all traffic except ftp."]}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:["If you choose to configure a ",(0,r.jsx)(i.strong,{children:"custom profile"}),", the following lists and values are configurable:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"url-allowlist"}),": A list of URLs or addresses to be bypassed by antivirus scanning."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"mime-allowlist"}),": A MIME exception list to be bypassed by antivirus scanning."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"fallback-action"}),": A list of fallback options: block, log-and-permit, or permit. The default setting is log-and-permit, and can be changed to block or permit if desired."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"protocol"}),": The type of traffic to process. This list includes http, smtp, pop3, imap, ftp. Only the protocols selected from the list are processed by the AV engine."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"max-filesize"}),": The maximum filesize permitted. The default is 10,000 bytes."]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(i.p,{children:"Configuration can be performed from either the CLI or the Web Interface (GUI)."}),"\n",(0,r.jsx)(i.h4,{id:"configure-anti-virus-standard-profiles-cli",children:"Configure Anti-Virus Standard Profiles (CLI)"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"configure\n    authority\n        service internet\n            access-policy         branch\n            anti-virus-policy     http-only\n        exit\n    exit\nexit\n"})}),"\n",(0,r.jsx)(i.h4,{id:"custom-profile-example-cli",children:"Custom Profile Example (CLI)"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"configure\n    authority\n        service internet\n            access-policy branch\n            anti-virus-profile custom-profile\n        exit\n        anti-virus-profile          custom-profile\n            name                        custom-profile\n            url-allowlist               *.juniper.net\n            url-allowlist               *.mist.com    \n            mime-allowlist              audio\n            mime-allowlist              video\n            protocol                    http\n            protocol                    icmp\n            max-filesize                20000\n            fallback-action             permit\n         exit\n    exit\nexit\n"})}),"\n",(0,r.jsx)(i.p,{children:"In most cases, entering invalid values or parameters during configuration will generate a message in either the CLI or web interface informing the user that the entry is not correct. Invalid configurations will not be committed, and will generate a validation error."}),"\n",(0,r.jsx)(i.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(i.p,{children:"Use the following information and show commands to help identify issues with configuring or running Anti-Virus."}),"\n",(0,r.jsx)(i.h3,{id:"alarms",children:"Alarms"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Anti-Virus server is down: An alarm is triggered and an error logged."}),"\n",(0,r.jsx)(i.li,{children:"Anti-Virus engine not running: An alarm is triggered and an error logged after X number of restart attempts."}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"show-commands",children:"Show Commands"}),"\n",(0,r.jsx)(i.p,{children:"The following show commands can be used to view information relevant to the Anti-Virus feature."}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"show idp application status"})," - AV Engine status, license information."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"show stats idp antivirus"})," - Information regarding traffic processed by the AV engine."]}),"\n"]})]})}function u(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>l});var r=n(96540);const s={},t=r.createContext(s);function o(e){const i=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(t.Provider,{value:i},e.children)}}}]);