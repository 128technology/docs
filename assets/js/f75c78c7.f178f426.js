"use strict";(self.webpackChunk_128t_docs=self.webpackChunk_128t_docs||[]).push([[365],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return u}});var i=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=i.createContext({}),s=function(e){var t=i.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=s(e.components);return i.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},h=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),h=s(n),u=a,m=h["".concat(c,".").concat(u)]||h[u]||p[u]||r;return n?i.createElement(m,l(l({ref:t},d),{},{components:n})):i.createElement(m,l({ref:t},d))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,l=new Array(r);l[0]=h;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:a,l[1]=o;for(var s=2;s<r;s++)l[s]=n[s];return i.createElement.apply(null,l)}return i.createElement.apply(null,n)}h.displayName="MDXCreateElement"},78343:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return o},contentTitle:function(){return c},metadata:function(){return s},toc:function(){return d},default:function(){return h}});var i=n(87462),a=n(63366),r=(n(67294),n(3905)),l=["components"],o={title:"Web Filtering",sidebar:"Web Filtering"},c=void 0,s={unversionedId:"config_domain-based_web_filter",id:"config_domain-based_web_filter",title:"Web Filtering",description:"Version History",source:"@site/docs/config_domain-based_web_filter.md",sourceDirName:".",slug:"/config_domain-based_web_filter",permalink:"/docs/config_domain-based_web_filter",tags:[],version:"current",lastUpdatedAt:1661133931,formattedLastUpdatedAt:"8/22/2022",frontMatter:{title:"Web Filtering",sidebar:"Web Filtering"},sidebar:"docs",previous:{title:"Management over Forwarding",permalink:"/docs/config_management_over_forwarding"},next:{title:"Application Identification",permalink:"/docs/config_app_ident"}},d=[{value:"Version History",id:"version-history",children:[],level:4},{value:"Overview",id:"overview",children:[{value:"Basic Configuration",id:"basic-configuration",children:[{value:"Example Config",id:"example-config",children:[],level:4}],level:3}],level:2},{value:"How it Works",id:"how-it-works",children:[{value:"Configuring Web Filtering using the PCLI",id:"configuring-web-filtering-using-the-pcli",children:[{value:"Configure <code>application-identification</code>",id:"configure-application-identification",children:[],level:4},{value:"Create the Parent Service",id:"create-the-parent-service",children:[],level:4},{value:"Create the Child Service",id:"create-the-child-service",children:[],level:4},{value:"Configure the Access Policy",id:"configure-the-access-policy",children:[],level:4}],level:3}],level:2},{value:"Domain Categories",id:"domain-categories",children:[],level:2},{value:"Service Matching Order",id:"service-matching-order",children:[{value:"Matching Order Algorithm",id:"matching-order-algorithm",children:[],level:3}],level:2},{value:"Configuring Web Filtering using the GUI",id:"configuring-web-filtering-using-the-gui",children:[{value:"Create a Parent-level Service",id:"create-a-parent-level-service",children:[],level:3},{value:"Create the Child Service",id:"create-the-child-service-1",children:[{value:"Create the child service",id:"create-the-child-service-2",children:[],level:4}],level:3},{value:"Configure the Tenant",id:"configure-the-tenant",children:[],level:3},{value:"Create the Access Policy",id:"create-the-access-policy",children:[],level:3}],level:2},{value:"Show Commands",id:"show-commands",children:[],level:2}],p={toc:d};function h(e){var t=e.components,o=(0,a.Z)(e,l);return(0,r.kt)("wrapper",(0,i.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h4",{id:"version-history"},"Version History"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Release"),(0,r.kt)("th",{parentName:"tr",align:null},"Modification"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"5.0.0"),(0,r.kt)("td",{parentName:"tr",align:null},"Application categorization and Domain Filtering introduced")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"5.5.0"),(0,r.kt)("td",{parentName:"tr",align:null},"Support for Enhanced Web Filtering added")))),(0,r.kt)("h2",{id:"overview"},"Overview"),(0,r.kt)("p",null,"Web filtering allows administrators to prevent access to dangerous, malicious, or inappropriate internet content. Services are created to handle traffic using the following set of configuration elements:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"url"),(0,r.kt)("li",{parentName:"ul"},"domain-name"),(0,r.kt)("li",{parentName:"ul"},"subcategory"),(0,r.kt)("li",{parentName:"ul"},"category")),(0,r.kt)("p",null,"Web filtering extracts the full URL as http traffic traverses the router, allowing a targeted approach to filtering. Additionally, web filtering provides domain classification using third party data sources to generate a comprehensive, real time, and up-to-date worldwide database for categorizing domains and URLs."),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Web Filtering is a separate, optional feature, available through the purchase of a Web-Filtering license. For information about activating this powerful feature, please contact Customer Support or your Sales Engineer."))),(0,r.kt)("h3",{id:"basic-configuration"},"Basic Configuration"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Configure ",(0,r.kt)("inlineCode",{parentName:"li"},"application-identification")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"web-filtering")),(0,r.kt)("li",{parentName:"ul"},"Configure or edit a child service to block the content")),(0,r.kt)("h4",{id:"example-config"},"Example Config"),(0,r.kt)("p",null,"Configure ",(0,r.kt)("inlineCode",{parentName:"p"},"application-identification")," mode ",(0,r.kt)("inlineCode",{parentName:"p"},"all")," and enable ",(0,r.kt)("inlineCode",{parentName:"p"},"web-filtering"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"config\n    authority\n              router  office\n                name      office\n                application-identification\n                  mode  all\n                  web-filtering\n                      enabled true                   \n                exit\n              exit\n    exit\nexit\n")),(0,r.kt)("p",null,"Create a child service with an ",(0,r.kt)("inlineCode",{parentName:"p"},"access-policy")," to restrict traffic:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'config\n    authority\n        service      internet\n            name                internet\n            description         "The INTERNET"\n            address             0.0.0.0/0\n            access-policy       lan\n                source  lan\n                permission allow\n            exit\n        exit\n        service  block.internet\n            name                block.internet\n            description         "Block certain content"\n            domain-name-category    Sports\n            access-policy       lan\n                source      lan\n                permission  deny\n            exit\n        exit\nexit\n\n')),(0,r.kt)("h2",{id:"how-it-works"},"How it Works"),(0,r.kt)("p",null,"The SSR maintains a cache of the most frequently used domains and URLs. As clients request URLs over HTTP, the SSR compares the request to the cache. If a requested URL is matched to one in the cache, then the information configured for the Category is used - allow or block. If the requested URL does not exist in the cache, the SSR makes a secure, authenticated, and asynchronous query to the Websense ThreatSeeker Cloud service for categorization of the URL. "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"While waiting for a response to the categorization query, the SSR will drop packets for the request. Clients are expected to retransmit the request. If a configurable threshold of retransmissions is hit, the SSR will give up on categorization and allow the session."),(0,r.kt)("li",{parentName:"ul"},"When a response is received, the cache is updated, and the category information in the service policy is applied.")),(0,r.kt)("h3",{id:"configuring-web-filtering-using-the-pcli"},"Configuring Web Filtering using the PCLI"),(0,r.kt)("p",null,"Web Filtering is enabled on the router through ",(0,r.kt)("a",{parentName:"p",href:"/docs/config_app_ident"},"Application Identification"),". The mode must be set to ",(0,r.kt)("inlineCode",{parentName:"p"},"all"),", and ",(0,r.kt)("inlineCode",{parentName:"p"},"web-filtering")," must be ",(0,r.kt)("inlineCode",{parentName:"p"},"enabled true")," as shown above. A child service is then created with an allow or deny action for the domain category. "),(0,r.kt)("p",null,"The high level steps for configuring Web Filtering are:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Enable ",(0,r.kt)("inlineCode",{parentName:"li"},"application-identification mode all")),(0,r.kt)("li",{parentName:"ul"},"Enable web filtering"),(0,r.kt)("li",{parentName:"ul"},"Create a parent service"),(0,r.kt)("li",{parentName:"ul"},"Create the child service to be filtered"),(0,r.kt)("li",{parentName:"ul"},"Create an access policy on the child service to filter traffic ")),(0,r.kt)("p",null,"In many cases, you may have pieces of this procedure already in place, such as  the ",(0,r.kt)("em",{parentName:"p"},"internet")," service configured as an example below. "),(0,r.kt)("h4",{id:"configure-application-identification"},"Configure ",(0,r.kt)("inlineCode",{parentName:"h4"},"application-identification")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"config\n    authority\n              router  office\n                name      office\n                application-identification\n                  mode  all\n                  web-filtering\n                      enabled true                   \n                exit\n              exit\n    exit\nexit\n")),(0,r.kt)("h4",{id:"create-the-parent-service"},"Create the Parent Service"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"config\n    authority\n        service     internet\n            name          internet\n            scope         public\n            address       0.0.0.0/0\n        exit\n    exit\nexit\n")),(0,r.kt)("h4",{id:"create-the-child-service"},"Create the Child Service"),(0,r.kt)("p",null,"The following example uses the domain category to classify traffic."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"config\n    authority\n        service       adult.internet\n           name            adult.internet\n           domain-name-category    Adult \n        exit\n    exit\nexit\n")),(0,r.kt)("h4",{id:"configure-the-access-policy"},"Configure the Access Policy"),(0,r.kt)("p",null,"Configure the access-policy to block (deny) traffic."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"config\n    authority\n        service    adult.internet\n            name                  adult.internet\n            domain-name-category  Adult\n            access-policy         adult.internet\n                source      adult.internet\n                permission  deny\n            exit\n        exit\n    exit\nexit\n\n")),(0,r.kt)("h2",{id:"domain-categories"},"Domain Categories"),(0,r.kt)("p",null,"Listed below are the default set of SSR domain categories, which apply to all data sources on the system. These categories are not blocked by default, nor are they considered threatening, but represent a list of categories of information. Individual services and service policies can be configured on the SSR to allow or deny access to the category, or domains within a category. "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Adult"),(0,r.kt)("li",{parentName:"ul"},"Advertisement"),(0,r.kt)("li",{parentName:"ul"},"ArtsAndEntertainment"),(0,r.kt)("li",{parentName:"ul"},"Business"),(0,r.kt)("li",{parentName:"ul"},"CareerAndEducation"),(0,r.kt)("li",{parentName:"ul"},"Collaboration"),(0,r.kt)("li",{parentName:"ul"},"Conferencing"),(0,r.kt)("li",{parentName:"ul"},"DeviceIoT"),(0,r.kt)("li",{parentName:"ul"},"FileSharing"),(0,r.kt)("li",{parentName:"ul"},"Financial"),(0,r.kt)("li",{parentName:"ul"},"Gambling"),(0,r.kt)("li",{parentName:"ul"},"Games"),(0,r.kt)("li",{parentName:"ul"},"Government"),(0,r.kt)("li",{parentName:"ul"},"Healthcare"),(0,r.kt)("li",{parentName:"ul"},"Illegal"),(0,r.kt)("li",{parentName:"ul"},"Infrastructure"),(0,r.kt)("li",{parentName:"ul"},"Malware"),(0,r.kt)("li",{parentName:"ul"},"Miscellaneous"),(0,r.kt)("li",{parentName:"ul"},"Networking"),(0,r.kt)("li",{parentName:"ul"},"NewsAndReference"),(0,r.kt)("li",{parentName:"ul"},"Recreation"),(0,r.kt)("li",{parentName:"ul"},"RemoteDesktop"),(0,r.kt)("li",{parentName:"ul"},"Search"),(0,r.kt)("li",{parentName:"ul"},"Security"),(0,r.kt)("li",{parentName:"ul"},"Shopping"),(0,r.kt)("li",{parentName:"ul"},"SocialMedia"),(0,r.kt)("li",{parentName:"ul"},"SoftwareUpdates"),(0,r.kt)("li",{parentName:"ul"},"Sports"),(0,r.kt)("li",{parentName:"ul"},"StreamingMedia"),(0,r.kt)("li",{parentName:"ul"},"Technology"),(0,r.kt)("li",{parentName:"ul"},"Travel"),(0,r.kt)("li",{parentName:"ul"},"Weapon")),(0,r.kt)("p",null,"Active categories and domains are displayed in the GUI on the Applications Seen page. Use the link on the top right corner of the Routers page to view the applications available on the Routers page. "),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Select Applications Seen",src:n(64114).Z})),(0,r.kt)("h2",{id:"service-matching-order"},"Service Matching Order"),(0,r.kt)("p",null,"When matching a session to a service, the list below represents the priority order in which the service resolution is performed. "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"URL"),(0,r.kt)("li",{parentName:"ul"},"domain-name"),(0,r.kt)("li",{parentName:"ul"},"subcategory"),(0,r.kt)("li",{parentName:"ul"},"category")),(0,r.kt)("p",null,"The SSR obtains the category and subcategory for the URL and domain from Websense, which is then used for the service matching algorithm described below. "),(0,r.kt)("p",null,"For example, on the URL: ",(0,r.kt)("a",{parentName:"p",href:"http://www.google.com/doodles/doodle-champion-island-games-september-05"},"http://www.google.com/doodles/doodle-champion-island-games-september-05"),", matching will be performed in the following order. "),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Does any child service URL list contain a match for this URL, including any wild-card patterns for URLs? ")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Yes, the following child service matches the URL:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'     service  google-doodle.internet\n            name                google-doodle.internet\n            description         "No doodling at work"\n            url                 http://www.google.com/doodles/*\n\n            access-policy       lan\n                source      lan\n                permission  deny\n            exit\n        exit\n')),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"If there was no match to the first query, then does any child service match the domain in the URL? ")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Yes, the following domain based service matches the URL:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'        service  google.internet\n            name                google.internet\n            description         "No searching at work"\n            domain-name             *google.com\n\n            access-policy       lan\n                source      lan\n                permission  deny\n            exit\n        exit\n')),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"If there was no match to query 2, then is there a child service which contains the subcategory Search Engines and Portals ? ")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Yes, the URL matches a sub-category called ",(0,r.kt)("em",{parentName:"li"},"Search Engines and Portals")," within the category of ",(0,r.kt)("strong",{parentName:"li"},"Technology"),".")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'        service  search.internet\n            name                search.internet\n            description         "No searching at work"\n            subcategory             Search Engines and Portals\n\n            access-policy       lan\n                source      lan\n                permission  deny\n            exit\n        exit\n')),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"And finally, if there is no match to query 3; is there a child service which matches category Technology? For example:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'        service  technology.internet\n            name                technology.internet\n            description         "Technology is okay at work"\n            domain-category         Technology\n\n            access-policy       lan\n                source      lan\n                permission  allow\n            exit\n        exit\n')),(0,r.kt)("p",null,"In this case, ",(0,r.kt)("inlineCode",{parentName:"p"},"google.com")," does not fall into the category of Technology."),(0,r.kt)("h3",{id:"matching-order-algorithm"},"Matching Order Algorithm"),(0,r.kt)("p",null,"The matching order algorithm is the same for scenarios when all the web filtering config options are used across different child services under the parent, or used on the same child service. For example, consider the following service:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'        service  block-search.internet\n            name                search.internet\n            description         "No searching at work"\n            url                 http://www.google.com/doodles/*\n            domain-name         *google.com\n            subcategory         Search Engines and Portals\n\n            access-policy       lan\n                source      lan\n                permission  deny\n            exit\n        exit\n')),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"block-search.internet")," child service will match the various URLs as follows:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"URL"),(0,r.kt)("th",{parentName:"tr",align:null},"Match Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"http://www.google.com/doodles/doodle-champion-island-games-september-05"},"http://www.google.com/doodles/doodle-champion-island-games-september-05")),(0,r.kt)("td",{parentName:"tr",align:null},"By URL",(0,r.kt)("br",null)," ",(0,r.kt)("a",{parentName:"td",href:"http://www.google.com/doodles/"},"http://www.google.com/doodles/"),"*"),(0,r.kt)("td",{parentName:"tr",align:null},"The wild-card URL is the best match in this case.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"http://www.google.com"},"http://www.google.com")),(0,r.kt)("td",{parentName:"tr",align:null},"By domain *google.com"),(0,r.kt)("td",{parentName:"tr",align:null},"The URL is not a match, but the domain is and the overall child service is a match as a result.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"http://www.bing.com"},"http://www.bing.com")),(0,r.kt)("td",{parentName:"tr",align:null},"By subcategory Search Engines and Portals."),(0,r.kt)("td",{parentName:"tr",align:null},"The URL matches neither the configured URL or domain pattern, however, it is a Search Engine and matches the child service.")))),(0,r.kt)("h2",{id:"configuring-web-filtering-using-the-gui"},"Configuring Web Filtering using the GUI"),(0,r.kt)("p",null,"To enable Web Filtering, configure application identification, a parent service, a child service, and access policies to allow or deny traffic. In many cases, you may have pieces of this procedure already in place, such as  the ",(0,r.kt)("em",{parentName:"p"},"internet")," service configured as an example below. "),(0,r.kt)("p",null,"The high level steps for configuring web filtering are:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Create a parent service"),(0,r.kt)("li",{parentName:"ul"},"Create the child service"),(0,r.kt)("li",{parentName:"ul"},"Configure a Tenant"),(0,r.kt)("li",{parentName:"ul"},"Create an access policy on the child service to filter traffic ")),(0,r.kt)("p",null,"The following procedures describe configuring web filtering from the GUI. An example of the PCLI configuration is also shown."),(0,r.kt)("h3",{id:"create-a-parent-level-service"},"Create a Parent-level Service"),(0,r.kt)("p",null,"Create a broad service representing the internet."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Log in to the Conductor GUI."),(0,r.kt)("li",{parentName:"ol"},"Select Configuration."),(0,r.kt)("li",{parentName:"ol"},"Scroll down to Services."),(0,r.kt)("li",{parentName:"ol"},"Select ADD next to Services."),(0,r.kt)("li",{parentName:"ol"},"Name the service internet, and select SAVE."),(0,r.kt)("li",{parentName:"ol"},"On the Service screen, verify that Enabled is set to true."),(0,r.kt)("li",{parentName:"ol"},"Set Scope to public."),(0,r.kt)("li",{parentName:"ol"},"To generate Application Identification Categories, set the toggle to True."),(0,r.kt)("li",{parentName:"ol"},"Scroll down to Service Addresses and select ADD."),(0,r.kt)("li",{parentName:"ol"},"Enter the IP address 0.0.0.0/0, and select SAVE."),(0,r.kt)("li",{parentName:"ol"},"At the top of the screen, select VALIDATE.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"config\n    authority\n        service     internet\n            name          internet\n            scope         public\n            address       0.0.0.0/0\n        exit\n    exit\nexit\n")),(0,r.kt)("h3",{id:"create-the-child-service-1"},"Create the Child Service"),(0,r.kt)("p",null,"The child service classifies the traffic and provides the option to filter different domains and categories."),(0,r.kt)("h4",{id:"create-the-child-service-2"},"Create the child service"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"In the Services panel, select ADD."),(0,r.kt)("li",{parentName:"ol"},"Create a new service, ",(0,r.kt)("inlineCode",{parentName:"li"},"adult.internet"),"."),(0,r.kt)("li",{parentName:"ol"},"On the Service screen, verify that Enabled is set to ",(0,r.kt)("strong",{parentName:"li"},"true"),"."),(0,r.kt)("li",{parentName:"ol"},"Set Scope to private."),(0,r.kt)("li",{parentName:"ol"},"Scroll down to the Domain Name Category field, click ADD and select/add the domain category, Adult. ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"config\n    authority\n        service       adult.internet\n           name            adult.internet\n           domain-name-category    Adult \n        exit\n    exit\nexit\n")),(0,r.kt)("h3",{id:"configure-the-tenant"},"Configure the Tenant"),(0,r.kt)("p",null,"A tenant must be configured in order to create an Access Policy. If you have not already configured a tenant for the service, refer to ",(0,r.kt)("a",{parentName:"p",href:"/docs/intro_basic_conductor_config#create-the-tenant"},"Create the Tenant")," in the Conductor Configuration documentation."),(0,r.kt)("h3",{id:"create-the-access-policy"},"Create the Access Policy"),(0,r.kt)("p",null,"Configure the access-policy to deny access to the domain category."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Scroll down to services."),(0,r.kt)("li",{parentName:"ol"},"Select adult.internet."),(0,r.kt)("li",{parentName:"ol"},"In the Basic Information panel, set the Tenant to adult.internet."),(0,r.kt)("li",{parentName:"ol"},"Scroll down to Access Policies and click ADD."),(0,r.kt)("li",{parentName:"ol"},"In the Source field, enter adult.internet (name of the service)."),(0,r.kt)("li",{parentName:"ol"},"In the permission field, select deny."),(0,r.kt)("li",{parentName:"ol"},"Click Validate."),(0,r.kt)("li",{parentName:"ol"},"Return to the Configuration Home screen."),(0,r.kt)("li",{parentName:"ol"},"Click Commit.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"config\n    authority\n        service    adult.internet\n            name                  adult.internet\n            domain-name-category  Adult\n            access-policy         adult.internet\n                source      adult.internet\n                permission  deny\n            exit\n            access-policy         home\n                source      home\n                permission  deny\n            exit\n        exit\n    exit\nexit\n\n")),(0,r.kt)("h2",{id:"show-commands"},"Show Commands"),(0,r.kt)("p",null,"The following show commands can be used from the CLI to display the list of domains and domain categories available and in use for web filtering. "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"show domain-name"),": Displays a list of the domain names."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"show domain-categories"),": Displays the list of categories shown ",(0,r.kt)("a",{parentName:"li",href:"#domain-categories"},"above."))))}h.isMDXComponent=!0},64114:function(e,t,n){t.Z=n.p+"assets/images/dbwf_appl_seen-febbfcb5d680ae6ae77e8223f8c18618.png"}}]);