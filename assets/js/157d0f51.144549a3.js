"use strict";(self.webpackChunk_128t_docs=self.webpackChunk_128t_docs||[]).push([[5252],{49905:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>a,default:()=>u,frontMatter:()=>c,metadata:()=>o,toc:()=>d});var i=t(74848),r=t(28453);const c={title:"Configuring RADUIS over TLS",sidebar_label:"Configuring RADIUS over TLS"},a=void 0,o={id:"config_radsec",title:"Configuring RADUIS over TLS",description:"RADIUS over TLS is designed to provide secure communication of RADIUS requests using the Transport Secure Layer (TLS) protocol. RADIUS over TLS, also known as RADSEC, redirects regular RADIUS traffic to remote RADIUS servers connected over TLS. RADSEC allows RADIUS authentication, authorization, and accounting data to be passed safely across untrusted networks.",source:"@site/docs/config_radsec.md",sourceDirName:".",slug:"/config_radsec",permalink:"/docs/config_radsec",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Configuring RADUIS over TLS",sidebar_label:"Configuring RADIUS over TLS"},sidebar:"docs",previous:{title:"Authentication Methods",permalink:"/docs/config_radius"},next:{title:"Configuring Syslog Over TLS",permalink:"/docs/config_syslog_tls"}},s={},d=[{value:"RADSEC Configuration - Existing Certificate",id:"radsec-configuration---existing-certificate",level:2},{value:"1. Configure the RADSEC server.",id:"1-configure-the-radsec-server",level:4},{value:"2. Configure the Trusted CA Certificate.",id:"2-configure-the-trusted-ca-certificate",level:4},{value:"3. Configure a Client Certificate to be used for the RADIUS client.",id:"3-configure-a-client-certificate-to-be-used-for-the-radius-client",level:4},{value:"4. Configure the RADIUS server at the Authority level to use the configured client certificate.",id:"4-configure-the-radius-server-at-the-authority-level-to-use-the-configured-client-certificate",level:4},{value:"5. Create a RADIUS User",id:"5-create-a-radius-user",level:4},{value:"RADSEC Configuration - Generate Certificate",id:"radsec-configuration---generate-certificate",level:2},{value:"1. Generate the Signing Request",id:"1-generate-the-signing-request",level:4},{value:"2. Configure the Trusted CA Certificate",id:"2-configure-the-trusted-ca-certificate-1",level:4},{value:"3. Import the Client Certificate",id:"3-import-the-client-certificate",level:4},{value:"4. Configure the Device to Accept the Client Certificate",id:"4-configure-the-device-to-accept-the-client-certificate",level:4}];function l(e){const n={admonition:"admonition",code:"code",h2:"h2",h4:"h4",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"RADIUS over TLS is designed to provide secure communication of RADIUS requests using the Transport Secure Layer (TLS) protocol. RADIUS over TLS, also known as RADSEC, redirects regular RADIUS traffic to remote RADIUS servers connected over TLS. RADSEC allows RADIUS authentication, authorization, and accounting data to be passed safely across untrusted networks."}),"\n",(0,i.jsx)(n.h2,{id:"radsec-configuration---existing-certificate",children:"RADSEC Configuration - Existing Certificate"}),"\n",(0,i.jsx)(n.p,{children:"Use the following information to configure RADIUS over TLS (RADSEC) using an existing certificate."}),"\n",(0,i.jsx)(n.h4,{id:"1-configure-the-radsec-server",children:"1. Configure the RADSEC server."}),"\n",(0,i.jsxs)(n.p,{children:["The following configuration example will add a radius server named ",(0,i.jsx)(n.code,{children:"radsec"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"admin@t327-dut1.cond# configure authority radius-server radsec\nadmin@t327-dut1.cond (radius-server[name=radsec])# address 172.18.5.224\nadmin@t327-dut1.cond (radius-server[name=radsec])# port 2083\nadmin@t327-dut1.cond (radius-server[name=radsec])# protocol tls\nadmin@t327-dut1.cond (radius-server[name=radsec])# account-creation manual\nadmin@t327-dut1.cond (radius-server[name=radsec])# ocsp strict\nadmin@t327-dut1.cond (radius-server[name=radsec])# server-name t327-dut1.openstacklocal\nadmin@t327-dut1.cond (radius-server[name=radsec])# top\n"})}),"\n",(0,i.jsx)(n.h4,{id:"2-configure-the-trusted-ca-certificate",children:"2. Configure the Trusted CA Certificate."}),"\n",(0,i.jsx)(n.p,{children:"The trusted CA certificate is necessary to validate the incoming client certificate. Certificates are pasted in as a multi-line config."}),"\n",(0,i.jsxs)(n.p,{children:["Create a certificate root named ",(0,i.jsx)(n.code,{children:"ca_root"})," and paste the certificate file content into the command:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"admin@conductor-node-1.Conductor# config authority trusted-ca-certificate ca_root\nadmin@conductor-node-1.Conductor (trusted-ca-certificate[name=ca_root])# content\nEnter plain for content (Press CTRL-D to finish):\n<paste-cert-file-content-here>\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"trusted-ca-certificate"})," is a list and may contain different CA roots used for different certificates. In that case, naming them all ",(0,i.jsx)(n.code,{children:"ca_root"})," would not be suitable. In that case, choose a name that is meaningful to the user and CA, eg: ",(0,i.jsx)(n.code,{children:"globalsign_root"}),"."]})}),"\n",(0,i.jsx)(n.h4,{id:"3-configure-a-client-certificate-to-be-used-for-the-radius-client",children:"3. Configure a Client Certificate to be used for the RADIUS client."}),"\n",(0,i.jsxs)(n.p,{children:["Repeat the previous step to create a client certificate named ",(0,i.jsx)(n.code,{children:"radsec"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"admin@conductor-node-1.Conductor# config authority client-certificate radsec\nadmin@conductor-node-1.Conductor (client-certificate[name=radsec])# content\nEnter plain for content (Press CTRL-D to finish):\n<paste-cert-file-content-here>\n"})}),"\n",(0,i.jsx)(n.h4,{id:"4-configure-the-radius-server-at-the-authority-level-to-use-the-configured-client-certificate",children:"4. Configure the RADIUS server at the Authority level to use the configured client certificate."}),"\n",(0,i.jsxs)(n.p,{children:["Associate the previously configured ",(0,i.jsx)(n.code,{children:"radsec"})," client certificate to the radius server running on a specified node."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"configure authority router cond node t327-dut1 radius client-certificate-name radsec"})}),"\n",(0,i.jsx)(n.p,{children:"Note that the client certificate selected should match the appropriate IP/hostname of the node as seen from the RADIUS server."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"validate"})," and ",(0,i.jsx)(n.code,{children:"commit"})," the changes."]}),"\n",(0,i.jsx)(n.h4,{id:"5-create-a-radius-user",children:"5. Create a RADIUS User"}),"\n",(0,i.jsxs)(n.p,{children:["Create a remotely authenticated RADIUS user. In this example we create user ",(0,i.jsx)(n.code,{children:"test1"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"*admin@conductor-node-1.Conductor# create user test1\nFull Name: test1\nAuthentication Type (remote or local): remote\nRoles (space separated): admin\nEnabled (true or false): true\nAccount 'test1' successfully created\n"})}),"\n",(0,i.jsxs)(n.p,{children:["When the user logs into the node ",(0,i.jsx)(n.code,{children:"t327-dut1"})," via ssh, the authentication request is sent via RADSEC to the server ",(0,i.jsx)(n.code,{children:"172.18.5.224"})," and the user is authenticated."]}),"\n",(0,i.jsx)(n.h2,{id:"radsec-configuration---generate-certificate",children:"RADSEC Configuration - Generate Certificate"}),"\n",(0,i.jsx)(n.p,{children:"Use the following examples to generate a client certificate for use on the device."}),"\n",(0,i.jsx)(n.h4,{id:"1-generate-the-signing-request",children:"1. Generate the Signing Request"}),"\n",(0,i.jsxs)(n.p,{children:["Use the ",(0,i.jsx)(n.code,{children:"create certificate request client"})," command to generate the signing request."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"admin@conductor-node-1.Conductor# create certificate request client radsec\nCountry name (2 letter code): US\nState or province name (full name): MA\nLocality name (eg: city): Westford\nOrganization name (eg: company): Juniper\nOrganization unit (eg: engineering):\nCommon name: dut1\nEmail address:\nSubject Alternative Name - DNS (fully qualified domain name):\nSubject Alternative Name - IP Address:\n% Error: Could not create request: Subject Alternative Name (DNS or IP address) is required\nadmin@conductor-node-1.Conductor# create certificate request client radsec\nCountry name (2 letter code): US\nState or province name (full name): MA\nLocality name (eg: city): Westford\nOrganization name (eg: company): Juniper\nOrganization unit (eg: engineering):\nCommon name: dut1\nEmail address:\nSubject Alternative Name - DNS (fully qualified domain name): dut1\nSubject Alternative Name - IP Address: 10.27.32.203\n\nRequest successfully generated:\n\n-----BEGIN CERTIFICATE REQUEST-----\nMIIC1jCCAb4CAQAwTjENMAsGA1UEAwwEZHV0MTELMAkGA1UEBhMCVVMxETAPBgNV\nBAcMCFdlc3Rmb3JkMRAwDgYDVQQKDAdKdW5pcGVyMQswCQYDVQQIDAJNQTCCASIw\nDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJ8WwHXP/z49sFsxpN5L9THO5y8N\nf/as8Nn6XUyG86YyxcR5IYL5gKR5//EunoVjLAUCHgBqxwaUa3enhNEQS97N4Bcs\nE7YygMkI7oAnHCioslB+x2Am/xKPRosh3s50fIN3mY409/byMGipfGcyNlMT8XbS\nXF/zmGBI1/4aRbeqL5VMDPO+9DNRxXMgqBs2y48WanGvZeZTP5B/sSczlhOSxHnu\nDxNYQ7+rZs9NpKzktCXOSA8nsz\n.\n.\n.\nwp4dOHuKsnf+ZsfNK4AGUYdh3qEa1/xJxyug1R3AGjItbkUzbJpR6hp7B0YYWV87\nQALMf6F0SKBDXg++\n-----END CERTIFICATE REQUEST-----\n"})}),"\n",(0,i.jsx)(n.h4,{id:"2-configure-the-trusted-ca-certificate-1",children:"2. Configure the Trusted CA Certificate"}),"\n",(0,i.jsx)(n.p,{children:"The trusted CA certificate is necessary to validate the incoming client certificate. Certificates are pasted in as a multi-line config."}),"\n",(0,i.jsxs)(n.p,{children:["Create a root certificate named ",(0,i.jsx)(n.code,{children:"ca_root"})," and paste the certificate file content into the command:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"admin@conductor-node-1.Conductor# configure authority trusted-ca-certificate ca_root\n*admin@conductor-node-1.Conductor (trusted-ca-certificate[name=ca_root])# content\nEnter plain for content (Press CTRL-D to finish):\n-----BEGIN PRIVATE KEY-----\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCqfzVmeFPMA+Jc\n53MlVF3LoYZAkqh1Dz3+HFnegcAU3/tCGSdfJad/PeF5KEQDDnF0vc9XbfS2/wJC\nwHAt15TH3iarSPE3dV3L0c1tyOFaMUNLAd3nsPArR0w/1YAfr1cAN0rEUZ4WmkZK\nvyFx6AsuVm5MpXR4z7U4j955sqRkWsi3I1hLtMPzuWEJA/AbpTCxb1k2xJDQWira\n/NALlz6NPVRcngBt56ZDhMNmy/g2zGEcmitEqMUOS7apvRk6hZK94dfjSQe4iEpX\nSdd6vvZxdrWGV10lmDDH0SPtmGBE+34r1UNIbp/XVRh6KxiNcjFVNBwlwqATmTYh\nxkXAPw1pAgMBAAECggEACZ3YNLnnvBOiAmx5larvCWvIZz7+am/cJseRmBfIbkT9\n5ooFqvu0OVyTqaJIR8XaR2PnXH6StXmntnqDpHWQTqUvlbGANIqWsyiig26zFCEu\nIAXwr0TKRERzKAWT4lwmOAGi4LuQa6Ty/wdNyx9z9f6hBQi2C5Rnm9OdkE6vsAtJ\nNbNcsV+bvedfLoJqG1MM3sh3LT3RAltaM0ntw3PdFiMVcQIJgGr85nVJcg4SCUkh\nJKlfUE83IqkwAd1V0jn/2yopCmQBLrpyqlRu2MmwFiIS+IUcoReemNK8mlfd8hbR\n.\n.\n.\n2P6CP4iOY1EjsxNssrLJKkxXdagYeZo5X2KOIqZ8FeVli4BM0mqX96UPN2zV3dNP\neN1DF6VSLghh30ITUauYdQ++\n-----END PRIVATE KEY-----\n \n-----BEGIN CERTIFICATE-----\nMIIDlDCCAnygAwIBAgIVAJHxzhL42q7io2PBDPR+TCeBsyQgMA0GCSqGSIb3DQEB\nCwUAMFExCzAJBgNVBAYTAlVTMRYwFAYDVQQIDA1NYXNzYWNodXNldHRzMREwDwYD\nVQQKDAhUZXN0IEluYzEXMBUGA1UEAwwOY2EuZXhhbXBsZS5jb20wHhcNMjQxMDIy\nMTYzODI1WhcNMjUxMDIyMTYzODI1WjBRMQswCQYDVQQGEwJVUzEWMBQGA1UECAwN\nTWFzc2FjaHVzZXR0czERMA8GA1UECgwIVGVzdCBJbmMxFzAVBgNVBAMMDmNhLmV4\nYW1wbGUuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqn81ZnhT\nzAPiXOdzJVRdy6GGQJKodQ89/hxZ3oHAFN/7QhknXyWnfz3heShEAw5xdL3PV230\ntv8CQpHKHjWWQzG1MM3sh3LT3RAltaM0NT6shNXE3va46f3zotWBd6PK9jC/Tpme\n.\n.\n.\nqynFiqlV0UDGgH+e8hCp41Seva5vBGYvwMVHPU80rhoAsTh1BNpM1r9xbvDQs5ui\n3QyeFCt/O0A=\n-----END CERTIFICATE-----\n"})}),"\n",(0,i.jsx)(n.h4,{id:"3-import-the-client-certificate",children:"3. Import the Client Certificate"}),"\n",(0,i.jsxs)(n.p,{children:["After the certificate is signed and returned, it is imported into the SSR for use by the client using the ",(0,i.jsx)(n.code,{children:"import certificate client"}),"  command. It is validated against any trusted certificates entered using ",(0,i.jsx)(n.code,{children:"trusted-ca-certificate"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"The following example shows an valid self-signed certificate being imported:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"admin@conductor-node-1.Conductor# import certificate client radsec\nEnter the end point certificate in PEM format (Press CTRL-D to finish):\n-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDFrn/2q4mijt14\ngjmN2agDfu6sykg4OJ2NDy4IRrBYilExRJHllAndtc04rp7EQ544Z+/J/dNJrmXK\nGnHvm/Rg0UdKnbFrw5aentpx3rFefdaf8nlJLW5rFH1wxDqUhE+y5q+s+8k3ESt0\n9L/26OxTQP11t5Vh/BEkK5iVHLDBGyHntUvEnM5tFWL7+NvefhuZ6McvY7GPDR8c\nbkuNHXlv9laeXQlI6IiiYum8waQDnJBGEx2wPTUguZJWP0YgxLinKiCDIINNEf+Y\ndGqxf7I/h01yH4nDGR3nad30fAN+10chzjMHYhmpPVR0K9IAPbyGucK0aOriJqZ5\n91wL39G5AgMBAAECggEAE2/xDSQYyG8bv7muRxBbwNw+Q6cwKrcGZtRTRmUM+ee/\nzAReBCDmR3KU1zn0SoALkqhFn6rhl6EaSSEIivLeuJZbWC7hPyNgMACWohOvhQcC\n.\n.\n.\nWiYWxHz5Q4wUxV5uTJR3Jq5rzcHr1shyVDT+aFf9tyNdcLFfbziZ1y/EfAPkOOoH\njLD4SXCWbmRxHYVMn3yhqK4=\n-----END PRIVATE KEY-----\n \n-----BEGIN CERTIFICATE-----\nMIIDpDCCAoygAwIBAgIVAL1k460IeyrQWoU82ZVHZ2asUrTuMA0GCSqGSIb3DQEB\nCwUAMFExCzAJBgNVBAYTAlVTMRYwFAYDVQQIDA1NYXNzYWNodXNldHRzMREwDwYD\nVQQKDAhUZXN0IEluYzEXMBUGA1UEAwwOY2EuZXhhbXBsZS5jb20wHhcNMjQxMDIy\nMTYzODI4WhcNMjUwMTIwMTYzODI4WjBVMQswCQYDVQQGEwJVUzEWMBQGA1UECAwN\nTWFzc2FjaHVzZXR0czERMA8GA1UECgwIVGVzdCBJbmMxGzAZBgNVBAMMEmNsaWVu\ndC5leGFtcGxlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMWu\nf/ariaKO3XiCOY3ZqAN+7qzKSDg4nY0PLghGsFiKUTFEkeWUCd21zTiunsRDnjhn\n78n900muZcoace+b9GDRR0qdsWvDlp6e2nHesV591p/yeUktbmsUfXDEOpSET7Lm\nr6z7yTcRK3T0v/bo7FNA/XW3lWH8ESQrmJUcsMEbIee1S8Sczm0VYvv4295+G5no\nxy9jsY8NHxxuS40deW/2Vp5dCUjoiKJi6bzBpAOckEYTHbA9NSC5klY/RiDEuKcq\nIIMgg00R/5h0arF/sj/fL0cKofSeAgu11z1891d1sc0OMwdiGak9VHQr0gA9vIa5\n. \n.\n.\n9cgLsL60tukLdwxH5S6gAw/MSm6ABYjdv\n-----END CERTIFICATE-----\n                                                                                                                                                                                                                                                                                \n/usr/lib/128technology/unzip/pcli/runfiles/pypi__36__cryptography_40_0_2/cryptography/x509/base.py:576: CryptographyDeprecationWarning: Parsed a negative serial number, which is disallowed by RFC 5280.\n  return rust_x509.load_pem_x509_certificates(data)\n\u2714 Importing...\nCertificate imported successfully\nWould you like to add the certificate to your configuration? [y/N]: y\nWhich router is this certificate for? (Select all if it applies to the entire authority) [all]: all\n% Warning:\n1. certificate contains the following issues: does not have the extendKeyUsage extension\n\n\n    config\n        authority\n            client-certificate radius\n                content\n\n2. certificate contains the following issues: does not have the extendKeyUsage extension\n\n\n    config\n        authority\n            client-certificate conductor-radius\n                content\n\nCertificate imported successfully\nWould you like to clean up the temporary certificate and key files? [Y/n]: Y\n"})}),"\n",(0,i.jsx)(n.h4,{id:"4-configure-the-device-to-accept-the-client-certificate",children:"4. Configure the Device to Accept the Client Certificate"}),"\n",(0,i.jsx)(n.p,{children:"Use the following example command to configure your device to accept the certificate."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:" configure authority router ComboWest node combo-west radius client-certificate-name radsec"})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var i=t(96540);const r={},c=i.createContext(r);function a(e){const n=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(c.Provider,{value:n},e.children)}}}]);