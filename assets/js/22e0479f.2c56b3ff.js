"use strict";(self.webpackChunk_128t_docs=self.webpackChunk_128t_docs||[]).push([[5198],{59825:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>a});var t=s(74848),i=s(28453);const r={title:"SNMP - Configuration",sidebar_label:"SNMP - Configuration"},c=void 0,o={id:"howto_config_snmp",title:"SNMP - Configuration",description:"Overview",source:"@site/docs/howto_config_snmp.md",sourceDirName:".",slug:"/howto_config_snmp",permalink:"/docs/howto_config_snmp",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1710958440,formattedLastUpdatedAt:"Mar 20, 2024",frontMatter:{title:"SNMP - Configuration",sidebar_label:"SNMP - Configuration"},sidebar:"docs",previous:{title:"SNMP - Overview",permalink:"/docs/config_snmp"},next:{title:"SNMP - User defined metrics",permalink:"/docs/config_snmp_metrics"}},l={},a=[{value:"Overview",id:"overview",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Configure the KNI Interface",id:"configure-the-kni-interface",level:3},{value:"Configure Router System Settings",id:"configure-router-system-settings",level:3},{value:"Configure Global Services",id:"configure-global-services",level:3},{value:"Configure the SNMP-trap",id:"configure-the-snmp-trap",level:4},{value:"Configure the SNMP Service Routes",id:"configure-the-snmp-service-routes",level:3},{value:"SNMP Service Route",id:"snmp-service-route",level:4},{value:"SNMP-trap Service Route",id:"snmp-trap-service-route",level:4}];function d(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"The following are the high level steps for configuring SNMP. Each procedure is detailed below."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Configure KNI Interface at both hub and spoke SSRs"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Enable SNMP Server in Router System Settings at both hub and spoke SSRs"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Configure Global Services: snmp (polling) and snmp-trap"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"A unique Service for snmp polling for every hub and spoke SSR"}),"\n",(0,t.jsx)(n.li,{children:"One common Service snmp-trap"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Configure Service Routes at both hub and spoke SSRs"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsx)(n.p,{children:"The procedures below use the GUI to create the configuration, and assume the following:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The SNMP Manager is located behind the hub SSR"}),"\n",(0,t.jsx)(n.li,{children:"Both spoke and hub SSRs are not located behind any firewall or NAT devices"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"configure-the-kni-interface",children:"Configure the KNI Interface"}),"\n",(0,t.jsxs)(n.p,{children:["For additional information about the configuration of KNI interfaces, see ",(0,t.jsx)(n.a,{href:"/docs/concepts_kni",children:"Kernel Network Interfaces."})]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"From the Authority, navigate to the Router > Node > Device Interface."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Under the Device Interface, click ADD."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Add Device Interface",src:s(94427).A+"",width:"866",height:"204"})}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsx)(n.li,{children:"In the New Device Interface pane, enter a name for the device interface."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"New Device Interface",src:s(16096).A+"",width:"612",height:"206"})}),"\n",(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsx)(n.li,{children:"Set the Device interface type as Host."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Device Interface Type",src:s(70921).A+"",width:"846",height:"204"})}),"\n",(0,t.jsxs)(n.ol,{start:"5",children:["\n",(0,t.jsx)(n.li,{children:"Scroll down to Network Interfaces. Click on ADD to add a new network interface for the SNMP device interface."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Add Network Interface",src:s(71094).A+"",width:"852",height:"97"})}),"\n",(0,t.jsxs)(n.ol,{start:"6",children:["\n",(0,t.jsxs)(n.li,{children:["Enter ",(0,t.jsx)(n.code,{children:"snmp"})," as the name of the network interface and click SAVE."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"New Network Interface",src:s(67423).A+"",width:"613",height:"207"})}),"\n",(0,t.jsxs)(n.ol,{start:"7",children:["\n",(0,t.jsx)(n.li,{children:"Under Management Traffic Settings, define a dedicated management vector. This vector should be associated with the management interface."}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Enter the name"}),"\n",(0,t.jsx)(n.li,{children:"Set the priority to 100"}),"\n",(0,t.jsx)(n.li,{children:"Enable a default route"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Management Traffic Settings",src:s(12772).A+"",width:"858",height:"207"})}),"\n",(0,t.jsxs)(n.ol,{start:"8",children:["\n",(0,t.jsx)(n.li,{children:"Scroll down to Interface Addresses, click ADD and enter the IP address of the network interface and click SAVE."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"New Network Interface IP Address",src:s(52858).A+"",width:"612",height:"207"})}),"\n",(0,t.jsxs)(n.ol,{start:"9",children:["\n",(0,t.jsx)(n.li,{children:"Configure the KNI IP subnet. Every SSR running SNMP must be configured with a unique, routable IP subnet. Choosing /30 maximizes the number of subnets in a chosen IP block."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"IP Subnet",src:s(70435).A+"",width:"888",height:"258"})}),"\n",(0,t.jsx)(n.p,{children:"It is important that this address is specified as the address to be polled by the SNMP Manager. The Gateway IP address is also used by the SSR to automatically create an interface at the Linux level later in this procedure."}),"\n",(0,t.jsxs)(n.ol,{start:"10",children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Under Host Services, click ADD."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Under Service Type, select snmp-server."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"New Host Service",src:s(38675).A+"",width:"622",height:"387"})}),"\n",(0,t.jsxs)(n.ol,{start:"12",children:["\n",(0,t.jsx)(n.li,{children:"Under Access Policies, click add, and enter the IP address for the SNMP manager."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Access Policy IP",src:s(87914).A+"",width:"697",height:"293"})}),"\n",(0,t.jsx)(n.h3,{id:"configure-router-system-settings",children:"Configure Router System Settings"}),"\n",(0,t.jsx)(n.p,{children:"Return to the Router level, and scroll down to the Router Settings."}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Click the System Settings button."}),"\n",(0,t.jsx)(n.li,{children:"Scroll down to the SNMP Server Settings and Enable the SNMP Server."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"SNMP Server Settings",src:s(36897).A+"",width:"363",height:"219"})}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsxs)(n.li,{children:["Under SNMP Notification Receivers, click ADD, enter the IP address of the SNMP Manager, and set the Notification Type to ",(0,t.jsx)(n.strong,{children:"trap"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Notification Receiver",src:s(43799).A+"",width:"609",height:"335"})}),"\n",(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsx)(n.li,{children:"Return to the router system settings, scroll down to the SNMP Access Control Policies and click ADD."}),"\n",(0,t.jsxs)(n.li,{children:["Enter the ",(0,t.jsx)(n.code,{children:"management"})," as the new Access Control Policy name and click SAVE."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"New Access Control Policy",src:s(53806).A+"",width:"610",height:"204"})}),"\n",(0,t.jsxs)(n.ol,{start:"6",children:["\n",(0,t.jsx)(n.li,{children:"In the SNMP Access Control Policies pane, enter the Permitted Client Host IP address."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"SNMP Access Control Policy",src:s(15540).A+"",width:"1130",height:"714"})}),"\n",(0,t.jsxs)(n.ol,{start:"7",children:["\n",(0,t.jsx)(n.li,{children:"Click Validate, then Commit."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"A new interface is created at the Linux level bearing the same name and gateway IP of the snmp interface created earlier. The gateway IP is the address that the SNMP Manager will be polling."}),"\n",(0,t.jsx)(n.h3,{id:"configure-global-services",children:"Configure Global Services"}),"\n",(0,t.jsx)(n.p,{children:"At the Authority Level, scroll down to Services, and click ADD."}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Enter a name for the new service; in this case, the service name is ",(0,t.jsx)(n.code,{children:"snmp-<SSR-name>"}),". Create a service for each SSR. This service is used for polling of individual SSRs."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"New Polling Service",src:s(72581).A+"",width:"612",height:"207"})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsx)(n.li,{children:"In the Basic Information panel, verify that the Share Service Routes toggle is set to true (default)."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Share Service Routes",src:s(69799).A+"",width:"968",height:"904"})}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsxs)(n.li,{children:["Scroll down to Policies, and set the Security Policy to ",(0,t.jsx)(n.strong,{children:"internal"}),". ",(0,t.jsx)(n.em,{children:"(Is there no need to configure a Service Policy?)"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Security Policy",src:s(33388).A+"",width:"1974",height:"294"})}),"\n",(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsx)(n.li,{children:"Scroll back up to Service Addresses and enter the KNI Subnet for the SSR configured in step 9 of the KNI Interface process."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"KNI Subnet",src:s(18837).A+"",width:"1212",height:"404"})}),"\n",(0,t.jsx)(n.h4,{id:"configure-the-snmp-trap",children:"Configure the SNMP-trap"}),"\n",(0,t.jsx)(n.p,{children:"Return to the Authority level, scroll down to Services, and click ADD."}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Name the service ",(0,t.jsx)(n.strong,{children:"snmp-trap"}),". This service is used for traps from all SSRs."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"New Trap Service",src:s(62330).A+"",width:"602",height:"196"})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsx)(n.li,{children:"In the Basic Information panel, verify that the Share Service Routes toggle is set to true (default)."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Share Service Routes",src:s(62330).A+"",width:"602",height:"196"})}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsxs)(n.li,{children:["Scroll down to Policies, and set the Security Policy to ",(0,t.jsx)(n.strong,{children:"internal"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Security Policy",src:s(33388).A+"",width:"1974",height:"294"})}),"\n",(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsx)(n.li,{children:"Scroll back up to Service Addresses, click ADD, and enter the IP address of the SNMP manager."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"SNMP Manager IP Address",src:s(78280).A+"",width:"602",height:"195"})}),"\n",(0,t.jsxs)(n.ol,{start:"5",children:["\n",(0,t.jsx)(n.li,{children:"Click Validate, then Commit."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"configure-the-snmp-service-routes",children:"Configure the SNMP Service Routes"}),"\n",(0,t.jsx)(n.p,{children:"The SNMP Service routes are used for polling each SSR by the SNMP manager."}),"\n",(0,t.jsx)(n.h4,{id:"snmp-service-route",children:"SNMP Service Route"}),"\n",(0,t.jsx)(n.p,{children:"This procedure creates the service route used for SNMP polling, and must be repeated at each SSR to be polled by the SNMP Manager."}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"From the Authority level, select the router."}),"\n",(0,t.jsx)(n.li,{children:"Scroll down to Service Routes and click ADD."}),"\n",(0,t.jsxs)(n.li,{children:["Enter the New Service Route name; ",(0,t.jsx)(n.code,{children:"snmp"})," and click SAVE."]}),"\n",(0,t.jsxs)(n.li,{children:["In the Service route Information pane, choose the ",(0,t.jsx)(n.code,{children:"snmp-<service-name>"})," service name created earlier."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Service Name",src:s(38716).A+"",width:"2426",height:"736"})}),"\n",(0,t.jsxs)(n.ol,{start:"5",children:["\n",(0,t.jsx)(n.li,{children:"Under Service Route Type, select Use Learned Routes from the drop down."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Use Learned Routes",src:s(35371).A+"",width:"1252",height:"822"})}),"\n",(0,t.jsxs)(n.ol,{start:"6",children:["\n",(0,t.jsx)(n.li,{children:"Click Validate, then Commit."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Return to the Router level, and select the Hub SSR. You can see the service route is automatically generated at the SNMP Manager."}),"\n",(0,t.jsx)(n.h4,{id:"snmp-trap-service-route",children:"SNMP-trap Service Route"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"From the Router level, and select Service Routes."}),"\n",(0,t.jsx)(n.li,{children:"Click ADD."}),"\n",(0,t.jsxs)(n.li,{children:["Enter a new Service Route name, ",(0,t.jsx)(n.code,{children:"snmp-trap"})," and click SAVE."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"SNMP Trap",src:s(71714).A+"",width:"1216",height:"398"})}),"\n",(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsxs)(n.li,{children:["In the Service route Information pane, choose the ",(0,t.jsx)(n.code,{children:"snmp-trap"})," service route created earlier."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"SNMP Trap Route",src:s(21872).A+"",width:"989",height:"309"})}),"\n",(0,t.jsxs)(n.ol,{start:"5",children:["\n",(0,t.jsx)(n.li,{children:"Under Service Route Type, select Use Learned Routes from the drop down."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Use Learned Routes",src:s(35371).A+"",width:"1252",height:"822"})}),"\n",(0,t.jsxs)(n.ol,{start:"6",children:["\n",(0,t.jsx)(n.li,{children:"Click Validate, then Commit."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Return to the Router level, and select the Spoke SSR. You can see the service route is automatically generated where the snmp traps are generated."})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},94427:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp1-25bb9ead3d8c1621c3b5a35740f1d86e.png"},38675:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp10-cca605cff63cd88d7b1eb432275e692a.png"},87914:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp11-17ac2e2d2d478123c7dcab378666c9d3.png"},36897:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp12-c1b1935e036fc8cd9de50e204bc42ace.png"},43799:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp14-af3f5f69e694b85319deb551e24c1e9b.png"},15540:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp15-1-80d3df256cc4fc1ba9240bef32a473af.png"},53806:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp15-d31486301e749c0193a0f095a16329c3.png"},69799:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp16-1-7a7e8a3fdeb23c9e7f60005c3807c0d5.png"},33388:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp16-2-07f74b986609481e88bcb17bc65adad1.png"},18837:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp16-3-17a3d8213e006c8379d63847f57477c4.png"},62330:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp16-4-7fbabc52bf7d2f9d03a84843f7453a6d.png"},78280:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp16-6-09ac2481d9081b07f4f93cafe7285e9e.png"},72581:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp16-88afb1377a5b56f0727154a9f08848a6.png"},38716:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp17-607d624b1904cccb305bc226d28d6f98.png"},35371:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp18-42d83907b737a4f74ff3f52641a600f9.png"},21872:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp19-1-239c210c6f3a3f4b7a69033f0ed1525a.png"},71714:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp19-eafc6cf0d50b19cba49c9d0993036f49.png"},16096:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp2-101eeed78eccd45baeb9d16406c7a69f.png"},70921:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp3-22738d797cea68f90da8e0fdc2072611.png"},71094:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp4-38b164c4f7fc9bb95412570cae1a0ffe.png"},67423:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp5-f404a43579783b72789f4fa739aaeead.png"},12772:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp6-585516606e1ac1d96ab1d209e9c58f46.png"},52858:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp8-3937e10174c36a100a256455ef97d74d.png"},70435:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/howto_config_snmp9-0884b295a8c8a3197f8192e7ad70a98b.png"},28453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>o});var t=s(96540);const i={},r=t.createContext(i);function c(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);