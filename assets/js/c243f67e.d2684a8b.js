"use strict";(self.webpackChunk_128t_docs=self.webpackChunk_128t_docs||[]).push([[4347],{503:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>a,contentTitle:()=>c,default:()=>l,frontMatter:()=>i,metadata:()=>r,toc:()=>d});var o=s(74848),n=s(28453);const i={title:"FIB Troubleshooting",sidebar_label:"FIB Troubleshooting"},c=void 0,r={id:"ts_fib",title:"FIB Troubleshooting",description:"show fib lookup",source:"@site/docs/ts_fib.md",sourceDirName:".",slug:"/ts_fib",permalink:"/docs/ts_fib",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"FIB Troubleshooting",sidebar_label:"FIB Troubleshooting"},sidebar:"docs",previous:{title:"FIB Best Practices",permalink:"/docs/bcp_fib_design"},next:{title:"Overview",permalink:"/docs/wan_overview"}},a={},d=[{value:"<code>show fib lookup</code>",id:"show-fib-lookup",level:3},{value:"<code>show service-path service-name &lt;service&gt;</code>",id:"show-service-path-service-name-service",level:3},{value:"<code>show stats packet-processing lookup</code>",id:"show-stats-packet-processing-lookup",level:3},{value:"<code>show capacity</code>",id:"show-capacity",level:3}];function h(e){const t={a:"a",code:"code",h3:"h3",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h3,{id:"show-fib-lookup",children:(0,o.jsx)(t.code,{children:"show fib lookup"})}),"\n",(0,o.jsxs)(t.p,{children:["Use ",(0,o.jsx)(t.a,{href:"/docs/cli_reference#show-fib-lookup",children:(0,o.jsx)(t.code,{children:"show fib lookup"})})," to identify the FIB entry a particular packet matches."]}),"\n",(0,o.jsx)(t.p,{children:"Enter the name of a tenant or a source-interface and source-address, as well as the destination-ip, destination-port, and protocol as options to return the FIB entry that a packet with these characteristics would match as processed by service area."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"admin@node0.ssr1# show fib lookup tenant t0 protocol udp destination-port 1001 destination-ip 192.168.0.1\nSun 2024-05-19 19:19:43 UTC\nRetrieving fib for input...\n\n================ ====== ======= ======== ===== ========= =========== ======== ======\n IP Prefix        Port   Proto   Tenant   VRF   Service   Next Hops   Vector   Cost\n================ ====== ======= ======== ===== ========= =========== ======== ======\n 192.168.0.0/24      0   UDP     t0       -     f1        None        -        -\n\nCompleted in 0.01 seconds\nadmin@node0.ssr1#\n"})}),"\n",(0,o.jsx)(t.h3,{id:"show-service-path-service-name-service",children:(0,o.jsx)(t.code,{children:"show service-path service-name <service>"})}),"\n",(0,o.jsxs)(t.p,{children:["When looking at a single FIB entry, it is sometimes unclear what action the packet will take. Is the intent to natively IP route the packet or send it over SVR? What are the available paths that might be considered for this service. In these scenarios, the command ",(0,o.jsx)(t.a,{href:"/docs/cli_reference#show-service-path",children:(0,o.jsx)(t.code,{children:"show service-paths service-name <service>"})})," can be very useful. After using the show fib lookup command to understand what entry will be selected, the resulting service name can be used as the input to the show service-path command."]}),"\n",(0,o.jsx)(t.h3,{id:"show-stats-packet-processing-lookup",children:(0,o.jsx)(t.code,{children:"show stats packet-processing lookup"})}),"\n",(0,o.jsxs)(t.p,{children:["Commands under ",(0,o.jsx)(t.code,{children:"show stats packet-processing lookup"})," illustrate how packets are being processed by the service area."]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.a,{href:"/docs/cli_stats_reference#show-stats-packet-processing-lookup-tenant-table",children:(0,o.jsx)(t.code,{children:"show stats packet-processing lookup tenant-table"})})," ",(0,o.jsx)(t.code,{children:"hit"})," or ",(0,o.jsx)(t.code,{children:"miss"})," displays how many packets (which did not match an existing installed flow) came into a particular interface and either matched a configured tenant or did not match a configured tenant, respectively."]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.a,{href:"/docs/cli_stats_reference#show-stats-packet-processing-lookup-fib-table",children:(0,o.jsx)(t.code,{children:"show stats packet-processing lookup fib-table "})})," ",(0,o.jsx)(t.code,{children:"hit"}),", ",(0,o.jsx)(t.code,{children:"deny"}),", or ",(0,o.jsx)(t.code,{children:"miss"})," displays how many times a packet has resulted in a lookup of the FIB table with either a successful match (hit), no match (miss), or a policy that indicated traffic should be denied (deny)."]}),"\n",(0,o.jsx)(t.h3,{id:"show-capacity",children:(0,o.jsx)(t.code,{children:"show capacity"})}),"\n",(0,o.jsxs)(t.p,{children:["The maximum capacity of the FIB and other tables, along with the current number of entries and percentage of utilization, can be seen using the ",(0,o.jsx)(t.a,{href:"/docs/cli_reference#show-capacity",children:(0,o.jsx)(t.code,{children:"show capacity"})})," command."]})]})}function l(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>c,x:()=>r});var o=s(96540);const n={},i=o.createContext(n);function c(e){const t=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),o.createElement(i.Provider,{value:t},e.children)}}}]);