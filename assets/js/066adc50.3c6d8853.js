"use strict";(self.webpackChunk_128t_docs=self.webpackChunk_128t_docs||[]).push([[8130],{59130:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>l,frontMatter:()=>s,metadata:()=>c,toc:()=>p});var i=t(74848),r=t(28453);const s={title:"FIB Best Practices",sidebar_label:"FIB Best Practices"},o=void 0,c={id:"bcp_fib_design",title:"FIB Best Practices",description:"We have provided a lot of detailed information on the FIB. Let\u2019s summarize some best practices when considering your SSR network design.",source:"@site/docs/bcp_fib_design.md",sourceDirName:".",slug:"/bcp_fib_design",permalink:"/docs/bcp_fib_design",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"FIB Best Practices",sidebar_label:"FIB Best Practices"},sidebar:"docs",previous:{title:"FIB Design Considerations",permalink:"/docs/concepts_fib_design"},next:{title:"FIB Troubleshooting",permalink:"/docs/ts_fib"}},a={},p=[{value:"Complexity",id:"complexity",level:2},{value:"Original Example",id:"original-example",level:4},{value:"Multiple Services",id:"multiple-services",level:4},{value:"FIB Matching",id:"fib-matching",level:2},{value:"BGP over SVR",id:"bgp-over-svr",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h4:"h4",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"We have provided a lot of detailed information on the FIB. Let\u2019s summarize some best practices when considering your SSR network design."}),"\n",(0,i.jsx)(n.h2,{id:"complexity",children:"Complexity"}),"\n",(0,i.jsx)(n.p,{children:"Avoid complex transport configurations in a service. The previous examples show that transport overlap can account for many potential conflicts in the FIB. Services with multiple port-range entries across multiple transports can make this difficult to track."}),"\n",(0,i.jsx)(n.p,{children:"If your configuration calls for scenarios with many port-ranges, consider breaking these out into multiple services. This does not create more FIB entries. The first configuration example is from earlier in this document. The second example shows these services broken out into multiple services resulting in equivalent FIB entries with a reduced risk of encountering unexpected transport overlap."}),"\n",(0,i.jsx)(n.h4,{id:"original-example",children:"Original Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"        service            s6\n            name           s6\n\n            transport      udp\n                protocol    udp\n\n                port-range  1000\n                    start-port  1000\n                    end-port    2000\n                exit\n\n                port-range  3000\n                    start-port  3000\n                    end-port    4000\n                exit\n            exit\n            address        10.1.1.0/24\n\n            access-policy  t0\n                source  t0\n            exit\n        exit\n\n        service            s7\n            name           s7\n\n            transport      udp\n                protocol    udp\n\n                port-range  3500\n                    start-port  3500\n                    end-port    4500\n                exit\n            exit\n\n            transport      tcp\n                protocol    tcp\n\n                port-range  1000\n                    start-port  1000\n                    end-port    2000\n                exit\n            exit\n            address        10.1.0.0/16\n\n            access-policy  t0\n                source  t0\n            exit\n        exit\n\t        service            s6-udp1000\n            name           s6-udp1000\n\n            transport      udp\n                protocol    udp\n\n                port-range  1000\n                    start-port  1000\n                    end-port    2000\n                exit\n            exit\n            address        10.1.1.0/24\n\n            access-policy  t0\n                source  t0\n            exit\n        exit\n"})}),"\n",(0,i.jsx)(n.h4,{id:"multiple-services",children:"Multiple Services"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"        service            s6-udp3000\n            name           s6-udp3000\n\n            transport      udp\n                protocol    udp\n\n                port-range  3000\n                    start-port  3000\n                    end-port    4000\n                exit\n            exit\n            address        10.1.1.0/24\n\n            access-policy  t0\n                source  t0\n            exit\n        exit\n\n        service            s7-udp\n            name           s7-udp\n\n            transport      udp\n                protocol    udp\n\n                port-range  3500\n                    start-port  3500\n                    end-port    4500\n                exit\n            exit\n            address        10.1.0.0/16\n\n            access-policy  t0\n                source  t0\n            exit\n        exit\n\n        service            s7-tcp\n            name           s7-tcp\n\n            transport      tcp\n                protocol    tcp\n\n                port-range  1000\n                    start-port  1000\n                    end-port    2000\n                exit\n            exit\n            address        10.1.0.0/16\n\n            access-policy  t0\n                source  t0\n            exit\n        exit\n"})}),"\n",(0,i.jsx)(n.h2,{id:"fib-matching",children:"FIB Matching"}),"\n",(0,i.jsxs)(n.p,{children:["Enable ",(0,i.jsx)(n.a,{href:"/docs/config_command_guide#configure-authority-fib-service-match",children:(0,i.jsx)(n.code,{children:"fib-service-match any-match"})})," at the beginning of a deployment. This option more closely matches what is typically expected and intended in the configuration."]}),"\n",(0,i.jsx)(n.admonition,{type:"important",children:(0,i.jsx)(n.p,{children:"For existing deployments, great care should be taken to compare existing configuration to existing RIB to ensure that changing this value does not result in overloading the FIB on deployed systems."})}),"\n",(0,i.jsx)(n.h2,{id:"bgp-over-svr",children:"BGP over SVR"}),"\n",(0,i.jsx)(n.p,{children:"When using BGP over SVR, be careful when choosing routing interface address space. It should not conflict with useable network space in the deployment. Addresses in link local address space (169.254.0.0/16) can be used, and is recommended."})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>c});var i=t(96540);const r={},s=i.createContext(r);function o(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);