"use strict";(self.webpackChunk_128t_docs=self.webpackChunk_128t_docs||[]).push([[842],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return p}});var i=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=i.createContext({}),c=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=c(e.components);return i.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},d=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(n),p=a,f=d["".concat(s,".").concat(p)]||d[p]||m[p]||r;return n?i.createElement(f,o(o({ref:t},u),{},{components:n})):i.createElement(f,o({ref:t},u))}));function p(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var c=2;c<r;c++)o[c]=n[c];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}d.displayName="MDXCreateElement"},85668:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return p},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return m}});var i=n(87462),a=n(63366),r=(n(67294),n(3905)),o=["components"],l={title:"Access Management on the SSR",sidebar_label:"Access Management"},s=void 0,c={unversionedId:"config_access_mgmt",id:"config_access_mgmt",title:"Access Management on the SSR",description:"Following industry security best practices, SSH features have been limited and in the case of SSH Root Login, have been disabled.",source:"@site/docs/config_access_mgmt.md",sourceDirName:".",slug:"/config_access_mgmt",permalink:"/docs/config_access_mgmt",draft:!1,tags:[],version:"current",lastUpdatedAt:1674854550,formattedLastUpdatedAt:"Jan 27, 2023",frontMatter:{title:"Access Management on the SSR",sidebar_label:"Access Management"},sidebar:"docs",previous:{title:"Transitioning a Conductor from Standalone to HA",permalink:"/docs/config_transition_standalone_to_ha"},next:{title:"LDAP",permalink:"/docs/config_ldap"}},u={},m=[{value:"Root Access",id:"root-access",level:2},{value:"SSH Idle Time",id:"ssh-idle-time",level:2},{value:"Additional SSH Parameters",id:"additional-ssh-parameters",level:3},{value:"Limiting Login Attempts",id:"limiting-login-attempts",level:2},{value:"File Upload Limitations",id:"file-upload-limitations",level:2}],d={toc:m};function p(e){var t=e.components,n=(0,a.Z)(e,o);return(0,r.kt)("wrapper",(0,i.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Following industry security best practices, SSH features have been limited and in the case of SSH Root Login, have been disabled."),(0,r.kt)("h2",{id:"root-access"},"Root Access"),(0,r.kt)("p",null,"To permit root access to the SSR system, ensure that there is at least one user configured on each system with super user (sudo) privileges. Failure to do so may result in the loss of management connectivity to the router.\n",(0,r.kt)("strong",{parentName:"p"},"SSH Root login is not permitted.")),(0,r.kt)("p",null,'Prerequisites for installation and upgrades now include configuring a super user in /etc/sudoers that is allowed to execute Linux shell commands as root (sudo privileges).\nDuring an upgrade, if the existing version allows SSH Root login, it will be disabled. When a system is installed using the OTP ISO, a "t128" user is automatically configured with sudo privileges. '),(0,r.kt)("h2",{id:"ssh-idle-time"},"SSH Idle Time"),(0,r.kt)("p",null,"Idle SSH sessions are logged out after 60 minutes of inactivity. When using the manual install process, it is strongly recommended to use the Screen utility to avoid an SSH session timeout. Screen allows you to disconnect from the terminal without interrupting the program being executed, circumventing any timeout and disconnection issues. Use the following procedure to perform the manual installation from Screen. "),(0,r.kt)("p",null,"From the terminal window:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Create a screen and attach to it.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"screen-d -m -s <name-of-screen-session>")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"screen -x <name-of-screen-session>")))),(0,r.kt)("li",{parentName:"ol"},"Shut down the salt-minion.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"sudo systemctl stop salt-minion")))),(0,r.kt)("li",{parentName:"ol"},"Run the installer from the Screen session.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"sudo install128t")))),(0,r.kt)("li",{parentName:"ol"},"Respond to the interactive install questions as required."),(0,r.kt)("li",{parentName:"ol"},"When the upgrade/installation process begins, you can safely detach from the Screen session. ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ctrl+a")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"d"))))),(0,r.kt)("p",null,"For additional information about the manual installation process with Screen, please refer to ",(0,r.kt)("a",{parentName:"p",href:"/docs/intro_installation_installer"},"Manually Installing the SSR"),"."),(0,r.kt)("h3",{id:"additional-ssh-parameters"},"Additional SSH Parameters"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"SSH Mode Verification performs strict mode checking of home directory configuration files, as well as user-specific SSH configuration files to prevent one user from logging on to the system as another user."),(0,r.kt)("li",{parentName:"ul"},"SSH logon by a non-certificate-trusted host is not allowed. "),(0,r.kt)("li",{parentName:"ul"},"The SSH login grace time is limited to waiting for one minute for a password to be entered."),(0,r.kt)("li",{parentName:"ul"},"SSH access is limited to users assigned to the ",(0,r.kt)("inlineCode",{parentName:"li"},"wheel")," group."),(0,r.kt)("li",{parentName:"ul"},"When creating a user with SSH privileges from the UI, that user must be assigned to an admin user group.")),(0,r.kt)("h2",{id:"limiting-login-attempts"},"Limiting Login Attempts"),(0,r.kt)("p",null,"If a user attempts to login unsuccessfully six times within a 15 minute window, they will be locked out for 30 minutes. The failed attempts are cumulative from both SSH and the web interface. The user will need to wait, or their account can be reset by an admin from the Linux shell.\nSyntax to unlock:\n",(0,r.kt)("inlineCode",{parentName:"p"},"faillock --user <user> --reset")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"User account status is managed independently per node of the HA pair.")),(0,r.kt)("h2",{id:"file-upload-limitations"},"File Upload Limitations"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"config import")," functionality has the following constraints:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A max file size of 25 MB \u2013 an error is displayed if the file size is too large."),(0,r.kt)("li",{parentName:"ul"},"One upload per user every 15 seconds."),(0,r.kt)("li",{parentName:"ul"},"Verification of the ",(0,r.kt)("inlineCode",{parentName:"li"},"*.gz")," file format.")))}p.isMDXComponent=!0}}]);