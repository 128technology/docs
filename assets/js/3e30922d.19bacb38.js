"use strict";(self.webpackChunk_128t_docs=self.webpackChunk_128t_docs||[]).push([[2345],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),d=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=d(n),m=r,h=u["".concat(s,".").concat(m)]||u[m]||c[m]||i;return n?a.createElement(h,o(o({ref:t},p),{},{components:n})):a.createElement(h,o({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var d=2;d<i;d++)o[d]=n[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},12939:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return d},toc:function(){return c}});var a=n(87462),r=n(63366),i=(n(67294),n(3905)),o=["components"],l={title:"Troubleshooting IDP",sidebar_label:"Troubleshooting IDP"},s=void 0,d={unversionedId:"ts_idp",id:"ts_idp",title:"Troubleshooting IDP",description:"show idp application status and its sub-commands provide information about the running state of the IDP engine.",source:"@site/docs/ts_idp.md",sourceDirName:".",slug:"/ts_idp",permalink:"/docs/ts_idp",draft:!1,tags:[],version:"current",lastUpdatedAt:1693421765,formattedLastUpdatedAt:"Aug 30, 2023",frontMatter:{title:"Troubleshooting IDP",sidebar_label:"Troubleshooting IDP"},sidebar:"docs",previous:{title:"Configure IDP",permalink:"/docs/config_idp"},next:{title:"Configuring STEP",permalink:"/docs/config_STEP"}},p={},c=[{value:"IDP Start-up",id:"idp-start-up",level:2},{value:"Show Commands",id:"show-commands",level:2},{value:"Additional Commands",id:"additional-commands",level:3},{value:"Stats",id:"stats",level:2},{value:"Logs",id:"logs",level:2}],u={toc:c};function m(e){var t=e.components,l=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},u,l,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/cli_reference#show-idp-application-status"},(0,i.kt)("inlineCode",{parentName:"a"},"show idp application status"))," and its sub-commands provide information about the running state of the IDP engine."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"admin@node.idp # show idp application status\nThu 2022-05-19 04:45:49 UTC\n\u2714 Retrieving IDP application status...\n\n======================\n node.idp\n======================\n Engine:     on\n Last:       starting\n\n Pod:        active\n Docker:     running\n\n")),(0,i.kt)("h2",{id:"idp-start-up"},"IDP Start-up"),(0,i.kt)("p",null,"Beginning with SSR version 6.1.4-R2, traffic destined for IDP will temporarily bypass the IDP engine until it completes the startup process. This will take place at initial start up of the device, upgrade, or restart. An alarm is triggered on the device to indicate this is taking place, and is visible using the ",(0,i.kt)("inlineCode",{parentName:"p"},"show idp events")," command. Once the IDP engine is fully booted, traffic is appropriately routed through IDP. Earlier versions routed traffic to the IDP engine before it was fully engaged, resulting in the loss of traffic. With ",(0,i.kt)("inlineCode",{parentName:"p"},"bypass-enabled")," set to ",(0,i.kt)("inlineCode",{parentName:"p"},"true")," (this is the default) traffic temporarily bypasses the IDP."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Advanced IDP Setting",src:n(1348).Z,width:"852",height:"232"})," "),(0,i.kt)("p",null,"Additionally, services configured for IDP and their status (passing through IDP or not, and why), and when the IDP will be operational are reported in the ",(0,i.kt)("inlineCode",{parentName:"p"},"show idp application status")," command."),(0,i.kt)("h2",{id:"show-commands"},"Show Commands"),(0,i.kt)("p",null,"Each of the commands listed below, and the subcommands for each, provide additional details for IDP visibility. Use the links to learn more about each command."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"command"),(0,i.kt)("th",{parentName:"tr",align:null},"description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/cli_reference#request-idp-refresh-security-packages"},(0,i.kt)("inlineCode",{parentName:"a"},"request idp refresh-security-package"))),(0,i.kt)("td",{parentName:"tr",align:null},"Update the IDP connectivity details.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/cli_reference#show-idp-application-status"},(0,i.kt)("inlineCode",{parentName:"a"},"show idp application status"))),(0,i.kt)("td",{parentName:"tr",align:null},"Show underlying IDP application status.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/cli_reference#show-idp-details"},(0,i.kt)("inlineCode",{parentName:"a"},"show idp details"))),(0,i.kt)("td",{parentName:"tr",align:null},"Show underlying IDP details.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/cli_reference#show-idp-events"},(0,i.kt)("inlineCode",{parentName:"a"},"show idp events"))),(0,i.kt)("td",{parentName:"tr",align:null},"Show all IDP events.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/cli_reference#show-idp-events-by-application"},(0,i.kt)("inlineCode",{parentName:"a"},"show idp events by-application"))),(0,i.kt)("td",{parentName:"tr",align:null},"Show IDP events by application.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/cli_reference#show-idp-events-by-attack"},(0,i.kt)("inlineCode",{parentName:"a"},"show idp events by-attack"))),(0,i.kt)("td",{parentName:"tr",align:null},"Show IDP events by attack type.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/cli_reference#show-idp-events-by-severity"},(0,i.kt)("inlineCode",{parentName:"a"},"show idp events by-severity"))),(0,i.kt)("td",{parentName:"tr",align:null},"Show IDP events by severity level.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/cli_reference#show-idp-network"},(0,i.kt)("inlineCode",{parentName:"a"},"show idp network"))),(0,i.kt)("td",{parentName:"tr",align:null},"Show underlying IDP network status.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/cli_reference#show-idp-platform"},(0,i.kt)("inlineCode",{parentName:"a"},"show idp platform"))),(0,i.kt)("td",{parentName:"tr",align:null},"Show underlying IDP platform data.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/cli_reference#show-idp-security-package"},(0,i.kt)("inlineCode",{parentName:"a"},"show idp security-package"))),(0,i.kt)("td",{parentName:"tr",align:null},"Show underlying IDP security package details.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/cli_stats_reference#show-stats-idp"},(0,i.kt)("inlineCode",{parentName:"a"},"show stats idp"))),(0,i.kt)("td",{parentName:"tr",align:null},"Metrics about IDP.")))),(0,i.kt)("h3",{id:"additional-commands"},"Additional Commands"),(0,i.kt)("p",null,"The following commands are visible only in the Advanced view, and should only be run when instructed to do so by Juniper technical support."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"command"),(0,i.kt)("th",{parentName:"tr",align:null},"description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/cli_reference#request-idp-rebuild"},(0,i.kt)("inlineCode",{parentName:"a"},"request idp restart rebuild"))),(0,i.kt)("td",{parentName:"tr",align:null},"Rebuild IDP Command.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/cli_reference#request-idp-restart"},(0,i.kt)("inlineCode",{parentName:"a"},"request idp restart"))),(0,i.kt)("td",{parentName:"tr",align:null},"Restart IDP Command.")))),(0,i.kt)("h2",{id:"stats"},"Stats"),(0,i.kt)("p",null,"The ",(0,i.kt)("a",{parentName:"p",href:"/docs/cli_stats_reference#show-stats-idp"},(0,i.kt)("inlineCode",{parentName:"a"},"show stats idp"))," display metrics for attacks, bytes received and transmitted, and packets dropped, processed, received, and transmitted, as well as by indiviual protocol."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#show-stats-idp-attacks"},(0,i.kt)("inlineCode",{parentName:"a"},"attacks"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#show-stats-idp-bytes"},(0,i.kt)("inlineCode",{parentName:"a"},"bytes"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#show-stats-idp-packets"},(0,i.kt)("inlineCode",{parentName:"a"},"packets")))),(0,i.kt)("h2",{id:"logs"},"Logs"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"save tech-support")," info contains the relevant logs and journals associated with the IDP engine. A log category of ",(0,i.kt)("inlineCode",{parentName:"p"},"IDP")," is available to increase the level of IDP info logged. IDP function logs are stored here: ",(0,i.kt)("inlineCode",{parentName:"p"},"/var/log/128technology/idp/*"),"."))}m.isMDXComponent=!0},1348:function(e,t,n){t.Z=n.p+"assets/images/adv-idp-settings-724b6d3dce65931b64dafd0eac3df450.png"}}]);