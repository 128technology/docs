"use strict";(self.webpackChunk_128t_docs=self.webpackChunk_128t_docs||[]).push([[9600],{62882:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var n=o(74848),r=o(28453);const i={title:"Forwarding Plane Resource Pools",sidebar_label:"Forwarding Plane Resource Pools"},s=void 0,a={id:"ts_forwarding_resource_pools",title:"Forwarding Plane Resource Pools",description:'Critical to "right-sizing" the SSR for a given deployment is an understanding of how the forwarding plane is configured for its resource pools.  These resource pools are used for setting up sessions, forwarding tables and packet transformations as quickly and efficiently as possible.  The resource pools are proportionately sized relative to the amount of huge pages allocated during system initialization.',source:"@site/docs/ts_forwarding_resource_pools.md",sourceDirName:".",slug:"/ts_forwarding_resource_pools",permalink:"/docs/ts_forwarding_resource_pools",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1710958440,formattedLastUpdatedAt:"Mar 20, 2024",frontMatter:{title:"Forwarding Plane Resource Pools",sidebar_label:"Forwarding Plane Resource Pools"},sidebar:"docs",previous:{title:"Connecting to Routers",permalink:"/docs/ts_connecting_to_routers"},next:{title:"Logs",permalink:"/docs/ts_logs"}},l={},c=[];function d(e){const t={admonition:"admonition",code:"code",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:'Critical to "right-sizing" the SSR for a given deployment is an understanding of how the forwarding plane is configured for its resource pools.  These resource pools are used for setting up sessions, forwarding tables and packet transformations as quickly and efficiently as possible.  The resource pools are proportionately sized relative to the amount of huge pages allocated during system initialization.'}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"admin@node2.burlma# show capacity\nTue 2019-08-27 15:54:50 UTC\n\nNode: node2\n\n===================== ========= ========== =======\n Resource              Entries   Capacity   Usage\n===================== ========= ========== =======\n access-policy-table       518       2048   25.3%\n action-pool             16277     287590   5.7%\n arp-table                   3      62359   0.0%\n fib-table                1862      16340   11.4%\n flow-table               9244     127455   7.3%\n source-tenant-table        11       2048   0.5%\n"})}),"\n",(0,n.jsx)(t.p,{children:"System configuration plays the largest role in consuming these resource pools.  In the event that these resources are at risk of being exhausted, an alarm will be generated for each of the resource pools should they reach 85% of their capacity.  Exhaustion of any of these tables will result in an inability for the system to operate properly."}),"\n",(0,n.jsx)(t.p,{children:"If the system configuration is already optimized, meaning any services or tenants no longer in use are already removed, it may be time to explore migrating the SSR to a platform with more memory available. If the system has additional unused RAM, the amount of huge pages can be increased by running the initializer."}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsx)(t.p,{children:"An SSR can not be running while reinitializing the system. Performing this operation should be done during a maintenance window where a service disruption will have the least amount of impact."})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"systemctl stop 128T\ninitialize128t\n"})}),"\n",(0,n.jsx)(t.p,{children:"Navigating through the initializer will present an option to increase the amount of huge pages allocated to the SSR beyond the default value.  Making a change to the huge page quantity will require a reboot of the host platform."})]})}function u(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},28453:(e,t,o)=>{o.d(t,{R:()=>s,x:()=>a});var n=o(96540);const r={},i=n.createContext(r);function s(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);