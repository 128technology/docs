"use strict";(self.webpackChunk_128t_docs=self.webpackChunk_128t_docs||[]).push([[9805],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var o=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=o.createContext({}),c=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return o.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),m=a,h=u["".concat(l,".").concat(m)]||u[m]||d[m]||r;return n?o.createElement(h,i(i({ref:t},p),{},{components:n})):o.createElement(h,i({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var c=2;c<r;c++)i[c]=n[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},21598:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return s},metadata:function(){return c},toc:function(){return d}});var o=n(87462),a=n(63366),r=(n(67294),n(3905)),i=["components"],s={title:"Onboard an SSR Device using OTP",sidebar_label:"Onboard an SSR Device using OTP"},l=void 0,c={unversionedId:"onboard_ssr_device_otp",id:"onboard_ssr_device_otp",title:"Onboard an SSR Device using OTP",description:"The steps in this section describe the process of re-imaging an SSR100 or SSR1000 series device for onboarding to a Conductor using the OTP process. This process is for SSR devices that cannot use Mist for onboarding, telemetry, or WAN Assurance.",source:"@site/docs/onboard_ssr_device_otp.md",sourceDirName:".",slug:"/onboard_ssr_device_otp",permalink:"/docs/onboard_ssr_device_otp",draft:!1,tags:[],version:"current",lastUpdatedAt:1693405395,formattedLastUpdatedAt:"Aug 30, 2023",frontMatter:{title:"Onboard an SSR Device using OTP",sidebar_label:"Onboard an SSR Device using OTP"},sidebar:"docs",previous:{title:"Onboard an SSR Device to a Conductor",permalink:"/docs/onboard_ssr_to_conductor"},next:{title:"Image-Based Installation",permalink:"/docs/intro_installation_image"}},p={},d=[{value:"Re-Imaging Process",id:"re-imaging-process",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"OTP Re-Imaging Process",id:"otp-re-imaging-process",level:2},{value:"Mac Serial Connection and Set-up",id:"mac-serial-connection-and-set-up",level:3},{value:"Windows Serial Connection and Set-up",id:"windows-serial-connection-and-set-up",level:3},{value:"Device Re-imaging",id:"device-re-imaging",level:3},{value:"SSR100 Series Devices",id:"ssr100-series-devices",level:4},{value:"SSR1000 Series Devices",id:"ssr1000-series-devices",level:4}],u={toc:d};function m(e){var t=e.components,s=(0,a.Z)(e,i);return(0,r.kt)("wrapper",(0,o.Z)({},u,s,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The steps in this section describe the process of ",(0,r.kt)("strong",{parentName:"p"},"re-imaging an SSR100 or SSR1000 series device")," for onboarding to a Conductor using the OTP process. This process is for SSR devices that ",(0,r.kt)("strong",{parentName:"p"},"cannot")," use Mist for onboarding, telemetry, or WAN Assurance. "),(0,r.kt)("admonition",{type:"important"},(0,r.kt)("p",{parentName:"admonition"},'For customers or partners who can access Mist and are not in an "air-gap" network, the easiest way to onboard an SSR device is to configure an account on Mist (this is free), and onboard to a conductor using ZTP. This provides a simple conductor onboarding process, and does not require access to Mist after the onboarding. See ',(0,r.kt)("a",{parentName:"p",href:"/docs/config_wan_assurance"},"ZTP Onboarding to a Conductor.")," ",(0,r.kt)("strong",{parentName:"p"},"This process provides the ability to perform conductor-managed onboarding for customers who will not be using Mist Telemetry or WAN Assurance."),"  ")),(0,r.kt)("h2",{id:"re-imaging-process"},"Re-Imaging Process"),(0,r.kt)("p",null,"The image shipped on the SSR devices is designed to connect with Mist and Mist WAN Assurance. To use these devices in a conductor-managed environment that does not have access to Mist, re-image the SSR device with a generally available, package-based, OTP-compatible SSR software release. The minimum requirement for this re-imaging process is SSR Version 5.4.9. OTP software images are located at the following link:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://software.128technology.com/artifactory/list/generic-128t-isos-release-local"},"https://software.128technology.com/artifactory/list/generic-128t-isos-release-local"))),(0,r.kt)("p",null,"You will be prompted for your username and token to access the web page listing the software versions, and will be able to download directly from the page."),(0,r.kt)("p",null,"See ",(0,r.kt)("a",{parentName:"p",href:"/docs/intro_downloading_iso#downloading-an-iso"},"Downloading an ISO")," for important information about the download process."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"Use of a non-GA software release will void the Juniper device warranty. Refer to ",(0,r.kt)("a",{parentName:"li",href:"/docs/about_releases#general-availability"},(0,r.kt)("strong",{parentName:"a"},"SSR Releases - General Availability"))," for the list of GA releases."))),(0,r.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"To successfully onboard an SSR using OTP, you must already have a ",(0,r.kt)("a",{parentName:"p",href:"/docs/install_conductor_overview"},"Conductor up and running")," in the network where the SSR router can connect and receive configuration information. ")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"The conductor ",(0,r.kt)("strong",{parentName:"p"},"must have")," a software version equal to or greater than the version that will be installed on the routers using OTP. ")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"To retain a valid warranty, the software used to re-image the SSR device must be an ",(0,r.kt)("a",{parentName:"p",href:"/docs/about_releases#general-availability"},(0,r.kt)("strong",{parentName:"a"},"official Juniper GA Release of the SSR Software")),", and at a minumum, version 5.4.9. "))),(0,r.kt)("h2",{id:"otp-re-imaging-process"},"OTP Re-Imaging Process"),(0,r.kt)("p",null,"The process varies based on the SSR device, and whether Mac or Windows is used as the re-imaging host. Use the following procedures for the serial connection and set up and device specific re-imaging."),(0,r.kt)("h3",{id:"mac-serial-connection-and-set-up"},"Mac Serial Connection and Set-up"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Use the procedure ",(0,r.kt)("a",{parentName:"li",href:"/docs/intro_creating_bootable_usb"},"Creating a Bootable USB from an ISO")," to download the package-based ISO and create a bootable USB. Once you have completed that step, continue below. "),(0,r.kt)("li",{parentName:"ol"},"Connect the RJ45/USB cable to the console port on the SSR device."),(0,r.kt)("li",{parentName:"ol"},"Connect the USB end of the cable to your Mac."),(0,r.kt)("li",{parentName:"ol"},"Connect the power input to the back of the SSR device, but do not power it up. "),(0,r.kt)("li",{parentName:"ol"},"Open a terminal window."),(0,r.kt)("li",{parentName:"ol"},"Run the following command to identify the USB port: ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"    ls -al /dev/*usb*\n")),(0,r.kt)("ol",{start:7},(0,r.kt)("li",{parentName:"ol"},"Copy the serial port info displayed after running the command above. "),(0,r.kt)("li",{parentName:"ol"},"In the terminal window, type ",(0,r.kt)("inlineCode",{parentName:"li"},"screen"),", paste the serial port info, and add the baud rate as shown in the example below. ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"    screen /dev/tty.usbserial-A50285BI 115200\n")),(0,r.kt)("ol",{start:9},(0,r.kt)("li",{parentName:"ol"},"Press Enter."),(0,r.kt)("li",{parentName:"ol"},"Insert your USB with the new ISO image into the USB port of the SSR device."),(0,r.kt)("li",{parentName:"ol"},"Power up the SSR device. "),(0,r.kt)("li",{parentName:"ol"},"Use the instructions below appropriate for your device (SSR100 or SSR1000 series) to complete the re-imaging process.")),(0,r.kt)("h3",{id:"windows-serial-connection-and-set-up"},"Windows Serial Connection and Set-up"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Use the procedure ",(0,r.kt)("a",{parentName:"li",href:"/docs/intro_creating_bootable_usb"},"Creating a Bootable USB from an ISO")," to download the package-based ISO and create a bootable USB. Once you have completed that step, continue below. "),(0,r.kt)("li",{parentName:"ol"},"Connect the RJ45/USB cable to the console port on the SSR device."),(0,r.kt)("li",{parentName:"ol"},"Connect the USB end of the cable to your Windows PC."),(0,r.kt)("li",{parentName:"ol"},"Connect the power input to the back of the SSR device, but do not power it up. "),(0,r.kt)("li",{parentName:"ol"},"From the Windows Device Manager, open a ",(0,r.kt)("a",{parentName:"li",href:"https://www.putty.org/"},"PuTTY")," session, and select the serial port and baud rate.\n",(0,r.kt)("img",{alt:"PuTTY window",src:n(50038).Z,width:"339",height:"338"})),(0,r.kt)("li",{parentName:"ol"},"Insert your USB with the new ISO image into the USB port of the SSR device."),(0,r.kt)("li",{parentName:"ol"},"Power up the SSR device. "),(0,r.kt)("li",{parentName:"ol"},"Use the instructions below appropriate for your device (SSR100 or SSR1000 series) to complete the re-imaging process.")),(0,r.kt)("h3",{id:"device-re-imaging"},"Device Re-imaging"),(0,r.kt)("p",null,"Use the process specific to your device to complete the re-imaging process. "),(0,r.kt)("h4",{id:"ssr100-series-devices"},"SSR100 Series Devices"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"At the instruction in the terminal window: ",(0,r.kt)("inlineCode",{parentName:"p"},"Press ESC for boot menu"),", do so.\n",(0,r.kt)("img",{alt:"Boot Menu prompt",src:n(67101).Z,width:"587",height:"368"}))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"From the boot menu, enter the boot device number corresponding to the USB, and press Enter. "),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{alt:"Select Boot Device",src:n(54864).Z,width:"588",height:"371"}))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"When the USB installer boot menu is displayed, follow the ",(0,r.kt)("a",{parentName:"p",href:"/docs/intro_otp_iso_install#installing-ssr-using-one-touch-provisioning-otp"},"Installing SSR Using OTP")," instructions to complete the installation process."))),(0,r.kt)("h4",{id:"ssr1000-series-devices"},"SSR1000 Series Devices"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"At the instruction in the terminal window: ",(0,r.kt)("inlineCode",{parentName:"p"},"Press <Tab> or <DEL> to enter Setup"),", do so.\n",(0,r.kt)("img",{alt:"Setup Menu Prompt",src:n(89323).Z,width:"640",height:"297"}))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"When the Setup Utility window appears, use the left and right arrow keys to navigate to the ",(0,r.kt)("inlineCode",{parentName:"p"},"Save & Exit")," tab."),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{alt:"Setup Utility",src:n(78293).Z,width:"563",height:"354"}))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Use the up and down arrow keys to highlight the boot device in the the Boot Override list."),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{alt:"Boot Override list",src:n(13063).Z,width:"572",height:"359"}))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Press Enter to confirm boot from the USB device.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"When the USB installer boot menu is displayed, follow the ",(0,r.kt)("a",{parentName:"p",href:"/docs/intro_otp_iso_install#installing-ssr-using-one-touch-provisioning-otp"},"Installing SSR Using OTP")," instructions to complete the installation process."))))}m.isMDXComponent=!0},13063:function(e,t,n){t.Z=n.p+"assets/images/1x00_boot-override-590cf2f9a0988cf09622291389943741.png"},89323:function(e,t,n){t.Z=n.p+"assets/images/1x00_setup_menu-a933d3b21e6143af6e6c4164f053f9c8.png"},54864:function(e,t,n){t.Z=n.p+"assets/images/onboard_otp_boot_device-8a90a08660088f6a2a04c5048f2fbe9e.png"},67101:function(e,t,n){t.Z=n.p+"assets/images/onboard_otp_boot_menu-a6cf17e36c4bfa8c2bb906a833ef0e80.png"},50038:function(e,t,n){t.Z=n.p+"assets/images/putty-window-9d2243ee8deffae36f576e6ef9146392.png"},78293:function(e,t,n){t.Z=n.p+"assets/images/setup-menu-prompt-fef7387b5a62cc9966dfecfb8b4f893e.png"}}]);