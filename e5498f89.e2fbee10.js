(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{145:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return a})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var r=n(1),i=n(9),o=(n(0),n(149)),a={title:"LTE Peering",sidebar_label:"LTE Peering"},s={id:"bcp_lte_peering",title:"LTE Peering",description:'It is quite common for 128T routers to use LTE interfaces as a "last resort" transport when primary circuits are down, congested, or experiencing issues. This document recommends various configuration settings to strike a balance between performance and bandwidth usage for LTE interfaces, to get the most benefit from them when peering over LTE.',source:"@site/docs/bcp_lte_peering.md",permalink:"/docs/bcp_lte_peering",editUrl:"https://github.com/128technology/docs/tree/master/docs/bcp_lte_peering.md",lastUpdatedBy:"Michael Baj",lastUpdatedAt:1582678282,sidebar_label:"LTE Peering",sidebar:"docs",previous:{title:"Conductor Deployment Patterns",permalink:"/docs/bcp_conductor_deployment"},next:{title:"Reference",permalink:"/docs/cli_reference"}},c=[{value:"Overview",id:"overview",children:[]},{value:"Configuration Sample",id:"configuration-sample",children:[]},{value:"Notes about the configuration",id:"notes-about-the-configuration",children:[]}],l={rightToc:c};function u(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,'It is quite common for 128T routers to use LTE interfaces as a "last resort" transport when primary circuits are down, congested, or experiencing issues. This document recommends various configuration settings to strike a balance between performance and bandwidth usage for LTE interfaces, to get the most benefit from them when peering over LTE.'),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},Object(o.b)("strong",{parentName:"p"},"Note:")," This document is intended for customers that use LTE interfaces as a last resort transport, not for those using it as a primary transport.")),Object(o.b)("h2",{id:"overview"},"Overview"),Object(o.b)("p",null,"LTE interfaces have two material differences when compared to most wireline interfaces:"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Most wireless providers employ ",Object(o.b)("em",{parentName:"li"},"Carrier-Grade NAT")," equipment on their LTE network, which can cause impact to long-lived sessions between peers if there are periods of inactivity. Furthermore, it typically results in a private IP address being issued via DHCP to the LTE modem, which affects the directionality of session setup."),Object(o.b)("li",{parentName:"ol"},"LTE services are typically sold using bandwidth-based service plans. Thus, additional overhead used for machine-to-machine communications costs real money.")),Object(o.b)("p",null,"In this document, we provide a configuration fragment that illustrates how to tune your LTE interface to provide connectivity with minimal overhead."),Object(o.b)("h2",{id:"configuration-sample"},"Configuration Sample"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),"    neighborhood           LTE\n        name               LTE\n        peer-connectivity  outbound-only\n        topology           spoke\n        vector             lte\n\n        bfd\n            state                enabled\n            desired-tx-interval  60000\n            authentication-type  sha256\n            multiplier           3\n            link-test-interval   120\n            link-test-length     10\n            dscp                 0\n        exit\n\n        udp-transform\n            mode  always-transform\n            nat-keep-alive-mode     enabled\n            nat-keep-alive-timeout  30\n        exit\n\n        path-mtu-discovery\n            enabled  true\n            interval 600\n        exit\n    exit\n")),Object(o.b)("h2",{id:"notes-about-the-configuration"},"Notes about the configuration"),Object(o.b)("p",null,"A ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://en.wikipedia.org/wiki/Carrier-grade_NAT"}),"Carrier-grade NAT"),", which is indistinguishable from an enterprise-grade (or consumer) NAT from a 128T configuration perspective, requires certain configuration considerations. First, as seen in the configuration fragment above, it is important to set the ",Object(o.b)("inlineCode",{parentName:"p"},"peer-connectivity")," to ",Object(o.b)("inlineCode",{parentName:"p"},"outbound-only"),'. This will guarantee that any traffic originating at a peer and destined for the LTE device will be created "inside out" from the NAT\'s perspective. (For more information on the outbound-only feature of the 128T product, read the reference manual.)'),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"bfd")," configuration is dilated to use ",Object(o.b)("inlineCode",{parentName:"p"},"60000")," milliseconds as its interval. This configuration is empirically observed to work on most U.S. LTE provider networks \u2013 the Carrier-grade NAT devices present in the United States typically use NAT bindings longer than one minute. This value may need adjustment in your local region, if you experience difficulties in establishing sessions toward 128T routers over LTE networks."),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},Object(o.b)("strong",{parentName:"p"},"Note:")," These BFD keepalive messages are small and therefore do not consume much bandwidth. However, on interfaces where every byte counts against your monthly bandwidth allocation, it is important to keep these settings as conservative as you can to maintain a stable connection.")),Object(o.b)("p",null,"Last, the ",Object(o.b)("inlineCode",{parentName:"p"},"udp-transform")," configuration element in the neighborhood is configured with its ",Object(o.b)("inlineCode",{parentName:"p"},"mode")," set to ",Object(o.b)("inlineCode",{parentName:"p"},"always-transform"),". Because we can presume that the Carrier-grade NAT exists, we do not need to test for it using our detection mechanism. This reduces unnecessary overhead on the path."))}u.isMDXComponent=!0},149:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n(0),i=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=i.a.createContext({}),u=function(e){var t=i.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s({},t,{},e)),n},p=function(e){var t=u(e.components);return i.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},b=Object(r.forwardRef)((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,a=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),p=u(n),b=r,m=p["".concat(a,".").concat(b)]||p[b]||d[b]||o;return n?i.a.createElement(m,s({ref:t},l,{components:n})):i.a.createElement(m,s({ref:t},l))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,a=new Array(o);a[0]=b;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,a[1]=s;for(var l=2;l<o;l++)a[l]=n[l];return i.a.createElement.apply(null,a)}return i.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);