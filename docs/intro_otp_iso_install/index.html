<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-intro_otp_iso_install">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Router Installation Using OTP | SSN Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.128technology.com/docs/intro_otp_iso_install"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Router Installation Using OTP | SSN Docs"><meta data-rh="true" name="description" content="The Session Smart Router has a software-driven framework for rapid and dynamic deployment of network nodes across the enterprise using One Touch Provisioning (OTP). The software has been architected to enable automated deployment across a large set of scenarios, including simple, repeatable branch deployments and dynamic, scalable data center/cloud deployments. The solution may be deployed with minimal configuration using the default SSR installation process, or customized and integrated with 3rd party tools."><meta data-rh="true" property="og:description" content="The Session Smart Router has a software-driven framework for rapid and dynamic deployment of network nodes across the enterprise using One Touch Provisioning (OTP). The software has been architected to enable automated deployment across a large set of scenarios, including simple, repeatable branch deployments and dynamic, scalable data center/cloud deployments. The solution may be deployed with minimal configuration using the default SSR installation process, or customized and integrated with 3rd party tools."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.128technology.com/docs/intro_otp_iso_install"><link data-rh="true" rel="alternate" href="https://docs.128technology.com/docs/intro_otp_iso_install" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.128technology.com/docs/intro_otp_iso_install" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.8e1fdc51.css">
<link rel="preload" href="/assets/js/runtime~main.8bb84db0.js" as="script">
<link rel="preload" href="/assets/js/main.5cdde051.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Juniper Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo_dark.png" alt="Juniper Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro_getting_started">Docs</a><a href="https://community.juniper.net/answers/communities/community-home?CommunityKey=310d1a41-12fa-4627-9a99-880145a7c87c" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.juniper.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Company<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/about_128t">About</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_getting_started">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_system_reqs">Deployment Considerations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_installation">Installation Process</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/install_conductor_overview">Conductor Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/intro_installation_bootable_media">Router Installation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/intro_installation_bootable_media">Router Interactive Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/intro_basic_router_config">Basic Router Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/intro_otp_iso_install">Router Installation Using OTP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/intro_install_quickstart_otpiso">QuickStart from the OTP ISO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/onboard_ssr_to_conductor">Onboard an SSR Device to a Conductor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/onboard_ssr_device_otp">Onboard an SSR Device using OTP</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_installation_image">Image-Based Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/supported_cloud_platforms">Cloud Installations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_upgrade_considerations">Upgrades and Rollback</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_installation_installer">Supporting Install Information - Appendix</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/concepts_application_discovery">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/wan_overview">WAN Assurance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/config_basics">Administration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/events_overview">Events</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/bcp_att_avpn_configuration">Best Practices</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/cli_reference">CLI and Element Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/installer_cli_reference">Installer/Initializer Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/plugin_intro">Plugins</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/release_notes_128t_6.2">Release Notes</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Router Installation</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Router Installation Using OTP</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Router Installation Using OTP</h1></header><p>The Session Smart Router has a software-driven framework for rapid and dynamic deployment of network nodes across the enterprise using One Touch Provisioning (OTP). The software has been architected to enable automated deployment across a large set of scenarios, including simple, repeatable branch deployments and dynamic, scalable data center/cloud deployments. The solution may be deployed with minimal configuration using the default SSR installation process, or customized and integrated with 3rd party tools.</p><p>An important aspect of the OTP solution is its flexibility. When the product is deployed using the standard SSR images, many customers appreciate the simplicity of enabling an enterprise-wide SessionSmart<!-- -->™<!-- --> routing fabric without investing additional time to customize the deployment. Rapid deployment of session-enabled routing, security and network visibility is the key objective.</p><p>In this deployment model, the SSR node is deployed into the production environment with no site-specific configuration during shipment of units and initial on-line state. A site configuration file is directed via the SSR for initial provisioning.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="software-delivery-options">Software Delivery Options<a href="#software-delivery-options" class="hash-link" aria-label="Direct link to Software Delivery Options" title="Direct link to Software Delivery Options">​</a></h2><p>The simplest deployment of the OTP solution is highly automated and leverages just two components, the Conductor and at least one SSR. For many customers, the SSR platform is ordered and delivered as a pre-integrated, off-the-shelf solution through the Juniper SSR partner network. An image leveraging QuickStart provisioning can also be deployed into a VM or cloud environment, though consideration must be made to the mechanism of injecting the file. Virtual environments may be better suited for cloud automation tools to assist in automated, dynamic deployment.</p><p>The OTP installation process produces a Router installed with SSR software set to factory defaults. Upon completing the OTP installation process, the default behavior is to provision the device to be configured with a DHCP client on the first ethernet port and DHCP server listening on all other ports. A user then connects to the SSR via ethernet cable and use the QuickStart file generated by the Conductor to finalize the SSR configuration. After performing the QuickStart operation, the SSR will have connectivity to its Conductor and can download the latest configuration (if necessary) and begin operation. These defaults <a href="#quickstart-location">can be changed</a> to suit your needs.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="quickstart-provisioning">QuickStart Provisioning<a href="#quickstart-provisioning" class="hash-link" aria-label="Direct link to QuickStart Provisioning" title="Direct link to QuickStart Provisioning">​</a></h2><p>Basic configuration parameters are encoded within an encrypted file. For each node, a custom file can be exported from the Conductor and minimally contains the following configuration encoded parameters:</p><ul><li>WAN IP address, subnet mask and gateway</li><li>Conductor IP address</li><li>Asset ID</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="disk-cloning">Disk Cloning<a href="#disk-cloning" class="hash-link" aria-label="Direct link to Disk Cloning" title="Direct link to Disk Cloning">​</a></h3><p>Disk Cloning allows you to create a generic router platform image that can be used to perform multiple installations quickly and efficiently. After the initial ISO installation and power off, the platform is generic and can be cloned to a disk to create a copy of that platform. </p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>When using cloned images, an identical hardware platform must be used. Create a new disk image for each hardware variation.</p></div></div><p>The cloned platform disk is then used to install the filesystem and SSR software on any number of other identical hardware platforms. </p><p>The general process for disk cloning is as follows:</p><ol><li>The platform is installed using an ISO image which powers down on success.</li><li>Use Clonezilla or other Live USB to make a copy of the platform.</li><li>Distribute the cloned disk using USB, multicast, or other technique.</li><li>Start each platform after installation.</li><li>Allow each platform to bootstrap and then reboot.</li><li>Verify the platform validation report.xs</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="before-you-begin">Before you Begin<a href="#before-you-begin" class="hash-link" aria-label="Direct link to Before you Begin" title="Direct link to Before you Begin">​</a></h2><p>Before beginning the Router installation, you must have a Conductor operationally deployed and reachable by the router.</p><p>This diagram is one possible topology for a standalone SSR deployed at the edge of the network.</p><p><img loading="lazy" alt="QuickStart network diagram" src="/assets/images/intro_ztp_quickstart_network_diagram-f002e32051f073ac14e244958c0314b8.png" width="1107" height="665" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="installing-ssr-using-one-touch-provisioning-otp">Installing SSR Using One Touch Provisioning (OTP)<a href="#installing-ssr-using-one-touch-provisioning-otp" class="hash-link" aria-label="Direct link to Installing SSR Using One Touch Provisioning (OTP)" title="Direct link to Installing SSR Using One Touch Provisioning (OTP)">​</a></h2><p>To install the Router using the OTP workflow, use the arrow keys to select the <strong>OTP Install Routing Software</strong> option (Serial or VGA Console).</p><p><img loading="lazy" alt="VGA Boot with OTP Install" src="/assets/images/install_select_OTP-fa7ccde3bdabf9acbf1973d6db133465.png" width="640" height="482" class="img_ev3q"></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Not all hardware has video support. Booting to the serial console 115200 baud is the default, and is automatically selected after 30 seconds. When using the serial console, the terminal size is 80x25 - anything smaller may result in abnormal navigation behavior.</p><p>Selecting the wrong type of console (Serial or VGA) may result in garbled characters being displayed, and if left to continue will result in an incorrect installation. If the wrong console is selected, reboot the target system and select the correct line for the target hardware.</p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ssr-system-via-serial-console">SSR System via Serial Console<a href="#ssr-system-via-serial-console" class="hash-link" aria-label="Direct link to SSR System via Serial Console" title="Direct link to SSR System via Serial Console">​</a></h4><p>Use this option when running on hardware with no video chipset. It uses <code>/dev/ttyS0</code> 115200 baud as the serial console for interacting with the installer. For serial console issues please refer to <a href="/docs/intro_installation_bootable_media#serial-console-troubleshooting">Serial Console Troubleshooting</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ssr-system-with-vga-console">SSR System with VGA Console<a href="#ssr-system-with-vga-console" class="hash-link" aria-label="Direct link to SSR System with VGA Console" title="Direct link to SSR System with VGA Console">​</a></h4><p>Use this option when running on hardware that has onboard graphics chipsets. This installs the SSR using the GUI installer.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ssr-installation">SSR Installation<a href="#ssr-installation" class="hash-link" aria-label="Direct link to SSR Installation" title="Direct link to SSR Installation">​</a></h3><p>This installation process is an automated workflow which does not require user interaction after selecting and initiating the OTP menu option. The system will power off after installation.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bootstrapping">Bootstrapping<a href="#bootstrapping" class="hash-link" aria-label="Direct link to Bootstrapping" title="Direct link to Bootstrapping">​</a></h2><p>After the initial installation and poweroff, the system is generic - it has no specific configuration. Once the platform is started again, an automated script performs bootstrapping of the platform. This script is a single run service unit that executes <strong>once</strong> during the first bootup, and automatically performs the following steps:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-configure-hostname-and-salt-minion-identifier">1. Configure Hostname and Salt Minion Identifier<a href="#1-configure-hostname-and-salt-minion-identifier" class="hash-link" aria-label="Direct link to 1. Configure Hostname and Salt Minion Identifier" title="Direct link to 1. Configure Hostname and Salt Minion Identifier">​</a></h3><p>The hostname and salt minion identifier are set to the same value during the bootstrapping process.</p><p>If the system serial number is provisioned (seen by <code>dmidecode --string system-serial-number</code>) this value will be used. Otherwise use the first MAC address found in the format of: <code>mac-&lt;address&gt;</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-configure-the-ssr-and-network-interfaces">2. Configure the SSR and Network Interfaces<a href="#2-configure-the-ssr-and-network-interfaces" class="hash-link" aria-label="Direct link to 2. Configure the SSR and Network Interfaces" title="Direct link to 2. Configure the SSR and Network Interfaces">​</a></h3><p>The Bootstrapper sets the SSR configuration via the QuickStart file found in one of the following locations:</p><ul><li><p>The root of an attached USB drive. i.e. <code>/bootstrap.quickstart</code>. The USB drive MUST be named &quot;BOOTSTRAP&quot; in all caps.</p></li><li><p>In <code>/etc/128technology/bootstrap.quickstart</code>.</p></li></ul><p>If no file source is present in either location, the Bootstrapper executes HTTP GET requests to the following endpoints to download the QuickStart File from a server. The REST response is explained in <a href="#quickstart-file-via-rest">REST details</a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">1. `http://quickstart.128t-bootstrap.local/quickstart/&lt;identifier&gt;`</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">2. `http://192.168.128.128/quickstart/&lt;identifier&gt;`</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>&lt;identifier&gt;</code> is the minion-id as determined by the algorithm discussed in <a href="#configure-hostname-and-salt-minion-identifier">Configure Hostname and Salt Minion Identifier</a>. Typically, it is the system serial number.</p><p>If none of the above are successful, the OTP defaults are used. This configures the DHCP client on the first ethernet port and a DHCP server listening on all other ports.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-enable-the-ssr-and-salt-minion-service">3. Enable the SSR and Salt-Minion Service<a href="#3-enable-the-ssr-and-salt-minion-service" class="hash-link" aria-label="Direct link to 3. Enable the SSR and Salt-Minion Service" title="Direct link to 3. Enable the SSR and Salt-Minion Service">​</a></h3><p>The quickstart file configures and enables the SSR and the associated salt-minion service.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-write-a-result-report">4. Write a Result Report<a href="#4-write-a-result-report" class="hash-link" aria-label="Direct link to 4. Write a Result Report" title="Direct link to 4. Write a Result Report">​</a></h3><p>Once the platform is rebooted after bootstrapping, the bootstrap validation report can be found at the root filesystem (<code>/root/128T-bootstrap.txt</code>) containing details about the steps taken. The <code>/root/128T-bootstrap.json</code> file contains the same information in JSON format. The report contains a message that includes additional details for each step.</p><p>Shown below is the location of the bootstrap report as well as an example of the contents.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@sn123456789 ~]# cat /root/128T-bootstrap.txt</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+--------------------+--------+---------------------------------+</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| Label              | Result | Message                         |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+--------------------+--------+---------------------------------+</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| Minion ID          | True   | mac-000000                      |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| Hostname           | True   | mac-000000                      |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| Clock Sync         | True   |                                 |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| Initialize 128T    | True   | node.Router                     |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| Enable 128T        | True   |                                 |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| Enable salt-minion | True   |                                 |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| Factory Defaults   | True   | http://192.168.0.100/quickstart |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| Ifgcfg files       | True   |                                 |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+--------------------+--------+---------------------------------+</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-reboot">5. Reboot<a href="#5-reboot" class="hash-link" aria-label="Direct link to 5. Reboot" title="Direct link to 5. Reboot">​</a></h3><p>After reboot, the SSR service will be configured and running.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>It is important to note that after the OS installation the dhclient is configured across all network interfaces until the platform has completed Bootstrapping.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="scriptlets">Scriptlets<a href="#scriptlets" class="hash-link" aria-label="Direct link to Scriptlets" title="Direct link to Scriptlets">​</a></h3><p>In addition to the above steps, the Bootstrap utility supports executing pre- and post- scriptlets on a USB drive for further customization of the platform. The scriptlets will be executed as the first and last steps in the bootstrap process.</p><p>The names and locations for the scriptlets are:</p><ul><li>If scriptlet exists at the root of USB drive and is called “/pre-bootstrap”, it will be the first step. Otherwise use /etc/128technology/pre-bootstrap.</li><li>If scriptlet exists at the root of USB drive and is called “/post-bootstrap”, it will be the last step. Otherwise use /etc/128technology/post-bootstrap.</li></ul><div class="theme-admonition theme-admonition-important alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>The scriptlets must have executable permissions to be executed properly.</p></div></div><p>Any stdout/stderr output generated from the scriptlets is logged in <code>/var/log/128T-bootstrap/&lt;scriptlet-name&gt;-scriptlet.log</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="bootstrapping-flow-chart">Bootstrapping Flow Chart<a href="#bootstrapping-flow-chart" class="hash-link" aria-label="Direct link to Bootstrapping Flow Chart" title="Direct link to Bootstrapping Flow Chart">​</a></h3><p>The diagram below shows the procedure the Bootstrap utility follows during the first bootup of the platform after the ISO installation completes. </p><div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="quickstart-file-via-rest">QuickStart File via REST<a href="#quickstart-file-via-rest" class="hash-link" aria-label="Direct link to QuickStart File via REST" title="Direct link to QuickStart File via REST">​</a></h3><p>If no bootstrap file is present on the USB device or disk, the Bootstrapper will execute HTTP GET requests in an attempt to download the QuickStart file from a server.</p><p>The server must respond to the HTTP GET request with valid JSON data that is of format:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  “quickstart”: “&lt;quickstart-file-contents&gt;”,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  “password”: “this-is-my-password”</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-important alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>The response must be URL-encoded, otherwise the client will not decode the data correctly.</p></div></div><p>The password data within the JSON is required if the QuickStart file was encrypted when exported from the Conductor.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="testing">Testing<a href="#testing" class="hash-link" aria-label="Direct link to Testing" title="Direct link to Testing">​</a></h3><p>The Bootstrap utility provides an entrypoint to test your QuickStart Server. By executing the command below, the client makes requests to URLs and attempts to download and decode the QuickStart file. It will NOT apply the QuickStart to the platform - only test the process.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ bootstrap128t rest-test -i &lt;test-identifier&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Or, if you want to test a specific url:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ bootstrap128t rest-test -i &lt;test-identifier&gt; --url &lt;a-fully-qualified-url&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-11-20T19:50:26.000Z">Nov 20, 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/intro_basic_router_config"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Basic Router Configuration</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/intro_install_quickstart_otpiso"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">QuickStart from the OTP ISO</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#software-delivery-options" class="table-of-contents__link toc-highlight">Software Delivery Options</a></li><li><a href="#quickstart-provisioning" class="table-of-contents__link toc-highlight">QuickStart Provisioning</a><ul><li><a href="#disk-cloning" class="table-of-contents__link toc-highlight">Disk Cloning</a></li></ul></li><li><a href="#before-you-begin" class="table-of-contents__link toc-highlight">Before you Begin</a></li><li><a href="#installing-ssr-using-one-touch-provisioning-otp" class="table-of-contents__link toc-highlight">Installing SSR Using One Touch Provisioning (OTP)</a><ul><li><a href="#ssr-installation" class="table-of-contents__link toc-highlight">SSR Installation</a></li></ul></li><li><a href="#bootstrapping" class="table-of-contents__link toc-highlight">Bootstrapping</a><ul><li><a href="#1-configure-hostname-and-salt-minion-identifier" class="table-of-contents__link toc-highlight">1. Configure Hostname and Salt Minion Identifier</a></li><li><a href="#2-configure-the-ssr-and-network-interfaces" class="table-of-contents__link toc-highlight">2. Configure the SSR and Network Interfaces</a></li><li><a href="#3-enable-the-ssr-and-salt-minion-service" class="table-of-contents__link toc-highlight">3. Enable the SSR and Salt-Minion Service</a></li><li><a href="#4-write-a-result-report" class="table-of-contents__link toc-highlight">4. Write a Result Report</a></li><li><a href="#5-reboot" class="table-of-contents__link toc-highlight">5. Reboot</a></li><li><a href="#scriptlets" class="table-of-contents__link toc-highlight">Scriptlets</a></li><li><a href="#bootstrapping-flow-chart" class="table-of-contents__link toc-highlight">Bootstrapping Flow Chart</a></li><li><a href="#quickstart-file-via-rest" class="table-of-contents__link toc-highlight">QuickStart File via REST</a></li><li><a href="#testing" class="table-of-contents__link toc-highlight">Testing</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Juniper Networks, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.8bb84db0.js"></script>
<script src="/assets/js/main.5cdde051.js"></script>
</body>
</html>