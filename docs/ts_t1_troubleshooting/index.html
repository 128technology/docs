<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-167298415-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="128T Docs" href="/opensearch.xml"><title data-react-helmet="true">T1 Troubleshooting | 128T Docs</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="T1 Troubleshooting | 128T Docs"><meta data-react-helmet="true" name="description" content="T1 Troubleshooting Process"><meta data-react-helmet="true" property="og:description" content="T1 Troubleshooting Process"><meta data-react-helmet="true" property="og:url" content="https://docs.128technology.com/docs/ts_t1_troubleshooting"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://docs.128technology.com/docs/ts_t1_troubleshooting"><link rel="stylesheet" href="/styles.b64930b1.css">
<link rel="preload" href="/styles.d814ffdf.js" as="script">
<link rel="preload" href="/runtime~main.5c299270.js" as="script">
<link rel="preload" href="/main.0ce84bbc.js" as="script">
<link rel="preload" href="/1.ae010e97.js" as="script">
<link rel="preload" href="/2.440bf99e.js" as="script">
<link rel="preload" href="/165.956fbf5e.js" as="script">
<link rel="preload" href="/168.4effac11.js" as="script">
<link rel="preload" href="/935f2afb.ae1804bd.js" as="script">
<link rel="preload" href="/17896441.79707eee.js" as="script">
<link rel="preload" href="/16bb0c08.b79b36dc.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Juniper Logo"><strong class="navbar__title">Session Smart</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro_getting_started">Docs</a><a href="https://community.128technology.com/home" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Interchange</a><a href="https://www.128technology.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Company</a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Juniper Logo"><strong class="navbar__title">Session Smart</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/intro_getting_started">Docs</a></li><li class="menu__list-item"><a href="https://community.128technology.com/home" target="_blank" rel="noopener noreferrer" class="menu__link">Interchange</a></li><li class="menu__list-item"><a href="https://www.128technology.com/" target="_blank" rel="noopener noreferrer" class="menu__link">Company</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">About</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_128t">128T</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_svr_savings">Secure Vector Routing Savings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_releases">128T Releases</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_support_policy">Software Support Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_supported_platforms">Platform Support Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_supported_drivers">Supported NICs and Drivers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_certified_platforms">Certified Platforms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_security_policy">Security Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_services_description">Services Description</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/CONTRIBUTING">Contributing</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_getting_started">Getting Started with the 128T Networking Platform</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Deployment Considerations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_system_reqs">System Requirements</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Installation Process</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation">Installation Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_downloading_iso">Downloading ISOs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_creating_bootable_usb">Creating Bootable USB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_bootable_media">Conductor Interactive Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_basic_conductor_config">Configure the Conductor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_basic_router_config">Basic Router Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_otp_iso_install">Router Installation Using OTP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_install_quickstart_otpiso">QuickStart from the OTP ISO</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Cloud Installations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_aws">Installing from the AWS Marketplace</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_quickstart_aws">QuickStart Installation in AWS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_azure">Installing in Azure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_initialize_HA_conductor">Conductor High Availability for Cloud Deployments</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Supporting Information - Appendix</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_installer">Manually Installing the 128T</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/legacy_OTP_install">Installing Using the Pre-5.0 Interactive ISO</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_upgrade_considerations">Upgrade Considerations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_upgrading">Upgrading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_rollback">Rollback</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_application_discovery">Application Discovery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_appid">Application Identification</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_EthOverSVR">Ethernet Over Secure Vector Routing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_ha_theoryofoperation">HA - Theory of Operation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_interface_types">Interface Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_kni">Kernel Network Interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_linux_host_networking">Linux Host Networking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_learning_VRF_routes">Learning VRF Routes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_network_planes">Forwarding Planes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_metadata">128T Metadata</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_metrics">Metrics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_machine_communication">Machine Communication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_pcli">PCLI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_session_timer">Session Timers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_STEP">Service and Topology Exchange Protocol (STEP)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_waypoint_ports">Waypoints</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_glossary">Glossary</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Administration</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Configuration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_basics">Configuration Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_access_mgmt">Access Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_asset_connection_resiliency">Asset Connection Resiliency</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_bgp">Configuring BGP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_vrf_learning">VRF Learning via BGP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_reference_guide">Element Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_audit_event">Audit Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_dhcp">DHCP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_dns_proxy">DNS Proxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_ldap">LDAP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_management_over_forwarding">Management over Forwarding</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_EthoSVR">Configuring Ethernet Over Secure Vector Routing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_service_health">Service Health Learning and Fault Avoidance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_gre_tunnel">Native GRE Tunnels</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_in-memory_metrics">In-Memory Metrics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_ha">High Availability</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_dual_router_ha">High Availability (Dual Router)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_non_forwarding_ha_interfaces">Non-forwarding HA Interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_adding_interfaces_to_ha_team">Adding Interfaces to HA Team Interface</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_transition_standalone_to_ha">Transitioning a Conductor from Standalone to HA</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_nat">NAT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_ospf">OSPF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_rate_limiting">Rate Limiting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_RBAC">Configuring Role-Based Access Control</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_snmp">SNMP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_snmp_metrics">SNMP: User defined metrics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_static_hostname_mapping">Static Hostname Mappings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_STEP">Configuring Service and Topology Exchange Protocol (STEP)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_tenants">Tenants</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_templates">Configuration Templates</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Security</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sec_adaptive_encrypt">Adaptive Encryption</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">How To</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_conductor_migration">Conductor Migration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_extend_gui_nav">Extending GUI Nav</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_lte">LTE and Dual LTE Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_config_PPPoE">Configuring Dual PPPoE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_maintenance_mode">Maintenance Mode</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_ms365">Microsoft 365</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_trusted_ca_certificate">Adding a Trusted Certificate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_tune_bfd">Tuning BFD</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Troubleshooting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ts_applications">Application Troubleshooting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ts_ap_duplicate_assets">AP: Duplicate Asset ID Error</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ts_ap_salt_minion">AP: Salt Minion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ts_cpu_spikes">CPU Spikes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ts_connecting_to_routers">Connecting to Routers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ts_forwarding_resource_pools">Forwarding Plane Resource Pools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ts_logs">Logs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ts_mac_uniqueness">MAC Address Uniqueness</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ts_packet_capture">Packet Capture</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/ts_t1_troubleshooting">T1 Troubleshooting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ts_troubleshooting_vrf">Troubleshooting VRF</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Events</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/events_overview">Alarm and Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/events_alarms">Alarms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/events_events">Events</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Best Practices</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_att_avpn_configuration">AT&amp;T AVPN Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_using_128T_as_ntp_server">Branch NTP Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_conductor_deployment">Conductor Deployment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_qos_msft_expressroute">ExpressRoute QoS Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_lte_peering">LTE Peering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_monitoring_headends">Monitoring Head End Routers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_salt_pillars">Saltstack at Scale With 128T</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_sdwan_design_guide">SD-WAN Design Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_service_and_service_policy_design">Service and Service Policy Design</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_service-policy_defaults">Service Policy Baseline Defaults</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_tenants">Tenancy Design</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">CLI Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli_reference">Command Line Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli_stats_reference">Show Stats Reference</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Installer/Initializer Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/installer_cli_reference">Installer Command Line Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/installer_preferences">Installer Preferences File Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/initializer_cli_reference">Initializer Command Line Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/initializer_preferences">Initializer Preferences File Reference</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Plugins</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_bgp_community_services">BGP Community Services</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_aws_tgw_connect">AWS Transit Gateway Connect</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_cloud_ha">Cloud HA</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_dns_app_id">DNS App Id</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_dns_cache">DNS Cache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_gre">GRE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_icmp_reachability_detection">ICMP Reachability Detection</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_ipsec_client">IPsec Client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_loopback_static_routes">Loopback Static Routes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_m800_watchdog">M800 Watchdog</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_monitoring_agent">Monitoring Agent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_mosh">Mosh</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_set_hostname">Set Hostname</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_sip_alg">SIP ALG</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_wireguard">Wireguard</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_kni_namespace_scripts">KNI Namespace Scripts</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">REST APIs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api_rest_4.2.0">128T-4.2.0</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Release Notes</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">128T</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_5.3">5.3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_5.2">5.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_5.1">5.1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_5.0">5.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.5">4.5</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.4">4.4</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.3">4.3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.2">4.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.1">4.1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.0">4.0</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">128T Installer</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_3.0">3.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.7">2.7</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.6">2.6</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.5">2.5</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.4">2.4</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.3">2.3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.2">2.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.1">2.1</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">128T SIP ALG</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_sip_alg_2.1">2.1</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">128T ZScaler</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_zscaler_1.1">1.1</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">T1 Troubleshooting</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="t1-troubleshooting-process"></a>T1 Troubleshooting Process<a aria-hidden="true" tabindex="-1" class="hash-link" href="#t1-troubleshooting-process" title="Direct link to heading">#</a></h2><p>The 128T software is often configured to leverage legacy T1/E1 circuits to connect to provider MPLS networks. This document contains troubleshooting techniques available to 128T administrators, to confirm whether a T1 has issues prior to escalating to service provider, and to distinguish between a T1 issue and a downstream issue.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="confirm-interface-status"></a>Confirm Interface Status<a aria-hidden="true" tabindex="-1" class="hash-link" href="#confirm-interface-status" title="Direct link to heading">#</a></h3><p>The PCLI command <a href="/docs/cli_reference#show-device-interface"><code>show device-interface</code></a> shows the status of the T1 interface, including its administrative status and its operational status. For functioning T1 interfaces, the interface state will be <code>up</code> both administratively and operationally.</p><p>Here is an example from a healthy system:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.router# show device-interface node all summary  | egrep &quot;Status|t1&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Name              Admin Status   Operational Status   Redundancy Status   MAC Address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> node1:t1-carrier1 up             up                   non-redundant       ea:83:07:63:27:74</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> node2:t1-carrier2 up             up                   non-redundant       fa:88:6a:46:20:a3</span></div></div></div></div></div><p>Here is an example from a system with T1 problems:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.router# show device-interface node all summary  | egrep &quot;Status|t1&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Name              Admin Status   Operational Status   Redundancy Status   MAC Address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> node1:t1-carrier1 up             unknown              non-redundant       a6:c2:7f:75:47:26</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> node2:t1-carrier2 up             down                 non-redundant       72:c4:48:fc:6f:3f</span></div></div></div></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The state of <code>unknown</code> represents a T1 that has <em>never successfully come online since 128T system start</em>. The initial state of a T1 interface on the 128T platform is <code>unknown</code>, until it transitions to <code>up</code>. When a T1 is <code>unknown</code>, it can be treated as out of service.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="confirm-peer-status"></a>Confirm Peer Status<a aria-hidden="true" tabindex="-1" class="hash-link" href="#confirm-peer-status" title="Direct link to heading">#</a></h3><p>Typically, a site will have multiple upstream peers that it connects with over any given transport circuit; for example, a branch location will connect to multiple head ends on each of its T1 circuit, its broadband circuit, LTE connection, etc. These individual connections are referred to as &quot;peer paths,&quot; and are periodically measured using BFD packets. If some but not all of the peer paths are down on a given circuit, or only a subset are flapping (repeatedly transitioning between up and down), the issue is most likely related to a downstream issue and not a local T1 issue. As an additional point of investigation, it is encouraged to look at other branch locations that peer with the same head ends/peers to see if there is any correlation to down/flapping peer paths.</p><p>Here is an example of a system with working peers:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.router# show peers | egrep &quot;Status|t1&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Peer       Node    Network Interface   Destination       Status   Hostname      Path MTU</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> headend1   node1   mpls-t1-backup      192.0.2.201       standby  unavailable   unavailable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> headend1   node1   mpls-t1-backup      192.0.2.202       standby  unavailable   unavailable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> headend1   node2   mpls-t1             192.0.2.201       up       unavailable   unavailable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> headend1   node2   mpls-t1             192.0.2.202       up       unavailable   unavailable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> headend2   node1   mpls-t1-backup      198.51.100.11     standby  unavailable   unavailable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> headend2   node1   mpls-t1-backup      198.51.100.12     standby  unavailable   unavailable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> headend2   node2   mpls-t1             198.51.100.11     up       unavailable   unavailable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> headend2   node2   mpls-t1             198.51.100.12     up       unavailable   unavailable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ucaas-he1  node1   mpls-t1-backup      203.0.113.101     standby  unavailable   unavailable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ucaas-he1  node2   mpls-t1             203.0.113.102     up       unavailable   unavailable</span></div></div></div></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>In some deployments there will be &quot;standby&quot; paths to router peers. These may show as either <code>down</code> or <code>standby</code> in the output of <code>show peers</code>. In the sample output above these are displayed as <code>standby</code> for the backup MPLS link.</p></div></div><p>Here is an example of a system with issues communicating to peers over its T1 circuit:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.router# show peers | egrep &quot;Status|t1&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Peer       Node    Network Interface   Destination       Status   Hostname      Path MTU</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> headend1   node1   mpls-t1-backup      192.0.2.201       down     unavailable   unavailable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> headend1   node1   mpls-t1-backup      192.0.2.202       down     unavailable   unavailable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> headend1   node2   mpls-t1             192.0.2.201       down     unavailable   unavailable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> headend1   node2   mpls-t1             192.0.2.202       down     unavailable   unavailable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> headend2   node1   mpls-t1-backup      198.51.100.11     down     unavailable   unavailable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> headend2   node1   mpls-t1-backup      198.51.100.12     down     unavailable   unavailable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> headend2   node2   mpls-t1             198.51.100.11     down     unavailable   unavailable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> headend2   node2   mpls-t1             198.51.100.12     down     unavailable   unavailable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ucaas-he1  node1   mpls-t1-backup      203.0.113.101     down     unavailable   unavailable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ucaas-he1  node2   mpls-t1             203.0.113.102     down     unavailable   unavailable</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="build-a-timeline"></a>Build a Timeline<a aria-hidden="true" tabindex="-1" class="hash-link" href="#build-a-timeline" title="Direct link to heading">#</a></h3><p>Based on when your monitoring system detects a failure, or your users report connectivity problems, start building a timeline of events. This is conventional wisdom in network troubleshooting: piece together the information from logs, event history, and alarms, to compile a timeline that can be traced back to the <em>trigger</em> of the problem. This is how we will arrive at the root cause of the issue.</p><p>Log into the local router&#x27;s PCLI to view active alarms and event history.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The PCLI output is often very wide and may cause lines to wrap making it difficult to read on narrow screens. Ensure your screen is wide enough to prevent line wrap.</p></div></div><ol><li>First, check the current system time from within the PCLI:</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.router# shell date</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Mon Mar  9 11:19:41 EDT 2020</span></div></div></div></div></div><ol start="2"><li>Choose a timeframe (e.g., 24 hours) offset from the current time, and use the <code>show events alarm</code> command to list all T1 events that have occurred in that timeframe by passing the <code>from</code> argument. The timezone of the value passed to <code>from</code> in the example below is assumed to be the same as that of the system.</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.router# show events alarm from &quot;2020-03-08 11:19&quot; | grep t1</span></div></div></div></div></div><ol start="3"><li>Compile each of these events into a timeline. Each event that is displayed will indicate in the <code>Event Type</code> column whether it is a new event (the type is <code>add</code>), or clearing a prior event (the type is <code>clear</code>). Furthermore, each event will fall into one of two Categories: <code>network-interface</code> or <code>peer</code>.</li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="interpreting-the-data"></a>Interpreting the Data<a aria-hidden="true" tabindex="-1" class="hash-link" href="#interpreting-the-data" title="Direct link to heading">#</a></h4><p>The <code>network-interface</code> category is used when the interface transitions to up or down, either administratively (i.e., disabled or enabled by an administrator), or operationally (the physical circuit).</p><p>The <code>peer</code> category reflects the ability for the 128T software to reach remote devices over that circuit.</p><p>When a <code>network-interface</code> is down, either operationally or administratively, this will obviously impact all traffic on that interface. For circumstances when the <code>network-interface</code> is operationally down, proceed to the Circuit Troubleshooting section of this document.</p><p>For peers, it is important to identify if the issue affects <em>just one peer or all of the peers</em> leveraging the T1 interface. When the issue is limited to one peer, it is typically a downstream issue that should be escalated to the circuit provider. When the issue affects all peers, it is typically a circuit issue.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="circuit-troubleshooting"></a>Circuit Troubleshooting<a aria-hidden="true" tabindex="-1" class="hash-link" href="#circuit-troubleshooting" title="Direct link to heading">#</a></h2><p>The command <a href="/docs/cli_reference#show-device-interface"><code>show device-interface</code></a> will show the details of the T1 interface activity, including errors, alarms, and signal strength.</p><p>Here is an example of a clean T1 circuit.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.router# show device node node1 name t1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Mon 2020-03-09 17:56:40 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">======================================================</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> node1:t1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">======================================================</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Type:                t1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Mode:                host</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> MAC Address:         2e:8d:d0:21:a3:9a</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Admin Status:        up</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Operational Status:  up</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Redundancy Status:   non-redundant</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Speed:               1000</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> in-octets:                 44113322596</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> in-unicast-pkts:             274899493</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> in-errors:                           0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> out-octets:                45274259759</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> out-unicast-pkts:            248173338</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> out-errors:                          0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> T1 State:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     State:           up</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     Flags:           PPP, RUNNING, UP, NOARP</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     Iface:           w1g1ppp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     MTU:             1500</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     RX-DRP:          0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     RX-ERR:          0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     RX-OK:           282904443</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     RX-OVR:          0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     TX-DRP:          0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     TX-ERR:          0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     TX-OK:           254742784</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     TX-OVR:          0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     Alarms: </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ***** w1g1: T1 Rx Alarms (Framer) *****</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ALOS:  OFF     | LOS:  OFF</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> RED:   OFF     | AIS:  OFF</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> LOF:   OFF     | RAI:  OFF</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ***** w1g1: T1 Rx Alarms (LIU) *****</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Short Circuit: OFF</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Open Circuit:  OFF</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Loss of Signal:        OFF</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ***** w1g1: T1 Tx Alarms *****</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> AIS:   OFF     | YEL:  OFF</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ***** w1g1: T1 Performance Monitoring Counters *****</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Line Code Violation    : 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Bit Errors (CRC6/Ft/Fs)        : 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Out of Frame Errors    : 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Sync Errors            : 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Rx Level       : &gt; -2.5db</span></div></div></div></div></div><p>Here is an example of a misbehaving T1; note the section on Performance Monitoring Counters at the end of the output:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.router# show device-interface node node1 name t1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Mon 2020-03-09 17:50:14 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">======================================================</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> node1:t1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">======================================================</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Type:                t1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Mode:                host</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> MAC Address:         f6:a0:e7:ea:39:0a</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Admin Status:        up</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Operational Status:  up</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Redundancy Status:   non-redundant</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Speed:               1000</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> in-octets:                    36727823</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> in-unicast-pkts:                233085</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> in-errors:                           0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> out-octets:                   38634055</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> out-unicast-pkts:               229578</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> out-errors:                          0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> T1 State:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     State:           up</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     Flags:           PPP, RUNNING, UP, NOARP</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     Iface:           w1g1ppp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     MTU:             1500</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     RX-DRP:          9</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     RX-ERR:          0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     RX-OK:           238562</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     RX-OVR:          0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     TX-DRP:          0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     TX-ERR:          0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     TX-OK:           233929</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     TX-OVR:          0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     Alarms:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">***** w1g1: T1 Rx Alarms (Framer) *****</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ALOS:  OFF     | LOS:  OFF</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> RED:   OFF     | AIS:  OFF</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> LOF:   OFF     | RAI:  OFF</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ***** w1g1: T1 Rx Alarms (LIU) *****</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Short Circuit: OFF</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Open Circuit:  OFF</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Loss of Signal:        OFF</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ***** w1g1: T1 Tx Alarms *****</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> AIS:   OFF     | YEL:  OFF</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ***** w1g1: T1 Performance Monitoring Counters *****</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Line Code Violation    : 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Bit Errors (CRC6/Ft/Fs)        : 284284</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Out of Frame Errors    : 349</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Sync Errors            : 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Rx Level       : &gt; -2.5db</span></div></div></div></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The 128 Technology solution includes the Sangoma E1/T1 card for interfacing to MPLS networks. For more information on the Framer alarms, the LIU alarms, and the Tx alarms, refer to the <a href="https://wiki.freepbx.org/pages/viewpage.action?pageId=57411508" target="_blank" rel="noopener noreferrer">Sangoma Reference Guide</a> for details.</p></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="checking-the-circuit-status"></a>Checking the Circuit Status<a aria-hidden="true" tabindex="-1" class="hash-link" href="#checking-the-circuit-status" title="Direct link to heading">#</a></h4><p>From Linux prompt on the node where the T1 card is installed, use the following command to confirm if the T1 card is observing circuit flapping. For this we&#x27;ll use the <code>journalctl</code> command, which shows log messages in the system&#x27;s journal. We can restrict it to start and end times, and then pipe it to the <code>grep</code> command to filter out everything but the messages related to <code>wanpipe</code> (the Sangoma card).</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">journalctl --since &quot;START TIME&quot; --until &quot;END TIME&quot; | grep wanpipe | grep -i connect</span></div></div></div></div></div><p>Example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[t128@node1 ~]$ journalctl --since &quot;2019-09-20 00:00&quot; --until &quot;2019-09-20 23:55&quot; | grep wanpipe | grep -i connect</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Sep 20 18:50:23 node1 kernel: wanpipe1: T1 disconnected!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Sep 20 18:50:29 node1 kernel: wanpipe1: T1 connected!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Sep 20 18:50:37 node1 kernel: wanpipe1: T1 disconnected!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Sep 20 18:50:42 node1 kernel: wanpipe1: T1 connected!</span></div></div></div></div></div><p>In this example we can see that the T1 card (<code>wanpipe1</code>) is reporting circuit loss at 18:50:23, restored six seconds later, down again eight seconds after that, and restored again in five seconds. This is a classic example of a &quot;flapping&quot; circuit. This circuit behavior will affect all peers, and cause all traffic to be migrated off of the circuit. This should correspond to interface failures in the output of <code>show events alarm</code>.</p><p>These should be added to your troubleshooting timeline.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="check-for--t1-physical-errors"></a>Check for  T1 physical errors<a aria-hidden="true" tabindex="-1" class="hash-link" href="#check-for--t1-physical-errors" title="Direct link to heading">#</a></h4><p>We&#x27;ll use the command <code>show device-interface node &lt;name&gt; name &lt;interfaceName&gt;</code> to look at the error counters for the circuit.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.router# show device-interface node node1 name t1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ***** w1g1: T1 Performance Monitoring Counters *****</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Line Code Violation    : 263653</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Bit Errors (CRC6/Ft/Fs)        : 1286</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Out of Frame Errors    : 230</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Sync Errors            : 17</span></div></div></div></div></div><p>Repeat this command several times to see if errors are incrementing, or if these counters are residual from an earlier incident.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.router# show device-interface node node1 name t1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ***** w1g1: T1 Performance Monitoring Counters *****</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Line Code Violation    : 2732653</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Bit Errors (CRC6/Ft/Fs)        : 1386</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Out of Frame Errors    : 239</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Sync Errors            : 17</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="clearing-the-counters"></a>Clearing the Counters<a aria-hidden="true" tabindex="-1" class="hash-link" href="#clearing-the-counters" title="Direct link to heading">#</a></h4><p>The 128T cannot reset Sangoma counters within its administrative interfaces. To clear the counters, you must follow these steps within the Linux host operating system.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The <strong>Sync Errors</strong> counter cannot be cleared.</p></div></div><ol><li>Use the command <code>ip netns</code> to identify the <a href="https://en.wikipedia.org/wiki/Linux_namespaces" target="_blank" rel="noopener noreferrer">Linux namespace</a> used for the T1 interface. This will be of the format <code>t1-ns-&lt;number&gt;</code>.</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[t128@node1 ~]$ ip netns</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">t1-ns-5 (id: 1073741828)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">routingEngine</span></div></div></div></div></div><p>In this example, the T1 namespace is <code>t1-ns-5</code>.</p><ol start="2"><li>Clear the performance counters using the command <code>ip netns exec &lt;t1 namespace&gt; wanpipemon -i w1g1 -c fpm</code></li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[t128@node1 ~]$ sudo ip netns exec t1-ns-5 wanpipemon -i w1g1 -c fpm</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">DSU/CSU Perfomance Monitoring counters were flushed.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Performance monitoring counters flushed</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="confirm-presence-of-the-sangoma-card"></a>Confirm Presence of the Sangoma card<a aria-hidden="true" tabindex="-1" class="hash-link" href="#confirm-presence-of-the-sangoma-card" title="Direct link to heading">#</a></h4><p>Use the Linux command <code>lspci</code> to confirm that the card appears on the Linux system&#x27;s PCI bus. Here is the expected result (note that the PCI address <code>04:04.0</code> may be different on your hardware platform):</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[root@node1 ~]# lspci | grep Sangoma</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">04:04.0 Network controller: Sangoma Technologies Corp. A200/Remora FXO/FXS Analog AFT card</span></div></div></div></div></div><p>If the card is not present, this is the output:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[root@node1 ~]# lspci | grep Sangoma</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[root@node1 ~]# </span></div></div></div></div></div><p>This is indicative of a failure to the Sangoma card or the host machine.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="confirm-status-of-the-t1-card"></a>Confirm Status of the T1 Card<a aria-hidden="true" tabindex="-1" class="hash-link" href="#confirm-status-of-the-t1-card" title="Direct link to heading">#</a></h4><p>Use the command <code>wanrouter status</code> to make sure the card is active and connected. The expected output should look something like this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[root@node1 ~]# wanrouter status</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Devices currently active:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Wanpipe1  Wanpipe Config:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Device name | Protocol Map | Adapter  | IRQ | Slot/IO | If&#x27;s | CLK | Baud rate |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">wanpipe1    | N/A          | A101/1D/2/2D/4/4D/8/8D/16/16D| 22  | 4       | 1    | N/A | 0         |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Wanrouter Status:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Device name | Protocol | Station | Status        |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">wanpipe1    | AFT TE1  | N/A     | Connected     |</span></div></div></div></div></div><p>If the card or drivers are malfunctioning, it will look like this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[root@node1 ~]# wanrouter status</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Router is stopped !</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[root@node1 ~]#</span></div></div></div></div></div><p>Failure in this scenario means that the T1 card is not loading properly. Try to restore connectivity to the card by powering off the entire host, waiting a short time, and powering it back on. If the failure persists, this system should be replaced.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="confirm-the-system-can-query-the-device"></a>Confirm the System can Query the Device<a aria-hidden="true" tabindex="-1" class="hash-link" href="#confirm-the-system-can-query-the-device" title="Direct link to heading">#</a></h4><p>Use the command <code>wanrouter hwprobe</code> to confirm communication between the host operating system and the Sangoma card. Expected output:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[root@node1 ~]# wanrouter hwprobe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-------------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">| Wanpipe Hardware Probe Info |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-------------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">1 . AFT-A101-SH : SLOT=4 : BUS=4 : IRQ=22 : CPU=A : PORT=1 : HWEC=0 : V=40</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Sangoma Card Count: A101-2=1 </span></div></div></div></div></div><p>Failure output:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[root@node1 ~]# wanrouter hwprobe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">modprobe: ERROR: could not insert &#x27;wanpipe&#x27;: No such device</span></div></div></div></div></div><p>For failure cases, more information may be in the logfile <code>/var/log/wanrouter</code> and the system journal:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">root@node1 log]# cat /var/log/wanrouter</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Tue Oct  1 09:07:52 UTC 2019: starting WAN router</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Loading driver wanpipe ... fail</span></div></div></div></div></div><p>Use the <code>journalctl</code> command and look for messages related to <code>wanpipe</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">root@node1 log]# journalctl --since â€œ2019-09-21 00:00:00â€ --until â€œ2019-09-21 20:00:00â€ | grep wanpipe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Sep 21 21:18:02 node1 kernel: __sdla_bus_read_4:1157: wanpipe PCI Error: Illegal Register read: 0x0040 = 0xFFFFFFFF</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Sep 21 21:18:02 node1 kernel: __sdla_bus_read_4:1157: wanpipe PCI Error: Illegal Register read: 0x0040 = 0xFFFFFFFF</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Sep 21 21:18:02 node1 kernel: __sdla_shark_te1_read_fe:567: wanpipe PCI Error: Illegal Register read: 0x40 = 0xFFFFFFFF</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="confirm-layer3-ppp-connection-using-icmp"></a>Confirm Layer3 PPP connection using ICMP<a aria-hidden="true" tabindex="-1" class="hash-link" href="#confirm-layer3-ppp-connection-using-icmp" title="Direct link to heading">#</a></h4><p>We&#x27;ll use the old standby <code>ping</code> to make sure we can reach the PPP peer. Use the <code>ping</code> command, specifying the egress interface, and put in the service provider&#x27;s Provider Edge (PE) IP address:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.router# ping node node1 egress-interface t1 10.61.73.170</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">PING 10.61.73.170 56 bytes of data.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Ping from 10.61.73.170 (10.61.73.170): icmp_seq=0 ttl=254 time=13.388ms</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Ping from 10.61.73.170 (10.61.73.170): icmp_seq=1 ttl=254 time=9.513ms</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Ping from 10.61.73.170 (10.61.73.170): icmp_seq=2 ttl=254 time=11.235ms</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Ping from 10.61.73.170 (10.61.73.170): icmp_seq=3 ttl=254 time=11.583ms</span></div></div></div></div></div><p>If the ping request fails and all indications from the 128T and Sangoma diagnostics indicate an otherwise healthy system, escalate to the service provider for investigation on the PE equipment.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="manual-loopback"></a>Manual Loopback<a aria-hidden="true" tabindex="-1" class="hash-link" href="#manual-loopback" title="Direct link to heading">#</a></h2><p>The Sangoma T1 Card with the latest firmware will automatically loop back on detection of a loop signal from the service provider. However, there may be cases where you will need to manually loop up the card. This is done through the Linux shell using <code>wanpipe</code> commands.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>When T1 is placed in loopback, the interface is no longer usable for remote administration, conductor connectivity, traffic forwarding, etc. <strong>This should only be done during scheduled maintenance, or in critical situations.</strong> Because this can interfere with remote administration, <em>it is essential another path be available so that the Node can be accessed to enter the command to disable T1 loopback</em> (thus restoring normal service) issued locally.</p></div></div><p>The output of <code>show device-interface</code> will indicate a status of Admin: Up and Oper: Down while the loopback is engaged. You will need to use the Linux shell to query the card for statistics while it is unavailable to 128T.</p><p>Performance counters can be retrieved using the Linux command <code>wanpipemon -i w1g1 -c Ta</code></p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>All of the commands in this section must be run from within the T1&#x27;s namespace in Linux. You can either precede all of the commands with <code>ip netns exec t1-ns-&lt;number&gt;</code>, or use the command <code>ip netns exec t1-ns-&lt;number&gt; bash</code> to start a shell within that namespace. If using the latter technique, all commands will be run from within the namespace; use the <code>exit</code> command to leave that shell and return to the default namespace.</p><p>For the examples in this section, we will <strong>not</strong> use individual <code>ip netns exec</code> commands for each sample output. These were run from within a <code>bash</code> shell in the namespace.</p></div></div><p>To enable a manual loopback:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[root@node1 ~]# wanpipemon -i w1g1 -c Tallb</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Enable Line/Remote Loopback mode ... Done!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">LB CMD Return Code: SANG_STATUS_SUCCESS (0)</span></div></div></div></div></div><p>To confirm the loopback status:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[root@node1 ~]# wanpipemon -i w1g1 -c Tlb</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">***** w1g1: T1 Loopback status (0x00000080) *****</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Line (Remote) Loopback: ON</span></div></div></div></div></div><p>To disable line loopback mode:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[root@node1 ~]# wanpipemon -i w1g1 -c Tdllb</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Disable Line/Remote Loopback mode ... Done!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">LB CMD Return Code: SANG_STATUS_SUCCESS (0)</span></div></div></div></div></div><p>To confirm loopback is disabled:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[root@node1 ~]# wanpipemon -i w1g1 -c Tlb</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">All loopback modes are disabled!</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="standard-t1-configuration-file"></a>Standard T1 Configuration File<a aria-hidden="true" tabindex="-1" class="hash-link" href="#standard-t1-configuration-file" title="Direct link to heading">#</a></h2><p>Below is the standard configuration file included with the 128T software. <strong>This configuration is generated by the 128T software and should not be modified, it is provided here for reference only.</strong> </p><p>The file is located at <code>/etc/wanpipe/wanpipe1.conf</code>.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[devices]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">wanpipe1 = WAN_AFT_TE1, Comment</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[interfaces]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">w1g1 = wanpipe1, , STACK, Comment</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">w1g1ppp = wanpipe1, , WANPIPE, ppp, w1g1.ppp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[wanpipe1]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">CARD_TYPE         = AFT</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">S514CPU         = A</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">CommPort         = PRI</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">AUTO_PCISLOT         = YES</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">FE_MEDIA        = T1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">FE_LCODE        = B8ZS</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">FE_FRAME        = ESF</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">FE_LINE                = 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">TE_CLOCK         = NORMAL</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">TE_REF_CLOCK         = 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">TE_HIGHIMPEDANCE        = NO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">TE_RX_SLEVEL        = 360</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">LBO                 = 0DB</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">FE_TXTRISTATE        = NO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MTU                 = 1500</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">UDPPORT         = 9000</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">TTL                = 255</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">IGNORE_FRONT_END = NO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">TDMV_HW_DTMF        = NO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[w1g1ppp]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">IPX        = NO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MULTICAST        = NO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">DYN_INTR_CFG        = NO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">TRUE_ENCODING_TYPE        = NO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GATEWAY        = NO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[w1g1.ppp]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">IP_MODE        = STATIC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">PAP        = NO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">CHAP        = NO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[w1g1]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">HDLC_STREAMING        = YES</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ACTIVE_CH        = ALL</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MTU                = 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MRU                = 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">DATA_MUX        = NO</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="escalating-to-the-service-provider"></a>Escalating to the Service Provider<a aria-hidden="true" tabindex="-1" class="hash-link" href="#escalating-to-the-service-provider" title="Direct link to heading">#</a></h2><p>If the troubleshooting exercise leads you to believe the issue is with the service provider&#x27;s circuit, we recommend collecting the following information prior to escalating.</p><ol><li>Confirm the circuit is plugged in and the node has power </li><li>Status of active T1<ol><li>Admin: up/down</li><li>Operational: up/down/unknown</li><li>T1 State: up/down</li><li>T1 Flags: RUNNING versus Missing</li><li>T1 Card Present in system Yes/No</li></ol></li><li>Alarm Analysis: (Provide Command Output)<ol><li>T1 interface flapping: Yes/No</li><li>T1 peers flapping (all): Yes/No</li><li>BGP flapping: Yes/No (Correlated to T1 Events?)</li></ol></li><li>Interface Error Analysis: (Provide Command Output)<ol><li>KNI errors accumulating: Yes/No</li><li>Layer 3 Errors accumulating: Yes/No</li><li>T1 Performance Errors Accumulting : Yes/No</li><li>T1 RX signal in spec: Yes/No </li></ol></li><li>Can ping PPP peer (Provider Edge) IP: Yes/No</li><li>The timeline of events observed by the 128T and uncovered during your analysis</li></ol></div></article><div class="margin-vert--xl"><div class="row"><div class="col"></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-08-11T20:52:19.000Z" class="docLastUpdatedAt_217_">8/11/2021</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/ts_packet_capture"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Packet Capture</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/ts_troubleshooting_vrf"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Troubleshooting VRF Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#t1-troubleshooting-process" class="table-of-contents__link">T1 Troubleshooting Process</a><ul><li><a href="#confirm-interface-status" class="table-of-contents__link">Confirm Interface Status</a></li><li><a href="#confirm-peer-status" class="table-of-contents__link">Confirm Peer Status</a></li><li><a href="#build-a-timeline" class="table-of-contents__link">Build a Timeline</a></li></ul></li><li><a href="#circuit-troubleshooting" class="table-of-contents__link">Circuit Troubleshooting</a></li><li><a href="#manual-loopback" class="table-of-contents__link">Manual Loopback</a></li><li><a href="#standard-t1-configuration-file" class="table-of-contents__link">Standard T1 Configuration File</a></li><li><a href="#escalating-to-the-service-provider" class="table-of-contents__link">Escalating to the Service Provider</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center"><div>Copyright Â© 2021 Juniper Networks, Inc.</div></div></div></footer></div>
<script src="/styles.d814ffdf.js"></script>
<script src="/runtime~main.5c299270.js"></script>
<script src="/main.0ce84bbc.js"></script>
<script src="/1.ae010e97.js"></script>
<script src="/2.440bf99e.js"></script>
<script src="/165.956fbf5e.js"></script>
<script src="/168.4effac11.js"></script>
<script src="/935f2afb.ae1804bd.js"></script>
<script src="/17896441.79707eee.js"></script>
<script src="/16bb0c08.b79b36dc.js"></script>
</body>
</html>