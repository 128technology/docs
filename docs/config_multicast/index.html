<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-config_multicast" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Multicast | SSN Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.128technology.com/docs/config_multicast"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Multicast | SSN Docs"><meta data-rh="true" name="description" content="Multicast is a “one source, many destinations” method of traffic distribution, meaning only the destinations that explicitly indicate their need to receive the information from a particular source receive the traffic stream."><meta data-rh="true" property="og:description" content="Multicast is a “one source, many destinations” method of traffic distribution, meaning only the destinations that explicitly indicate their need to receive the information from a particular source receive the traffic stream."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.128technology.com/docs/config_multicast"><link data-rh="true" rel="alternate" href="https://docs.128technology.com/docs/config_multicast" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.128technology.com/docs/config_multicast" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/kb/rss.xml" title="SSR Knowledge Base Articles RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/kb/atom.xml" title="SSR Knowledge Base Articles Atom Feed">
<link rel="alternate" type="application/json" href="/kb/feed.json" title="SSR Knowledge Base Articles JSON Feed"><link rel="stylesheet" href="/assets/css/styles.b50a304b.css">
<script src="/assets/js/runtime~main.df32b24d.js" defer="defer"></script>
<script src="/assets/js/main.30a83e9e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Juniper Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo_dark.png" alt="Juniper Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro_getting_started">Docs</a><a class="navbar__item navbar__link" href="/kb">Knowledge Base</a><a href="https://community.juniper.net/answers/communities/community-home?CommunityKey=310d1a41-12fa-4627-9a99-880145a7c87c" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.juniper.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Company<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/about_128t">About</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_getting_started">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_system_reqs">Deployment Considerations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/cc_fips_titlepage">SSR Common Criteria Install and Configuration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_upgrade_considerations">Upgrading the SSR</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_installation">Installation Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/rma_wan_assurance">RMA Workflows</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_installation_univ-iso">SSR Universal ISO Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/supported_cloud_platforms">Cloud / Hypervisor Installations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_installation_legacy">Legacy Install Information</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/concepts_application_discovery">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/concepts_fib">Understanding the Forwarding Information Base</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/wan_overview">WAN Assurance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/config_basics">Administration</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/config_basics">Configuration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/concepts_appid">Application Identification</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/howto_tune_bfd">Optimizing Routing Protocols</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/howto_tune_bfd">Tuning BFD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_session_optimization">TCP Session Optimization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_bgp">BGP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_vrf_route_leaking">VRF Route Leaking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_ospf">OSPF</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_bfd">BFD with BGP and OSPF</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/config_multicast">Multicast</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_lacp">Link Aggregation and LACP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_dhcp">DHCP</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/config_source-dest_nat">Network Address Translation (NAT)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/config_ha">High Availability</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/concepts_traf_eng">Traffic Engineering</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/config_access_mgmt">Access Management and Authentication</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/config_ntp_auth">NTP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/sec_adaptive_encrypt">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/concepts_ssr_idp">Intrusion Detection and Prevention</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/howto_update_bios">How To</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/ts_applications">Troubleshooting</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/events_overview">Events</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/bcp_sdwan_design_guide">Best Practices</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/cli_reference">CLI and Element Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/installer_cli_reference">Installer/Initializer Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/plugin_intro">Plugins</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/release_notes_128t_6.3">Release Notes</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Administration</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Optimizing Routing Protocols</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Multicast</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Multicast</h1></header><p>Multicast is a “one source, many destinations” method of traffic distribution, meaning only the destinations that explicitly indicate their need to receive the information from a particular source receive the traffic stream.</p>
<p>Network applications that can function with unicast but are better suited for multicast include collaborative groupware, teleconferencing, periodic or “push” data delivery (stock quotes, sports scores, magazines, newspapers, and advertisements), server or website replication, and distributed interactive simulation (DIS) such as war simulations or virtual reality. Any IP network concerned with reducing network resource overhead for one-to-many or many-to-many data or multimedia applications with multiple receivers benefits from multicast.</p>
<p>Please refer to the <a href="https://www.juniper.net/documentation/us/en/software/junos/multicast/topics/concept/multicast-ip-overview.html" target="_blank" rel="noopener noreferrer">Juniper Multicast Overview</a> for more in-depth information about Multicast.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="version-history">Version History<a href="#version-history" class="hash-link" aria-label="Direct link to Version History" title="Direct link to Version History">​</a></h4>
<table><thead><tr><th>Release</th><th>Modification</th></tr></thead><tbody><tr><td>6.1.0</td><td>This feature was introduced</td></tr><tr><td>6.2.0</td><td>Added support for MSDP, SSR as RP</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="multicast-on-the-ssr">Multicast on the SSR<a href="#multicast-on-the-ssr" class="hash-link" aria-label="Direct link to Multicast on the SSR" title="Direct link to Multicast on the SSR">​</a></h2>
<p>Multicast on the SSR supports the following protocols and topology:</p>
<ul>
<li>PIM Sparse-Mode</li>
<li>PIM Source-Specific Multicast (PIM-SSM)</li>
<li>Static Configuration of RP</li>
<li>IGMP v2/v3</li>
<li>Multicast over SVR in Hub and Spoke topology</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="multicast-configuration">Multicast Configuration<a href="#multicast-configuration" class="hash-link" aria-label="Direct link to Multicast Configuration" title="Direct link to Multicast Configuration">​</a></h3>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>In order to support Multicast over SVR, the BGP over SVR configuration is used in conjunction with the PIM configuration to generate auto-provisioned services and service-paths. BGP over SVR must be provisioned to support the Multicast feature. See <a href="/docs/config_bgp#bgp-over-svr-bgposvr">BGP over SVR</a> for configuration details.</p></div></div>
<p>The following are the components necessary to configure multicast over SVR on the SSR. Configuration for each of the components is provided below, and a full example configuration is provided at the end of this process.</p>
<ul>
<li>Routing Interface: Specify the BGP over SVR interface</li>
<li>BGP over SVR: See <a href="/docs/config_bgp#bgp-over-svr-bgposvr">BGP over SVR</a> for configuration details.</li>
<li>Routing protocol such as IGMPv2/v3</li>
<li>PIM</li>
<li>RP: The Rendezvous Point. In the initial implementation (v6.1.x), the RP must be external to the SSR. This has been revised and the configuration below offers both configurations.</li>
<li>Service: Services are created for the multicast traffic, and defined for the Group address.</li>
<li>Multicast-sender-policy: Defines the tenant that is allowed to be the source of the multicast stream.</li>
<li>Access Policy: Configures the tenants allowed to receive the multicast traffic via IGMP joins at routers in the network.</li>
</ul>
<p>Refer to <a href="/docs/config_tenants">Tenants</a> for more information on configuring Tenants.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Multicast Source Discovery Protocol (MSDP) is a protocol that allows inter-domain multicast communication. MSDP is only valid for the Any-Source Multicast (ASM) model. If the Source-Specific Multicast (SSM) model is used, MSDP will not send Source-Active (SA) messages to indicate an active source.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-process">Configuration Process<a href="#configuration-process" class="hash-link" aria-label="Direct link to Configuration Process" title="Direct link to Configuration Process">​</a></h3>
<p>The following diagram represents a simple multicast configuration. A Client sends a multicast to address 225.1.1.1. Location1 and Location2 want to receive this multicast stream. The network is setup to use an external, non-SSR Rendezvous Point (RP) at 20.20.20.20 for all multicast traffic. This router is 192.168.22.2 and is configured for BGP with SSR rtr2. It advertises 20.20.20.20 as the RP for multicast into BGP,  allowing the SSR network to identify the path to the RP.</p>
<p><img decoding="async" loading="lazy" alt="Multicast diagram" src="/assets/images/config_multicast-eb4c9e95be96de9f18006430c37f6e27.png" width="2190" height="1334" class="img_ev3q"></p>
<p>Key points in the rtr2 configuration:</p>
<ul>
<li>BGP is configured with the external router, 192.168.22.2</li>
<li>BGP over SVR is configured with two spokes</li>
<li>PIM is configured on the LAN interface towards the external router</li>
<li>The tenant <code>edsel</code> is configured on the LAN interface</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-for-rtr2">Configuration for rtr2<a href="#configuration-for-rtr2" class="hash-link" aria-label="Direct link to Configuration for rtr2" title="Direct link to Configuration for rtr2">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">config</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        router  rtr2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            node                 node1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                name              node1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                device-interface  eth6</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    network-interface  lan3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        name       lan3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        tenant     edsel</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        address    192.168.22.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            ip-address     192.168.22.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            prefix-length  30</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            gateway        192.168.22.2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            routing              default-instance</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                type              default-instance</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                routing-protocol  bgp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    type            bgp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    local-as        65128</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    neighbor        192.168.22.2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        neighbor-address  192.168.22.2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        neighbor-as       65100</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    neighbor        192.168.128.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        neighbor-address  192.168.128.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        neighbor-as       65128</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        transport</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            local-address</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                routing-interface  loopback0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        address-family    ipv4-unicast</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            afi-safi       ipv4-unicast</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            next-hop-self  true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    neighbor        192.168.128.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        neighbor-address  192.168.128.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        neighbor-as       65128</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        transport</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            local-address</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                routing-interface  loopback0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        address-family    ipv4-unicast</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            afi-safi       ipv4-unicast</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            next-hop-self  true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                pim</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    interface  node1 lan3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        node       node1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        interface  lan3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    rp         224.0.0.0/4</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        address      20.20.20.20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        group-range  224.0.0.0/4</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To use <code>rtr2</code> as the Rendezvous Point, the existing static RP configuration takes the IP address of the RP. This address should be a routable address configured on <code>rtr2</code>. The SSR detects this address as one of its local interfaces and assumes the role of RP. It is recommended to create a routing-interface (unrelated to BGPoSVR configuration) to be a routable address of the local RP. This routing interface must be advertised in the routing protocol. To do this either enable OSPF on the interface, or advertise the address using a BGP network command. For example:</p>
<p><strong>Create the Routing Interface:</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">           routing      default-instance</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                type    default-instance</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                interface       loopback-rp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    name        loopback-rp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    ip-address  192.168.128.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Advertise the Address using BGP:</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">               routing-protocol     bgp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    type            bgp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    address-family      ipv4-unicast</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        afi-safi        ipv4-unicast</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        network         192.168.128.0/32</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            network-address     192.168.128.0/32</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-for-spoke-1-rtr0">Configuration for Spoke 1 (rtr0)<a href="#configuration-for-spoke-1-rtr0" class="hash-link" aria-label="Direct link to Configuration for Spoke 1 (rtr0)" title="Direct link to Configuration for Spoke 1 (rtr0)">​</a></h4>
<p>Key points for the Spoke configuration - this applies to each spoke, since the configuration is nearly identical.</p>
<ul>
<li>BGP over SVR configured to the hub</li>
<li>PIM configured with the same RP on the LAN interface</li>
<li>IGMP configured on the LAN interface</li>
<li>Using tenant <code>studebaker</code> on the LAN where the IGMP joins originate</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">config</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        router  rtr0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            node                 node1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                device-interface  eth3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    network-interface  lan0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        tenant     studebaker</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        address    192.168.0.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            ip-address     192.168.0.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            prefix-length  24</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            routing              default-instance</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                type              default-instance</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                interface         loopback0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    name        loopback0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    ip-address  192.168.128.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                routing-protocol  bgp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    type            bgp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    local-as        65128</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    address-family  ipv4-unicast</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        afi-safi  ipv4-unicast</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        network   192.168.0.0/24</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            network-address  192.168.0.0/24</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    neighbor        192.168.128.2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        neighbor-address  192.168.128.2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        neighbor-as       65128</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        transport</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            local-address</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                routing-interface  loopback0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                igmp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    interface  node1 lan0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        node       node1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        interface  lan0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                pim</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    interface  node1 lan0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        node       node1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        interface  lan0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    rp         225.0.0.0/4</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        address      20.20.20.20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        group-range  225.0.0.0/4</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-for-spoke-2-rtr1">Configuration for Spoke 2 (rtr1)<a href="#configuration-for-spoke-2-rtr1" class="hash-link" aria-label="Direct link to Configuration for Spoke 2 (rtr1)" title="Direct link to Configuration for Spoke 2 (rtr1)">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">config</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        router  rtr1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            node                 node1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                device-interface  eth3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    network-interface  lan0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        tenant     studebaker</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        address    192.168.1.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            ip-address     192.168.1.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            prefix-length  24</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            routing              default-instance</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                type              default-instance</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                interface         loopback0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    name        loopback0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    ip-address  192.168.128.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                routing-protocol  bgp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    type            bgp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    local-as        65128</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    address-family  ipv4-unicast</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        afi-safi  ipv4-unicast</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        network   192.168.1.0/24</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            network-address  192.168.1.0/24</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    neighbor        192.168.128.2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        neighbor-address  192.168.128.2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        neighbor-as       65128</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        transport</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            local-address</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                routing-interface  loopback0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                igmp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    interface  node1 lan0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        node       node1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        interface  lan0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                pim</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    interface  node1 lan0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        node       node1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        interface  lan0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    rp         224.0.0.0/4</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        address      20.20.20.20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        group-range  224.0.0.0/4</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configure-the-service">Configure the Service<a href="#configure-the-service" class="hash-link" aria-label="Direct link to Configure the Service" title="Direct link to Configure the Service">​</a></h4>
<p>The service allows the traffic to flow. It allows the tenant from the hub <code>edsel</code> to send the multicast stream, and the tenants <code>studebaker</code> on each spoke can join and receive the multicast stream.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">config</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        service  multicast</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            name                     multicast</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            address                  224.0.0.0/4</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            access-policy            studebaker</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                source  studebaker</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            multicast-sender-policy  edsel</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                source  edsel</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="other-considerations">Other Considerations<a href="#other-considerations" class="hash-link" aria-label="Direct link to Other Considerations" title="Direct link to Other Considerations">​</a></h4>
<p>While this configuration example uses one RP for the multicast range, you can use different RPs for different multicast addresses or ranges. The same can be done for the service; smaller services for more specific ranges of multicast with different senders and receivers as needed.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="multicast-source-discovery-protocol-msdp">Multicast Source Discovery Protocol (MSDP)<a href="#multicast-source-discovery-protocol-msdp" class="hash-link" aria-label="Direct link to Multicast Source Discovery Protocol (MSDP)" title="Direct link to Multicast Source Discovery Protocol (MSDP)">​</a></h2>
<p>MSDP is used to allow RPs to share the active Multicast Sources. Messages are sent as Source-Active (SA) messages between MSDP peers. In normal MSDP operation, an MSDP peer is received from one peer and forwarded to the other MSDP peers. To ensure there are no loops, RPF checks have been put in place.</p>
<p>MSDP can also be configured as a <code>mesh-group</code>. In this mode, the SA messages received from a peer are not forwarded to the other members of the mesh-group, since all the peers are configured as part of the mesh. This is commonly used with Anycast RPs, where the same RP address is configured on multiple routers in the network. The Anycast RP routers use an MSDP mesh-group to distribute the active source information to the other anycast RPs. This provides redundancy in the network, in case an RP fails.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration">​</a></h3>
<p>MSDP can be configured on the router as follows:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">authority</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    router A</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        routing default-instance</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            msdp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                peer 10.10.10.2 source 16.0.0.2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Alternatively, MSDP can be configured with a <code>mesh-group</code>. A mesh-group is similar to an IBGP peering relationship, in that the received SA messages are not forwarded to other members of the mesh-group.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">authority</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    router A</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        routing default-instance</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            msdp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                peer 10.10.10.2 source 16.0.0.2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                mesh-group myMesh </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    source 16.0.0.2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    member 11.11.11.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>MSDP can also be enabled in a VRF:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">authority</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    router A</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        routing default-instance</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            vrf     vrfA</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                msdp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    peer     10.10.10.2 source 16.0.0.2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="show-commands">Show Commands<a href="#show-commands" class="hash-link" aria-label="Direct link to Show Commands" title="Direct link to Show Commands">​</a></h2>
<p>Each of the commands listed below and the subcommands for each, provide additional details for multicast visibility. Use the links to learn more about each command.</p>
<table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><a href="/docs/cli_reference#show-igmp-interface">show igmp interface</a></td><td>Display the igmp interfaces</td></tr><tr><td><a href="/docs/cli_reference#show-igmp-groups">show igmp groups</a></td><td>Display the igmp groups</td></tr><tr><td><a href="/docs/cli_reference#show-msdp-peer">show msdp peer</a></td><td>Display MSDP peer information</td></tr><tr><td><a href="/docs/cli_reference#show-msdp-mesh-group">show msdp mesh-group</a></td><td>Display MSDP mesh-group details</td></tr><tr><td><a href="/docs/cli_reference#show-msdp-sa">show msdp sa</a></td><td>Display MSDP source active</td></tr><tr><td><a href="/docs/cli_reference#show-pim-mroute">show pim mroute</a></td><td>Display the PIM mroute</td></tr><tr><td><a href="/docs/cli_reference#show-pim-interface">show pim interface</a></td><td>Display the PIM interface</td></tr><tr><td><a href="/docs/cli_reference#show-pim-join">show pim join</a></td><td>Display the PIM Joins</td></tr><tr><td><a href="/docs/cli_reference#show-pim-neighbor">show pim neighbor</a></td><td>Display the PIM neighbor</td></tr><tr><td><a href="/docs/cli_reference#show-pim-rp-info">show pim rp-info</a></td><td>Display the PIM RP info</td></tr><tr><td><a href="/docs/cli_reference#show-pim-state">show pim state</a></td><td>Display the PIM state</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Each show command allows a vrf option:
<code>show ip igmp [vrf &lt;vrfname&gt;]</code></p></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/config_bfd"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">BFD with BGP and OSPF</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/config_lacp"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Link Aggregation and LACP</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#multicast-on-the-ssr" class="table-of-contents__link toc-highlight">Multicast on the SSR</a><ul><li><a href="#multicast-configuration" class="table-of-contents__link toc-highlight">Multicast Configuration</a></li><li><a href="#configuration-process" class="table-of-contents__link toc-highlight">Configuration Process</a></li></ul></li><li><a href="#multicast-source-discovery-protocol-msdp" class="table-of-contents__link toc-highlight">Multicast Source Discovery Protocol (MSDP)</a><ul><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a></li></ul></li><li><a href="#show-commands" class="table-of-contents__link toc-highlight">Show Commands</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Juniper Networks, Inc.</div></div></div></footer></div>
</body>
</html>