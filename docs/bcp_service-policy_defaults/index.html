<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<title data-react-helmet="true">Service Policy Baseline Configurations | SSN Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.128technology.com/docs/bcp_service-policy_defaults"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Service Policy Baseline Configurations | SSN Docs"><meta data-react-helmet="true" name="description" content="One of the most powerful aspects of the 128T data model is the flexibility offered by a service-policy. Giving customers the ability to configure thresholds for when traffic should migrate from path to path based on current network status is a daunting task, however; most customers – and even application developers – are unaware of the sensitivity of their service to latency, loss, and jitter."><meta data-react-helmet="true" property="og:description" content="One of the most powerful aspects of the 128T data model is the flexibility offered by a service-policy. Giving customers the ability to configure thresholds for when traffic should migrate from path to path based on current network status is a daunting task, however; most customers – and even application developers – are unaware of the sensitivity of their service to latency, loss, and jitter."><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.128technology.com/docs/bcp_service-policy_defaults"><link data-react-helmet="true" rel="alternate" href="https://docs.128technology.com/docs/bcp_service-policy_defaults" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.128technology.com/docs/bcp_service-policy_defaults" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.21b25f22.css">
<link rel="preload" href="/assets/js/runtime~main.3efc2bae.js" as="script">
<link rel="preload" href="/assets/js/main.5cd46198.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Juniper Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo_dark.png" alt="Juniper Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Session Smart</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro_getting_started">Docs</a><a href="https://community.juniper.net/answers/communities/community-home?CommunityKey=310d1a41-12fa-4627-9a99-880145a7c87c" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Session Smart Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://www.juniper.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Company<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/about_128t">About</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_getting_started">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_system_reqs">Deployment Considerations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_installation">Installation Process</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_installation_image">Image-Based Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_installation_quickstart_aws">Cloud Installations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_upgrade_considerations">Upgrades and Rollback</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_installation_installer">Supporting Install Information - Appendix</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/concepts_application_discovery">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_wa_quickstart_1_networks">WAN Assurance Quick Start</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/wan_overview">WAN Assurance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/config_basics">Administration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/events_overview">Events</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/docs/bcp_att_avpn_configuration">Best Practices</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bcp_att_avpn_configuration">AT&amp;T AVPN Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bcp_using_128T_as_ntp_server">Branch NTP Service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bcp_conductor_deployment">Conductor Deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bcp_per-adjacency_traffic_engineering">Per Adjacency Traffic Engineering</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bcp_qos_msft_expressroute">ExpressRoute QoS Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bcp_lte_peering">LTE Peering</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bcp_monitoring_headends">Monitoring Head End Routers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bcp_salt_pillars">Saltstack at Scale With 128T</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bcp_sdwan_design_guide">SD-WAN Design Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bcp_service_and_service_policy_design">Service and Service Policy Design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/bcp_service-policy_defaults">Service Policy Baseline Defaults</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bcp_tenants">Tenancy Design</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/cli_reference">CLI and Element Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/installer_cli_reference">Installer/Initializer Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/plugin_intro">Plugins</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/release_notes_128t_6.0">Release Notes</a></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Service Policy Baseline Configurations</h1></header><p>One of the most powerful aspects of the 128T data model is the flexibility offered by a <code>service-policy</code>. Giving customers the ability to configure thresholds for when traffic should migrate from path to path based on current network status is a daunting task, however; most customers – and even application developers – are unaware of the sensitivity of their service to latency, loss, and jitter.</p><p>This document recommends several base class <code>service-policy</code> definitions for common types of traffic. These can be used as sane starting points for configuring the 128T. Administrators should derive their own policies from these base definitions, adding in administrative preference for path selection using vectors.</p><p>The entire set of proposed base class policies is provided at the end of this document in a format suitable for copy/paste into existing systems.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="traffic-categories">Traffic Categories<a class="hash-link" href="#traffic-categories" title="Direct link to heading">​</a></h2><p>Traffic can be broken into two basic categories, each with their respective set of subcategories. The basic categories are <em>real-time traffic</em> and <em>non real-time traffic</em>. The goal of categorizing traffic is to construct a corresponding set of basic policies for managing that traffic. We will discuss the network resource consumption behavior of commonly deployed network services (such as VoIP, SCCM, and FTP) and create basic models for them, but will also discuss strategies for choosing an appropriate base class for custom applications.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="real-time-traffic">Real-Time Traffic<a class="hash-link" href="#real-time-traffic" title="Direct link to heading">​</a></h3><p>As described in <!-- -->[delay-limits]<!-- -->, real-time traffic&#x27;s basic requirement is the <em>preservation of the time relation (variation) between the information entities of the stream</em>. In practice, this means the most important factor to consider for the success of the service traffic is <strong>latency</strong>. There are largely three major categories of real-time traffic today, of which two are common in enterprise networking:</p><ul><li>Voice/Video over IP (hereafter collectively referred to as VoIP)</li><li>Remote desktop services</li><li>Online gaming</li></ul><h4 class="anchor anchorWithStickyNavbar_y2LR" id="voip">VoIP<a class="hash-link" href="#voip" title="Direct link to heading">​</a></h4><p>VoIP traffic is somewhat unique in that it is comprised of (at least) two separate, parallel channels: the <em>signaling</em> used for user location, call setup and teardown, etc., and the <em>media</em> – the audio/video traffic itself. Each of these have significantly different properties and for this reason it is recommended that they be separated into unique services whenever possible. In most deployments, there is a clean separation between the IP:ports used for signaling and the IP:ports used for media.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>VoIP signaling is in fact not a real-time network service, but is described here due to its codependence on media streaming, which is a classic real-time network service.</p></div></div><p>VoIP signaling, at least for telephony applications, typically creates a long-lived session; this session is created when a phone is powered on and registers, and lasts until that phone is powered off. As such, it is important to ensure that the signaling follows the best path available at all times. This is done using the <code>session-resiliency</code> setting <code>revertible-failover</code>.</p><p>Signaling is not particularly sensitive to jitter or loss. The recommended latency for VoIP signaling is <code>250</code>, as the most prevalent VoIP protocol (SIP) retransmits messages when no reply is received within 500ms. Using a value of <code>250</code> accommodates one round trip between UAC and UAS.</p><p>The <code>service-class</code> is assigned the value <code>Signalling</code>, one of 128T&#x27;s factory default service classes. It will mark egress packets with DSCP 40 (CS5), per the recommendations of <a href="https://tools.ietf.org/html/rfc4594#section-4.2" target="_blank" rel="noopener noreferrer">[RFC 4594]</a>.</p><p>Baseline configuration:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">*admin@labsystem1.fiedler (service-policy[name=voip-signaling])# show</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">name                 voip-signaling</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">description          &quot;SIP, H.323, MEGACO, etc.&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service-class        Signalling</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">session-resiliency   revertible-failover</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">path-quality-filter  true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">best-effort          true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">max-latency          250</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>VoIP media, on the other hand, is very sensitive to latency, loss, and jitter. The 128T software calculates &quot;MOS&quot; (<a href="https://en.wikipedia.org/wiki/Mean_opinion_score" target="_blank" rel="noopener noreferrer">Mean Opinion Score</a>) for every peer path, as a composite metric derived by BFD metric data exchanged across the path. MOS is a &quot;Quality of Experience&quot; measurement, which assigns a single scalar value between 1 and 5 to an interactive session. Our benchmark for reasonable quality for VoIP media will be 3.6, which is the threshold below which many users will be disastisfied <a href="https://www.voipmechanic.com/mos-mean-opinion-score.htm" target="_blank" rel="noopener noreferrer">[voip-mechanic]</a>.</p><p>Because voice and video calls are transient, we <em>strongly discourage</em> using <code>revertible-failover</code> as the <code>session-resiliency</code> setting. This can cause traffic to &quot;ping pong&quot; between two links during congestion or periods of &quot;brown outs,&quot; degrading the overall quality of experience for the caller.</p><p>Baseline configuration:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">*admin@labsystem1.fiedler (service-policy[name=voip-audio])# show</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">name                 voip-audio</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">description          &quot;RTP/bearer audio&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service-class        Telephony</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">session-resiliency   failover</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">path-quality-filter  true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">best-effort          true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">min-mos              3.6</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>MOS values can be dramatically affected by the codecs used in the audio/video streams. A G.711 stream (which is uncompressed) can achieve a theoretical maximum MOS of 4.4, whereas a G.729 stream can reach a theoretical maximum MOS of 3.9. However, the 128T&#x27;s MOS calculation is derivative of path latency, loss, and jitter and will not consider codec. A value above 3.6 should be suitable for most signaled media traffic.</p></div></div><p>Alternatively, it is possible to approximate the same behavior by explicitly specifying loss, latency, and jitter values. This gives additional flexibility if the values need to be tuned individually.</p><p>Baseline configuration (alternate):</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">*admin@labsystem1.fiedler (service-policy[name=voip-audio])# show</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">name                 voip-audio</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">description          &quot;RTP/bearer audio&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service-class        Telephony</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">session-resiliency   failover</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">path-quality-filter  true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">best-effort          true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">max-loss             1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">max-latency          150</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">max-jitter           30</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="interactive-video">Interactive Video<a class="hash-link" href="#interactive-video" title="Direct link to heading">​</a></h4><p>For video traffic associated with VoIP sessions (videoconferencing), the only difference is the recommended marking of the packets; for video, this is <code>MultimediaConferencing</code> which uses AF41 (Assured Forwarding).</p><p>Baseline configuration:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">*admin@labsystem1.fiedler (service-policy[name=voip-video])# show</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">name                 voip-video</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">description          &quot;Interactive video&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service-class        MultimediaConferencing</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">session-resiliency   failover</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">path-quality-filter  true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">best-effort          true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">max-loss             1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">max-latency          150</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">max-jitter           30</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="remote-desktop-services">Remote Desktop Services<a class="hash-link" href="#remote-desktop-services" title="Direct link to heading">​</a></h4><p>Remote Desktop (including Virtual Desktop Infrastructure, a.k.a. &quot;VDI&quot;) is a client/server implementation where a user communicates with a local client application that connects to a remote server, streaming display information from server to client, and keyboard/mouse information streamed from client to server. This is common in enterprise networking, whether it is in support of &quot;thin client&quot; deployments (as is popularized by the commercial applications Citrix Desktop and VMware&#x27;s &quot;PCoIP&quot;), or troubleshooting tools such as Microsoft Remote Desktop and VNC.</p><p>Remote Desktop quality of experience is degraded for latency values above 225ms, so this will be our governing factor.</p><p>Baseline configuration:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">*admin@labsystem1.fiedler (service-policy[name=remote-desktop])# show</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">name                 remote-desktop</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">description          &quot;Remote Desktop and VDI&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service-class        RealTimeInteractive</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">session-resiliency   failover</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">path-quality-filter  true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">max-latency          225</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The baseline configuration recommends <code>session-resiliency</code> to be set to <code>failover</code>, which is acceptable for infrequent and/or transient use of remote desktop services such as troubleshooting exercices, or transactional applications. For enterprises that use VDI as a standard means for allowing employees to access their desktops as hosted server infrastructure, consider setting <code>session-resiliency</code> to <code>true</code>.</p></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="gaming">Gaming<a class="hash-link" href="#gaming" title="Direct link to heading">​</a></h4><p>Gaming traffic is highly susceptible to latency and fairly insensitive to loss (since most real-time games will periodically send cumulative updates to clients to ensure state synchronization). Thus the governing metric is again latency.</p><p>We will set <code>best-effort</code> to <code>false</code>, since gaming applications requiring low latency will become unplayable if latency exceeds 100ms. We will also set <code>revertible-failover</code> to <code>true</code>, as gaming sessions are typically long-lived.</p><p>Baseline configuration:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">*admin@labsystem1.fiedler (service-policy[name=gaming])# show</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">name                 gaming</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">description          &quot;Real-time gaming applications&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service-class        LowLatencyData</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">session-resiliency   revertible-failover</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">path-quality-filter  true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">best-effort          false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">max-latency          100</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="non-real-time-traffic">Non Real-Time Traffic<a class="hash-link" href="#non-real-time-traffic" title="Direct link to heading">​</a></h3><p>As opposed to real-time traffic, the quality of experience for <em>non real-time traffic</em> is less dependent on round trip latency. We will describe several categories of traffic:</p><ul><li>Management traffic, both interactive (e.g., SSH, telnet) and non-interactive (SNMP, NTP, Syslog, API calls, etc.)</li><li>Streaming video</li><li>Mission-critical data: enterprise-specific applications critical to day-to-day operations</li><li>Best-effort data, which typically represents the lion&#x27;s share of the network traffic</li><li>Bulk/scavenger data, the lowest class of data and first to be dropped during congestion</li></ul><h4 class="anchor anchorWithStickyNavbar_y2LR" id="management-traffic">Management Traffic<a class="hash-link" href="#management-traffic" title="Direct link to heading">​</a></h4><p>Management traffic can be interactive, as is the case when administrators log into devices over the network; they can also be non-interactive, as is the case for machine-to-machine (M2M) traffic exemplified by SNMP. The difference between interactive and non-interactive focuses on latency: the human-to-machine interface quickly becomes unusable as latency grows.</p><p>For the interactive traffic, we set <code>session-resiliency</code> to <code>failover</code> as these types of interactive sessions are typically short-lived. For M2M traffic, management sessions may last indefinitely, hence the use of <code>revertible-failover</code>.</p><p>Baseline configurations:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">*admin@labsystem1.fiedler (service-policy[name=management-interactive])# show                                    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">name                 management-interactive</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">description          &quot;SSH, Telnet, mosh, etc.&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service-class        OAM</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">session-resiliency   failover</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">path-quality-filter  true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">best-effort          true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">max-latency          200</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">*admin@labsystem1.fiedler (service-policy[name=management-m2m])# show                                            </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">name                 management-m2m</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">description          &quot;SNMP, NTP, Syslog, etc.&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service-class        OAM</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">session-resiliency   revertible-failover</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">path-quality-filter  true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">best-effort          true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">max-latency          1000</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="streaming-video">Streaming Video<a class="hash-link" href="#streaming-video" title="Direct link to heading">​</a></h4><p>There are many variants of streaming video in today&#x27;s networks; for the purposes of session policy definition we will divided streaming video into two categories: enterprise-relevant (such as e-learning content), and non-critical or &quot;scavenger&quot; video (entertainment content such as YouTube).</p><p>Streaming video, unlike real-time video, is relatively insensitive to loss, latency, and jitter. The distinction we draw between the enterprise-class policy and the scavenger policy is in two factors:</p><ul><li>Enterprise-class video is marked as AF31 as compared to scavenger video marked as CS1</li><li>Enterprise-class video has <code>best-effort</code> forwarding enabled, whereas scavenger video will not be forwarded if no paths meeth the quality criteria</li></ul><p>Baseline configuration:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">*admin@labsystem1.fiedler (service-policy[name=video-streaming])# show</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">name                 video-streaming</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">description          &quot;Enterprise video streaming services&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service-class        MultimediaStreaming</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">session-resiliency   failover</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">path-quality-filter  true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">best-effort          true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">max-loss             5</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">max-latency          4000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">*admin@labsystem1.fiedler (service-policy[name=video-streaming-scavenger])# show</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">name                 video-streaming-scavenger</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">description          &quot;Non-organizational streaming video&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service-class        LowPriorityData</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">session-resiliency   failover</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">path-quality-filter  true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">best-effort          false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">max-loss             5</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">max-latency          4000</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="interactive-data">Interactive Data<a class="hash-link" href="#interactive-data" title="Direct link to heading">​</a></h4><p>When users (as network clients) interact with servers in a session-oriented, transactional way – typically using HTTP/HTTPS – this is referred to as <em>interactive data</em>. Users are sensitive to high latency connections when interacting with network resources; as such, this <code>service-policy</code> leverages <code>path-quality-filter</code> to choose the most suitable forwarding path.</p><p>Baseline configuration:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">*admin@labsystem1.fiedler (service-policy[name=data-interactive])# show</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">name                 data-interactive</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">description          &quot;Interactive data&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service-class        LowLatencyData</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">path-quality-filter  true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">best-effort          true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">max-latency          250</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>In present-day networks, a large percentage of network transactions leverage HTTP/HTTPS. For this reason, it is not advisable to classify all HTTP/HTTPS traffic as <code>data-interactive</code>, as this could dramatically shift the percentages of traffic assigned to your 128T&#x27;s traffic-engineering queues away from <code>best-effort</code> data. This policy straddles between <code>data-mission-critical</code> and <code>data-best-effort</code>, and should be used judiciously to improve network performance for client/server applications that fit into that spot in your network&#x27;s QoS framework.</p></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="mission-critical-data">Mission-Critical Data<a class="hash-link" href="#mission-critical-data" title="Direct link to heading">​</a></h4><p>The policy for &quot;mission-critical&quot; data differs from &quot;interactive-data&quot; only through the use of the <code>service-class</code> (AF31 vs. AF21). As such, during times of network congestion and contention, mission-critical data will be prioritized over interactive data.</p><p>Resist the temptation to assign this <code>service-policy</code> to too many services; it should be used sparingly to truly reflect the highest priority services within your enterprise network.</p><p>Baseline configuration:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">*admin@labsystem1.fiedler (service-policy[name=data-mission-critical])# show</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">name                 data-mission-critical</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">description          &quot;Mission-critical data&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service-class        MultimediaStreaming</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">path-quality-filter  true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">best-effort          true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">max-latency          250</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>This baseline configuration uses the <code>MultimediaStreaming</code> service-class, which in turn uses DSCP 26 (AF31). MultimediaStreaming is assigned to the 128T&#x27;s <code>medium</code> traffic-engineering queue.</p></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="best-effort-data">Best-Effort Data<a class="hash-link" href="#best-effort-data" title="Direct link to heading">​</a></h4><p>The majority of traffic on any network is classified as &quot;best effort&quot; data. Traditionally this will use the <code>Standard</code> service class (DSCP 0). There are no path quality requirements explicitly called out for best effort data. This is recommended the <code>service-policy</code> for &quot;default route&quot; services such as <code>0.0.0.0/0</code>.</p><p>Aside from the <code>service-class</code> assignment, the only other configuration is the <code>session-resiliency</code> value of <code>failover</code>. The value of <code>failover</code> is recommended for transient sessions; for long-lived sessions where resiliency is crucial, consider classifying that traffic discretely as its own <code>service</code> and assigning a more appropriate <code>service-policy</code>.</p><p>Baseline configuration:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">*admin@labsystem1.fiedler (service-policy[name=data-best-effort])# show</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">name                data-best-effort</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">description         &quot;Best effort data&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service-class       Standard</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">session-resiliency  failover</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="bulkscavenger-data">Bulk/Scavenger Data<a class="hash-link" href="#bulkscavenger-data" title="Direct link to heading">​</a></h4><p>Bulk/scavenger data is prioritized at the bottom of the list, and will be the last class of traffic to get network resources during periods of contention. This is typically used for things like OS updates, which can rapidly choke a network when populations of machines all attempt downloads in a synchronized fashion.</p><p>Baseline configuration:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">*admin@labsystem1.fiedler (service-policy[name=data-scavenger])# show</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">name                 data-scavenger</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">description          &quot;Scavenger class data&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service-class        LowPriorityData</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">path-quality-filter  false</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="references">References<a class="hash-link" href="#references" title="Direct link to heading">​</a></h2><p>[delay-limits]<!-- -->
Suznjevic, M. and Saldana, J., &quot;Delay Limits for Real-Time Services&quot;, <a href="https://www.ietf.org/archive/id/draft-suznjevic-tsvwg-delay-limits-00.txt" target="_blank" rel="noopener noreferrer">draft-suznjevic-tsvwg-delay-limits-00</a>, June 2016.</p><p>[voip-mechanic]<!-- -->
&quot;Measuring MOS for VoIP Test&quot;, <a href="https://www.voipmechanic.com/mos-mean-opinion-score.htm" target="_blank" rel="noopener noreferrer">MOS - Mean Opinion Score for VoIP</a>.</p><p>[RFC 4594]<!-- -->
Babiarz, J., et. al., &quot;Configuration Guidelines for DiffServ Service Classes&quot;, <a href="https://tools.ietf.org/html/rfc4594" target="_blank" rel="noopener noreferrer">RFC 4594</a>, August 2006.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="basic-service-policy-definitions">Basic Service Policy Definitions<a class="hash-link" href="#basic-service-policy-definitions" title="Direct link to heading">​</a></h2><p>The output here is provided in <code>flat</code> format, to facilitate copy/pasting into an existing 128T conductor or router. Note that it has referencial dependencies on the various system-default <code>service-class</code> configuration, so for users that have modified or removed those <code>service-class</code> elements, adjustments will be required.</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-signaling name voip-signaling</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-signaling description &quot;SIP, H.323, MEGACO, etc.&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-signaling service-class Signalling</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-signaling session-resiliency revertible-failover</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-signaling path-quality-filter true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-signaling best-effort true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-signaling max-latency 250</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy remote-desktop name remote-desktop</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy remote-desktop description &quot;Remote Desktop and VDI&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy remote-desktop service-class RealTimeInteractive</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy remote-desktop session-resiliency failover</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy remote-desktop path-quality-filter true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy remote-desktop max-latency 225</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy gaming name gaming</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy gaming description &quot;Real-time gaming applications&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy gaming service-class LowLatencyData</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy gaming session-resiliency revertible-failover</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy gaming path-quality-filter true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy gaming best-effort false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy gaming max-latency 100</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy management-interactive name management-interactive</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy management-interactive description &quot;SSH, Telnet, mosh, etc.&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy management-interactive service-class OAM</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy management-interactive session-resiliency failover</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy management-interactive path-quality-filter true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy management-interactive best-effort true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy management-interactive max-latency 200</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy management-m2m name management-m2m</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy management-m2m description &quot;SNMP, NTP, Syslog, etc.&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy management-m2m service-class OAM</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy management-m2m session-resiliency revertible-failover</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy management-m2m path-quality-filter true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy management-m2m best-effort true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy management-m2m max-latency 1000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-audio name voip-audio</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-audio description &quot;RTP/bearer audio&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-audio service-class Telephony</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-audio session-resiliency failover</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-audio path-quality-filter true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-audio best-effort true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-audio max-loss 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-audio max-latency 150</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-audio max-jitter 30</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-video name voip-video</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-video description &quot;Interactive video&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-video service-class RealTimeInteractive</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-video session-resiliency failover</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-video path-quality-filter true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-video best-effort true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-video max-loss 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-video max-latency 150</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy voip-video max-jitter 30</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy video-streaming name video-streaming</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy video-streaming description &quot;Enterprise video streaming services&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy video-streaming service-class MultimediaStreaming</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy video-streaming session-resiliency failover</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy video-streaming path-quality-filter true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy video-streaming best-effort true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy video-streaming max-loss 5</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy video-streaming max-latency 4000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy video-streaming-scavenger name video-streaming-scavenger</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy video-streaming-scavenger description &quot;Non-organizational streaming video&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy video-streaming-scavenger service-class LowPriorityData</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy video-streaming-scavenger session-resiliency failover</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy video-streaming-scavenger path-quality-filter true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy video-streaming-scavenger best-effort false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy video-streaming-scavenger max-loss 5</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy video-streaming-scavenger max-latency 4000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy data-best-effort name data-best-effort</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy data-best-effort description &quot;Best effort data&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy data-best-effort service-class Standard</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy data-best-effort session-resiliency failover</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy data-interactive name data-interactive</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy data-interactive description &quot;Interactive data&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy data-interactive service-class LowLatencyData</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy data-interactive path-quality-filter true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy data-interactive best-effort true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy data-interactive max-latency 250</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy data-mission-critical name data-mission-critical</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy data-mission-critical description &quot;Mission-critical data&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy data-mission-critical service-class MultimediaStreaming</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy data-mission-critical path-quality-filter true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy data-mission-critical best-effort true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy data-mission-critical max-latency 250</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy data-scavenger name data-scavenger</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy data-scavenger description &quot;Scavenger class data&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy data-scavenger service-class LowPriorityData</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config authority service-policy data-scavenger path-quality-filter false</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_mt2f"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-09-09T19:35:52.000Z">9/9/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/bcp_service_and_service_policy_design"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Service and Service Policy Design</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/bcp_tenants"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tenancy Design</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#traffic-categories" class="table-of-contents__link toc-highlight">Traffic Categories</a><ul><li><a href="#real-time-traffic" class="table-of-contents__link toc-highlight">Real-Time Traffic</a></li><li><a href="#non-real-time-traffic" class="table-of-contents__link toc-highlight">Non Real-Time Traffic</a></li></ul></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li><li><a href="#basic-service-policy-definitions" class="table-of-contents__link toc-highlight">Basic Service Policy Definitions</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Juniper Networks, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.3efc2bae.js"></script>
<script src="/assets/js/main.5cd46198.js"></script>
</body>
</html>