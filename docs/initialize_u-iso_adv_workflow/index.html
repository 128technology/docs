<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-initialize_u-iso_adv_workflow" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Initialize Your Device - Advanced Workflows | SSN Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.128technology.com/docs/initialize_u-iso_adv_workflow"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Initialize Your Device - Advanced Workflows | SSN Docs"><meta data-rh="true" name="description" content="While the Web Interface is the recommended method of initializing and onboarding your SSR device, there are alternative methods that can be used to complete the process. These methods are typically used when further customization of the conductor and router is required, and performed by advanced users."><meta data-rh="true" property="og:description" content="While the Web Interface is the recommended method of initializing and onboarding your SSR device, there are alternative methods that can be used to complete the process. These methods are typically used when further customization of the conductor and router is required, and performed by advanced users."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.128technology.com/docs/initialize_u-iso_adv_workflow"><link data-rh="true" rel="alternate" href="https://docs.128technology.com/docs/initialize_u-iso_adv_workflow" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.128technology.com/docs/initialize_u-iso_adv_workflow" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/kb/rss.xml" title="SSR Knowledge Base Articles RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/kb/atom.xml" title="SSR Knowledge Base Articles Atom Feed">
<link rel="alternate" type="application/json" href="/kb/feed.json" title="SSR Knowledge Base Articles JSON Feed"><link rel="stylesheet" href="/assets/css/styles.df1c9d6e.css">
<script src="/assets/js/runtime~main.b6daa0d2.js" defer="defer"></script>
<script src="/assets/js/main.065ea9f0.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Juniper Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo_dark.png" alt="Juniper Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro_getting_started">Docs</a><a class="navbar__item navbar__link" href="/kb">Knowledge Base</a><a href="https://community.juniper.net/answers/communities/community-home?CommunityKey=310d1a41-12fa-4627-9a99-880145a7c87c" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.juniper.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Company<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_getting_started">About</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/release_notes_128t_6.3">Release Notes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/supported-devices-overview">Supported Hardware Platforms</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/concepts-overview">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/intro_installation">Installing Software Version 6.3.0 and Later</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/intro_installation">Installation Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/intro_installation_univ-iso">SSR Image-based ISO Installation Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install_univ_iso">SSR Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/initialize_u-iso_device">Initialize Your Device - Web Workflow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/initialize_u-iso_adv_workflow">Initialize Your Device - Advanced Workflows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/intro_installation_image">Image-Based Installation</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/supported_cloud_platforms">Cloud / Hypervisor Installations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_installation_legacy">Installing Software Versions Earlier than 6.3.0</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_upgrade_considerations">Upgrading the SSR</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/bcp_sdwan_design_guide">Best Practices</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/config_basics">Administration Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/security-overview">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/config_ha">High Availability</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/cli_reference">CLI and Element Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/wan_overview">WAN Assurance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/plugin_intro">Plugins</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ts_applications">Troubleshooting</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Installing Software Version 6.3.0 and Later</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Initialize Your Device - Advanced Workflows</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Initialize Your Device - Advanced Workflows</h1></header><p>While the Web Interface is the recommended method of initializing and onboarding your SSR device, there are alternative methods that can be used to complete the process. These methods are typically used when further customization of the conductor and router is required, and performed by advanced users.</p>
<p>In this document, you will find:</p>
<ul>
<li>Information about the PCLI commands used to initialize a conductor and conductor-managed router.</li>
<li>Information about the PCLI commands used to initialize a Mist-managed router.</li>
<li><a href="#automated-onboarding">File structure needed for performing automated onboarding</a> of conductors and routers.</li>
<li>Workflows for automating onboarding by supplying the necessary files using three different processes:<!-- -->
<ul>
<li>USB Initialization</li>
<li>File on Disk</li>
<li>API Initialization</li>
</ul>
</li>
</ul>
<p>Select the initialization workflow that suits the needs of your deployment.</p>
<ul>
<li><a href="#pcli-workflow">PCLI Workflow</a></li>
<li><a href="#usb-initialization">USB Initialization</a></li>
<li><a href="#file-on-disk">File on Disk</a></li>
<li><a href="#api-initialization">API Initialization</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="connection-setup">Connection Setup<a href="#connection-setup" class="hash-link" aria-label="Direct link to Connection Setup" title="Direct link to Connection Setup">​</a></h2>
<p>For non console access you can connect your laptop or other device to any of the designated LAN port and SSH to 192.168.128.1 to login via SSR PCLI and/or shell.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The laptop or other client device must be assigned a static IP address within the range of <code>192.168.128.2</code> to <code>192.168.128.254</code> along with a subnet mask of <code>/24</code> or <code>255.255.255.0</code></p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pcli-workflow">PCLI Workflow<a href="#pcli-workflow" class="hash-link" aria-label="Direct link to PCLI Workflow" title="Direct link to PCLI Workflow">​</a></h2>
<p>Use the following workflows to initialize and onboard your device. For a conductor-managed deployment use</p>
<ul>
<li><a href="#initialize-a-conductor">Initialize a Conductor</a></li>
<li><a href="#initialize-a-conductor-managed-router">Initialize a Router</a></li>
</ul>
<p>To onboard a Mist-managed router to your Mist Org, use</p>
<ul>
<li><a href="#initialize-a-mist-managed-router">Initialize a Mist-managed Router</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="initialize-a-conductor">Initialize a Conductor<a href="#initialize-a-conductor" class="hash-link" aria-label="Direct link to Initialize a Conductor" title="Direct link to Initialize a Conductor">​</a></h3>
<p>The <code>initialize conductor</code> command allows the user to overwrite the defaults provided in the Web workflow and allows for further customization of conductors.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">initialize conductor [artifactory-user &lt;artifactory-user&gt;] [artifactory-password &lt;artifactory-password&gt;] [dns-servers &lt;dns-servers&gt;] [node-ip &lt;node-ip&gt;] [node-gateway &lt;node-gateway&gt;] [interface-name &lt;interface-name&gt;] [clustered] [ha-ip &lt;ha-ip&gt;] [ha-interface-name &lt;ha-interface-name&gt;] [ha-peer-ip &lt;ha-peer-ip&gt;] [ha-peer-name &lt;ha-peer-name&gt;] [learn-from-ha-peer] [ha-peer-username &lt;ha-peer-username&gt;] [unsafe-ha-peer-password &lt;unsafe-ha-peer-password&gt;] router-name &lt;router-name&gt; node-name &lt;node-name&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Allowed Options:</p>
<table><thead><tr><th>name</th><th>description</th></tr></thead><tbody><tr><td><code>artifactory-password</code></td><td>Password portion of the artifactory credentials.</td></tr><tr><td><code>artifactory-user</code></td><td>User portion of the artifactory credentials.</td></tr><tr><td><code>dns-servers</code></td><td>Comma separated list of DNS servers.</td></tr><tr><td><code>interface-name</code></td><td>Interface name (matching a port in the device-map) to bind the node-ip and node-gateway.</td></tr><tr><td><code>learn-from-ha-peer</code></td><td>If true, the Initializer will use the HA peer to obtain setup information.</td></tr><tr><td><code>node-gateway</code></td><td>The IP address of the gateway of the node being provisioned.</td></tr><tr><td><code>node-ip</code></td><td>(Required) The IPv4 address of the node being provisioned (x.x.x.x/y)</td></tr><tr><td><code>node-name</code></td><td>(Required) The name of the node being provisioned. For standalone, this is <code>node0</code>.</td></tr><tr><td><code>router-name</code></td><td>(Required) Assign a name to the router/conductor.</td></tr><tr><td><code>clustered</code></td><td>(Required for HA) Whether or not this conductor is to be configured as an HA pair; set to <code>true</code> .</td></tr><tr><td><code>ha-interface-name</code></td><td>Interface name (matching a port in the device-map) to bind the ha-ip.</td></tr><tr><td><code>ha-ip</code></td><td>The IPv4 address to assign to the HA interface on this node.</td></tr><tr><td><code>ha-peer-ip</code></td><td>The IPv4 address of the node to be used as an HA peer.</td></tr><tr><td><code>ha-peer-name</code></td><td>The name of the Node to be used as an HA peer.</td></tr><tr><td><code>ha-peer-username</code></td><td>The user on the peer node to authenticate as. This user must have sudo privileges. Required if <code>learn-from-ha-peer</code> is true.</td></tr><tr><td><code>unsafe-ha-peer-password</code></td><td>The password for the user on the peer node to authenticate as. WARNING: If this field is used, the preferences file should not be world-readable to avoid leaking the peer node password. Required if <code>learn-from-ha-peer</code> is true.</td></tr></tbody></table>
<p>When configuring High Availability, if any one of the following options is configured, then they all must be:</p>
<ul>
<li>ha-ip</li>
<li>ha-interface-name</li>
<li>ha-peer-ip</li>
<li>ha-peer-name</li>
<li>learn-from-ha-peer</li>
<li>ha-peer-username</li>
<li>unsafe-ha-peer-password</li>
</ul>
<p>For more information on the available options and parameters, refer to the <a href="/docs/cli_reference#initialize-conductor"><code>initialize conductor</code></a> command.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="initialize-a-conductor-managed-router">Initialize a Conductor-Managed Router<a href="#initialize-a-conductor-managed-router" class="hash-link" aria-label="Direct link to Initialize a Conductor-Managed Router" title="Direct link to Initialize a Conductor-Managed Router">​</a></h3>
<p>The following PCLI command can be used to onboard a router to a conductor as conductor managed.</p>
<p><code>initialize conductor-managed router-name &lt;rtr-name&gt; conductor-ip &lt;ip-address&gt;</code></p>
<p>For additional information, refer to the <a href="/docs/cli_reference#initialize-conductor-managed"><code>initialize conductor-managed</code></a> command.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="initialize-a-mist-managed-router">Initialize a Mist-Managed Router<a href="#initialize-a-mist-managed-router" class="hash-link" aria-label="Direct link to Initialize a Mist-Managed Router" title="Direct link to Initialize a Mist-Managed Router">​</a></h3>
<p>The following PCLI command will onboard a router to the Mist inventory.</p>
<p><code>adopt router-name &lt;router-name&gt; registration-code &lt;reg-code&gt;</code></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="automated-onboarding">Automated Onboarding<a href="#automated-onboarding" class="hash-link" aria-label="Direct link to Automated Onboarding" title="Direct link to Automated Onboarding">​</a></h2>
<p>Automated onboarding can be used whenever the user wants to automatically set up a device during first boot, and does not require manual input. All the onboarding configurations must be known prior to starting the process. These methods should also be used If the user wants to provide a customized interface mapping scheme for whitebox platforms.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="onboarding-configuration-file">Onboarding Configuration File<a href="#onboarding-configuration-file" class="hash-link" aria-label="Direct link to Onboarding Configuration File" title="Direct link to Onboarding Configuration File">​</a></h3>
<p>The brains behind the automated onboarding process is a json file named <code>onboarding-config.json</code>. This file contains all the configuration parameters and drives the entire onboarding process. The <code>onboarding-config.json</code> can be <a href="#usb-initialization">provided from a USB</a>, as a <a href="#file-on-disk">file placed in <code>/etc/128T-hardware-bootstrapper/onboarding-config.json</code> on the SSR disk</a>, or applied via <a href="#api-initialization">API initialization</a>. For virtual and cloud based deployments, the same mechanism is supported via cloud-init as well.</p>
<p>The following are examples of the <code>onboarding-config.json</code> files.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="conductor-onboarding-configuration-example-file">Conductor Onboarding Configuration Example File<a href="#conductor-onboarding-configuration-example-file" class="hash-link" aria-label="Direct link to Conductor Onboarding Configuration Example File" title="Direct link to Conductor Onboarding Configuration Example File">​</a></h4>
<p>The following JSON is an example of a valid conductor <code>onboarding-config.json</code> that can be used to onboard a conductor using any of the following methods:</p>
<ul>
<li><a href="#usb-initialization">USB Initialization</a></li>
<li><a href="#file-on-disk">File on Disk</a></li>
<li><a href="#api-initialization">API Initialization</a></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;name&quot;: &quot;MyConductor&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;mode&quot;: &quot;conductor&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;artifactory-user&quot;: &quot;username&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;artifactory-password&quot;: &quot;password&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;node-name&quot;: &quot;node0&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;node-ip&quot;: &quot;10.73.1.10/24&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;node-gateway&quot;: &quot;10.73.1.11&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">	&quot;interface-name&quot;: &quot;ge-0-0&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">	&quot;dns-servers&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">		&quot;8.8.8.8&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">		&quot;1.1.1.1&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">	]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="conductor-managed-router-onboarding-configuration-example-file">Conductor-Managed Router Onboarding Configuration Example File<a href="#conductor-managed-router-onboarding-configuration-example-file" class="hash-link" aria-label="Direct link to Conductor-Managed Router Onboarding Configuration Example File" title="Direct link to Conductor-Managed Router Onboarding Configuration Example File">​</a></h4>
<p>The following is an example onboarding config that can be used to onboard a conductor-managed router using <a href="#api-initialization">API Initialization</a> or a <a href="#file-on-disk">file placed on disk</a>.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">“mode”: “conductor-managed”,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">“conductor-hosts”: [“1.2.3.4”]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If no router name is supplied in the onboarding config, the default name is chosen in this order:</p>
<ol>
<li>Serial Number (via DMI table)</li>
<li>Hostname</li>
<li>UUID (via DMI table)</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="mist-managed-router-onboarding-configuration-example-file">Mist-Managed Router Onboarding Configuration Example File<a href="#mist-managed-router-onboarding-configuration-example-file" class="hash-link" aria-label="Direct link to Mist-Managed Router Onboarding Configuration Example File" title="Direct link to Mist-Managed Router Onboarding Configuration Example File">​</a></h4>
<p>The following is an example onboarding config that can be used to onboard a Mist-managed router using <a href="#api-initialization">API Initialization</a> or a <a href="#file-on-disk">file placed on disk</a>.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">“mode”: “mist-managed”,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">“name”: “mist-router”,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">“registration-code”: &quot;&lt;mist-reg-code&gt;”</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If no router name is supplied in the onboarding config, the default name is chosen in this order:</p>
<ol>
<li>Serial Number (via DMI table)</li>
<li>Hostname</li>
<li>UUID (via DMI table)</li>
</ol>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>If no onboarding configuration file is provided, it is assumed that the device is an unmanaged router, and an onboarding configuration will be provided later.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usb-initialization">USB Initialization<a href="#usb-initialization" class="hash-link" aria-label="Direct link to USB Initialization" title="Direct link to USB Initialization">​</a></h3>
<p>When the device boots for the first time it looks for a connected USB device named <strong>BOOTSTRAP</strong>.</p>
<ol>
<li>
<p>Create a USB device named <strong>BOOTSTRAP</strong>.</p>
</li>
<li>
<p>On the USB, create the following files in the root directory:</p>
<ul>
<li><code>onboarding-config.json</code></li>
<li><code>devicemap.json</code></li>
<li><code>pre-bootstrap</code></li>
<li><code>post-bootstrap</code></li>
</ul>
</li>
<li>
<p>Insert the USB into the SSR device and power it on.</p>
</li>
<li>
<p>The device will boot and automatically configure based on the provided files.</p>
</li>
</ol>
<p>Scriptlets are passed in the device identifier, which is typically the device serial number. The order of operations is:</p>
<ol>
<li>Pre-bootstrap</li>
<li>Normal bootstrapping operation</li>
<li>Post-bootstrap</li>
<li>Onboarding</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="file-on-disk">File on Disk<a href="#file-on-disk" class="hash-link" aria-label="Direct link to File on Disk" title="Direct link to File on Disk">​</a></h3>
<p>If no onboarding config was found on a USB device, the initialization process looks for a configuration file placed on the device; this is a common workflow for virtual devices. You can also provide a customized devicemap in the onboarding config at this time.</p>
<ol>
<li>
<p>Create the following files:</p>
<ul>
<li><code>onboarding-config.json</code></li>
<li><code>devicemap.json</code></li>
<li><code>pre-bootstrap</code></li>
<li><code>post-bootstrap</code></li>
</ul>
</li>
<li>
<p>Copy the files onto the SSR device into the following locations:</p>
<ul>
<li><code>/etc/128T-hardware-bootstrapper/onboarding-config.json</code></li>
<li><code>/etc/128T-hardware-bootstrapper/devicemap.json</code></li>
<li><code>/etc/128T-hardware-bootstrapper/pre-bootstrap</code></li>
<li><code>/etc/128T-hardware-bootstrapper/post-bootstrap</code></li>
</ul>
</li>
<li>
<p>Reboot the device.</p>
</li>
</ol>
<p>If you wish to not onboard the device and only supply a devicemap, the device is onboarded as an unmanaged router.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-initialization">API Initialization<a href="#api-initialization" class="hash-link" aria-label="Direct link to API Initialization" title="Direct link to API Initialization">​</a></h3>
<p>If an <code>onboarding-config.json</code> was not provided during the initial bootstrapping of the device, the you can choose to initialize the device by supplying an onboarding config path directly from the API. The POST endpoint is <code>/api/bootstrap/onboarding</code> with a json body containing the contents of the onboarding-config file. To apply an onboarding configuration, place the contents of the desired onboarding config file in <code>onboarding-cfg.json</code> and run the following command. Alternatively, you can include the JSON contents directly in the curl request.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -X POST -H &quot;Content-Type: application/json&quot; -d @onboard-cfg.json http://localhost:31517/api/bootstrap/onboarding</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/initialize_u-iso_device"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Initialize Your Device - Web Workflow</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/intro_installation_image"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Image-Based Installation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#connection-setup" class="table-of-contents__link toc-highlight">Connection Setup</a></li><li><a href="#pcli-workflow" class="table-of-contents__link toc-highlight">PCLI Workflow</a><ul><li><a href="#initialize-a-conductor" class="table-of-contents__link toc-highlight">Initialize a Conductor</a></li><li><a href="#initialize-a-conductor-managed-router" class="table-of-contents__link toc-highlight">Initialize a Conductor-Managed Router</a></li><li><a href="#initialize-a-mist-managed-router" class="table-of-contents__link toc-highlight">Initialize a Mist-Managed Router</a></li></ul></li><li><a href="#automated-onboarding" class="table-of-contents__link toc-highlight">Automated Onboarding</a><ul><li><a href="#onboarding-configuration-file" class="table-of-contents__link toc-highlight">Onboarding Configuration File</a></li><li><a href="#usb-initialization" class="table-of-contents__link toc-highlight">USB Initialization</a></li><li><a href="#file-on-disk" class="table-of-contents__link toc-highlight">File on Disk</a></li><li><a href="#api-initialization" class="table-of-contents__link toc-highlight">API Initialization</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Juniper Networks, Inc.</div></div></div></footer></div>
</body>
</html>