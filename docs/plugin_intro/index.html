<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-plugin_intro">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Introduction to Plugins | SSN Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.128technology.com/docs/plugin_intro"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Introduction to Plugins | SSN Docs"><meta data-rh="true" name="description" content="SSR plugins are software components that enhance the functionality and user experience of the Session Smart Routing (SSR) platform by leveraging the extensible nature of the conductor and router. Plugins can provide a robust delivery mechanism for a variety of use cases. The behavior of each plugin is specific to the use case but follow a general pattern"><meta data-rh="true" property="og:description" content="SSR plugins are software components that enhance the functionality and user experience of the Session Smart Routing (SSR) platform by leveraging the extensible nature of the conductor and router. Plugins can provide a robust delivery mechanism for a variety of use cases. The behavior of each plugin is specific to the use case but follow a general pattern"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.128technology.com/docs/plugin_intro"><link data-rh="true" rel="alternate" href="https://docs.128technology.com/docs/plugin_intro" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.128technology.com/docs/plugin_intro" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.8e1fdc51.css">
<link rel="preload" href="/assets/js/runtime~main.7ffa8313.js" as="script">
<link rel="preload" href="/assets/js/main.8efb112e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Juniper Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo_dark.png" alt="Juniper Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Session Smart</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro_getting_started">Docs</a><a href="https://community.juniper.net/answers/communities/community-home?CommunityKey=310d1a41-12fa-4627-9a99-880145a7c87c" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Session Smart Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.juniper.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Company<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/about_128t">About</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_getting_started">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_system_reqs">Deployment Considerations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_installation">Installation Process</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/install_conductor_overview">Conductor Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_installation_image">Image-Based Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/supported_cloud_platforms">Cloud Installations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_upgrade_considerations">Upgrades and Rollback</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_installation_installer">Supporting Install Information - Appendix</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/concepts_application_discovery">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/wan_overview">WAN Assurance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/config_basics">Administration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/events_overview">Events</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/bcp_att_avpn_configuration">Best Practices</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/cli_reference">CLI and Element Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/installer_cli_reference">Installer/Initializer Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/plugin_intro">Plugins</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/plugin_intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_aws_tgw_connect">AWS Transit Gateway Connect</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_bgp_community_services">BGP Community Services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_cloud_ha">Cloud HA</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_dns_app_id">DNS App Id</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_dns_cache">DNS Cache</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_gre">GRE</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_ha_sync_redundancy">HA Sync Redundancy Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_http_probe">HTTP Probe Reachability Detection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_icmp_reachability_detection">ICMP Reachability Detection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_ipsec_client">IPsec Client</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_loopback_static_routes">Loopback Static Routes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_m800_watchdog">M800 Watchdog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_monitoring_agent">Monitoring Agent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_mosh">Mosh</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_set_hostname">Set Hostname</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_sip_alg">SIP ALG</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_wireguard">Wireguard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_kni_namespace_scripts">KNI Namespace Scripts</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/release_notes_128t_6.1">Release Notes</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Plugins</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Introduction</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Introduction to Plugins</h1></header><p>SSR plugins are software components that enhance the functionality and user experience of the Session Smart Routing (SSR) platform by leveraging the extensible nature of the conductor and router. Plugins can provide a robust delivery mechanism for a variety of use cases. The behavior of each plugin is specific to the use case but follow a general pattern</p><ul><li>Add plugin specific configuration to the conductor GUI and PCLI</li><li>Manage and install software on the router</li><li>Leverage extensible functions on the router</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="plugin-workflow">Plugin Workflow<a href="#plugin-workflow" class="hash-link" aria-label="Direct link to Plugin Workflow" title="Direct link to Plugin Workflow">​</a></h2><p>Plugins enable a variety of use cases to be implemented to enhance the SSR experience. These plugins can range from something as simple as managing system settings on the router like the <code>128T-journal</code> plugin for managing systemd journal size to something more advanced such as <a href="/docs/plugin_ipsec_client"><code>128T-ipsec-client</code></a> which allows for the creation and management of IPSec client tunnels on the SSR. Regardless of the usage and the complexity of the plugin they follow a general workflow.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="installation-and-management">Installation and management<a href="#installation-and-management" class="hash-link" aria-label="Direct link to Installation and management" title="Direct link to Installation and management">​</a></h3><p>The conductor GUI provides a dashboard to view and manage all available plugins.</p><p><img loading="lazy" alt="SSR Plugin Dasboard" src="/assets/images/plugins_dashboard-47ad414c3d74c8b89ee2af418e173193.png" width="3584" height="1408" class="img_ev3q"></p><p>The dashboard above shows the available and installed plugins. The <a href="/docs/plugin_dns_cache"><code>128T-dns-cache</code></a> plugin in the dashboard above is available and ready to be installed on the conductor. The <a href="/docs/plugin_gre"><code>128T-gre</code></a> plugin shows a green icon meaning it has been installed and ready to be configured. The <a href="/docs/plugin_ipsec_client"><code>128T-ipsec-client</code></a> plugin has an orange icon indicating that a new version of the plugin is available for installation, though the currently installed version is still actively being used by the conductor.</p><div class="theme-admonition theme-admonition-important alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Upon installation, removal or upgrade of a plugin, the Conductor must be restarted for the changes to take effect.</p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="installing-a-new-plugin">Installing a new plugin<a href="#installing-a-new-plugin" class="hash-link" aria-label="Direct link to Installing a new plugin" title="Direct link to Installing a new plugin">​</a></h4><p>The available plugin can be downloaded and installed by clicking on the <code>Install</code> button on the bottom right and it provides feedback on the installation status and other instructions.</p><p><img loading="lazy" alt="SSR Plugin Installation" src="/assets/images/plugin_install-579f3f8a30e5a4092acbb134c5fba9c2.gif" width="1556" height="632" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="upgrading-an-existing-plugin">Upgrading an existing plugin<a href="#upgrading-an-existing-plugin" class="hash-link" aria-label="Direct link to Upgrading an existing plugin" title="Direct link to Upgrading an existing plugin">​</a></h4><p>When plugin upgrades are available, the <code>Upgrade</code> button on the bottom can be used to install the latest version of the plugin.</p><p><img loading="lazy" alt="SSR Plugin Upgrade" src="/assets/images/plugin_upgrade-7381124d628e782cbcef07261b8d62a3.gif" width="1556" height="632" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="removing-installed-plugin">Removing installed plugin<a href="#removing-installed-plugin" class="hash-link" aria-label="Direct link to Removing installed plugin" title="Direct link to Removing installed plugin">​</a></h4><p>Installed plugin can be removed from the UI by using the <code>Uninstall</code> button on the bottom right.</p><p><img loading="lazy" alt="SSR Plugin Uninstall" src="/assets/images/plugin_uninstall-1ab42e88e0cc6a43d3792ff7ebb583dd.gif" width="1556" height="632" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="running-plugin-commands">Running Plugin Commands<a href="#running-plugin-commands" class="hash-link" aria-label="Direct link to Running Plugin Commands" title="Direct link to Running Plugin Commands">​</a></h4><p>Commands that are bundled with installed plugins may be run from the GUI using the Plugin Commands interface. Selecting Plugins from the Administration menu opens a list of the installed plugins. Select the DETAILS button for an installed plugin to view the State and Commands Tabs. Use the Commands tab to execute commands available for the individual plugins. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="enabling-plugin-specific-configuration">Enabling plugin-specific configuration<a href="#enabling-plugin-specific-configuration" class="hash-link" aria-label="Direct link to Enabling plugin-specific configuration" title="Direct link to Enabling plugin-specific configuration">​</a></h3><p>The conductor provides extensibility APIs through which plugins can add plugin-specific configuration to the conductor. This mechanism is especially useful for collecting various user inputs to drive the plugin behavior. For example, the <a href="/docs/plugin_gre"><code>128T-gre</code></a> uses the configuration to obtain tunnel configuration for the router.</p><p><img loading="lazy" alt="SSR GRE configuration" src="/assets/images/plugin_gre_config-a2dc8adf736349cce65e2d6ef5ed5493.gif" width="1602" height="722" class="img_ev3q"></p><p>Such advanced plugins take advantage of other conductor APIs to inject derived configuration such as <a href="#kni-network-scripts">knis</a>, service and service-route into the configuration. This enables the plugins to better manage their feature and functionality on the router.  Such plugins are used to chain together various <a href="#service-function-chaining">service functions</a> on the router to allow additional software to be easily deployed and managed.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="installing-and-managing-software-on-the-router">Installing and managing software on the router<a href="#installing-and-managing-software-on-the-router" class="hash-link" aria-label="Direct link to Installing and managing software on the router" title="Direct link to Installing and managing software on the router">​</a></h3><p>In the SSR platform architecture, <code>salt</code> is used as communication mechanism between router and conductor for managing the SSR software on the router. In the similar fashion, the plugins can also install additional software and manage state on the router via <code>salt</code> by leveraging pillar generation APIs provided by the conductor. Most plugins will typically leverage salt to perform one or all of the following functions:</p><ul><li>Install an rpm along with its dependencies on the router</li><li>Configure additional software on the router</li><li>Trigger additional services or functions on the router such as systemd services etc.</li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Plugins rely on connectivity between the conductor and router to drive their logic. They also rely on the router to have access to the SSR RPM repository as either direct access over internet or by leveraging <a href="/docs/intro_upgrading#routers-with-restricted-internet-access">conductor hosted repo</a>.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="plugin-concepts">Plugin Concepts<a href="#plugin-concepts" class="hash-link" aria-label="Direct link to Plugin Concepts" title="Direct link to Plugin Concepts">​</a></h2><p>Some of the more advanced plugins such as <a href="/docs/plugin_ipsec_client"><code>128T-ipsec-client</code></a> and <a href="/docs/plugin_gre"><code>128T-gre</code></a> rely on various extensibility features available on the router to perform their functions. Some of the commonly used concepts are as follows.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kni-network-scripts">KNI network scripts<a href="#kni-network-scripts" class="hash-link" aria-label="Direct link to KNI network scripts" title="Direct link to KNI network scripts">​</a></h3><p><a href="https://doc.dpdk.org/guides/prog_guide/kernel_nic_interface.html" target="_blank" rel="noopener noreferrer">The Kernel Network Interface (KNI)</a> is a special interface which allows for communication between the SSR and the underlying operating system. Most common instance of KNI is the presence of a loopback interface called <code>kni254</code> on the system which is typically used to enable in-band management sessions on an SSR. KNIs also provide an extensive set of <a href="/docs/plugin_kni_namespace_scripts">scripting functionality</a> which can be used to drive additional applications on the system such as DNS masquerade, ipsec-client using libreswan, GRE stack in linux OS etc. A more detailed guide on KNI interface scripting can be found <a href="/docs/concepts_kni">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="service-function-chaining">Service Function Chaining<a href="#service-function-chaining" class="hash-link" aria-label="Direct link to Service Function Chaining" title="Direct link to Service Function Chaining">​</a></h3><p>One of the most common use case for plugins is the notion of service function chaining whereby <code>ingress</code> traffic (typically from a lan interface) is routed through the linux OS to be passed through a <code>service function</code> which can be used to inspect, encapsulate, transform or provide additional functionality on the incoming traffic. Once the service function in linux is applied it will result in a new set of sessions being created towards the <code>egress</code> interfaces (typically towards a wan interface). Such a SFC function relies on the safe and reliable Session Smart Routing in both directions.</p><p><img loading="lazy" alt="SSR plugin sfc" src="/assets/images/plugin_sfc-036e45af50c416ee14307707cfca9502.png" width="960" height="720" class="img_ev3q"></p><p>In a SFC implementation, typically the traffic is received from the <code>ingress</code> interface and is processed by an <code>ingress-service</code>. The service would then direct the traffic towards an <code>ingress</code> KNI. Depending on the type of the plugin, there may be additional applications running in a network namespace. For example, the <a href="/docs/plugin_gre"><code>128T-gre</code></a> plugin creates native GRE tunnels supported by Linux OS in an network namespace. This is referred to as a <code>service function</code> as seen in the graphic above. Once the function performs its intended role, the traffic is then forwarded through the <code>egress kni</code> back into the SSR for further processing. Once the egress traffic is received (back) into an SSR, it allows the user to apply all possible routing concepts such as local breakout, secure-vector routing etc to the <code>egress</code> traffic. In case of the GRE plugin, for example, the tunnel IP traffic is typically forwarded to the peer endpoint via local breakout.</p><div class="theme-admonition theme-admonition-important alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Consider appropriate tenancy for each side of the traffic (ingress vs egress) to not only provide appropriate security but also to avoid issues with the sessions from two sides colliding with each other.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="application-identification">Application Identification<a href="#application-identification" class="hash-link" aria-label="Direct link to Application Identification" title="Direct link to Application Identification">​</a></h3><p>SSRs have powerful application-based routing capabilities using <a href="/docs/concepts_appid#appid-using-modules">modules</a> which can provide a name to ip-prefix mapping. As the documentation suggests, the module based approach requires programming expertise and as a result lends itself very well as a plugin. Several plugins utilize the app-id feature in the product to provide a meaningful user experience. The <a href="/docs/plugin_dns_app_id"><code>128T-dns-app-id</code></a> plugin, for example, combines both the SFC concept as described <a href="#service-function-chaining">above</a> in order to learn and cache DNS records routed through the SSR platform as well as leveraging the learned information to provide named routing for applications such as GSuite, Gmail etc by leveraging application-id.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="plugin-management">Plugin Management<a href="#plugin-management" class="hash-link" aria-label="Direct link to Plugin Management" title="Direct link to Plugin Management">​</a></h3><p>The following PCLI commands are helpful for managing a suite of plugins on an SSR. The commands are available for conductors running SSR versions <code>4.5.0</code> and greater.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="show-available-plugins">Show Available Plugins<a href="#show-available-plugins" class="hash-link" aria-label="Direct link to Show Available Plugins" title="Direct link to Show Available Plugins">​</a></h4><p>Show available plugins by category using <code>show plugins available [node &lt;node&gt;] category &lt;category&gt;</code>. The supported categories are Application Classification, Cloud, Connectivity, Monitoring, Security, Unified Communications, Utility and Other. Show an overview of a plugin along with available versions using <code>show plugins available [node &lt;node&gt;] name &lt;plugin-name&gt;</code></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="show-installed-plugins">Show Installed Plugins<a href="#show-installed-plugins" class="hash-link" aria-label="Direct link to Show Installed Plugins" title="Direct link to Show Installed Plugins">​</a></h4><p>Show installed plugins using <code>show plugins installed [node &lt;node&gt;]</code></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="show-plugin-state">Show Plugin State<a href="#show-plugin-state" class="hash-link" aria-label="Direct link to Show Plugin State" title="Direct link to Show Plugin State">​</a></h4><p>Show the current <code>detail</code> or <code>summary</code> state of a plugin using <code>show plugins state [router &lt;router&gt;] [node &lt;node&gt;] [{detail | summmary}] name &lt;plugin-name&gt;</code>. Plugin state is supported in deployments with conductors and routers running SSR versions <code>5.1.0</code> and greater. Some plugins do not support state data and will not give meaningful output from this command.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="install-or-remove-a-plugin">Install or Remove a Plugin<a href="#install-or-remove-a-plugin" class="hash-link" aria-label="Direct link to Install or Remove a Plugin" title="Direct link to Install or Remove a Plugin">​</a></h4><p>Install/remove a plugin using <code>manage plugin {install | remove} [node &lt;node&gt;] name &lt;plugin-name&gt;</code></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-05-04T18:30:30.000Z">May 4, 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/initializer_preferences"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Initializer Preferences File Reference</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/plugin_aws_tgw_connect"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">AWS Transit Gateway Connect</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#plugin-workflow" class="table-of-contents__link toc-highlight">Plugin Workflow</a><ul><li><a href="#installation-and-management" class="table-of-contents__link toc-highlight">Installation and management</a></li><li><a href="#enabling-plugin-specific-configuration" class="table-of-contents__link toc-highlight">Enabling plugin-specific configuration</a></li><li><a href="#installing-and-managing-software-on-the-router" class="table-of-contents__link toc-highlight">Installing and managing software on the router</a></li></ul></li><li><a href="#plugin-concepts" class="table-of-contents__link toc-highlight">Plugin Concepts</a><ul><li><a href="#kni-network-scripts" class="table-of-contents__link toc-highlight">KNI network scripts</a></li><li><a href="#service-function-chaining" class="table-of-contents__link toc-highlight">Service Function Chaining</a></li><li><a href="#application-identification" class="table-of-contents__link toc-highlight">Application Identification</a></li><li><a href="#plugin-management" class="table-of-contents__link toc-highlight">Plugin Management</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Juniper Networks, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.7ffa8313.js"></script>
<script src="/assets/js/main.8efb112e.js"></script>
</body>
</html>