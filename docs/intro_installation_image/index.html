<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<title data-react-helmet="true">Image-Based Installation | SSN Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.128technology.com/docs/intro_installation_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Image-Based Installation | SSN Docs"><meta data-react-helmet="true" name="description" content="Beginning with version 6.0, an image-based ISO installation process has been implemented for users who manage their network using the Mist Cloud. This installation and upgrade process is only available for SSR version 6.0 and higher, and is currently only available for Mist-managed deployments."><meta data-react-helmet="true" property="og:description" content="Beginning with version 6.0, an image-based ISO installation process has been implemented for users who manage their network using the Mist Cloud. This installation and upgrade process is only available for SSR version 6.0 and higher, and is currently only available for Mist-managed deployments."><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.128technology.com/docs/intro_installation_image"><link data-react-helmet="true" rel="alternate" href="https://docs.128technology.com/docs/intro_installation_image" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.128technology.com/docs/intro_installation_image" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.21b25f22.css">
<link rel="preload" href="/assets/js/runtime~main.0913f561.js" as="script">
<link rel="preload" href="/assets/js/main.cbd76517.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Juniper Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo_dark.png" alt="Juniper Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Session Smart</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro_getting_started">Docs</a><a href="https://community.juniper.net/answers/communities/community-home?CommunityKey=310d1a41-12fa-4627-9a99-880145a7c87c" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Session Smart Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://www.juniper.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Company<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/about_128t">About</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_getting_started">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_system_reqs">Deployment Considerations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_installation">Installation Process</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/docs/intro_installation_image">Image-Based Installation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/intro_installation_image">Image-Based Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install_onboard_hdware">Device Default Port Layout</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_installation_quickstart_aws">Cloud Installations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_upgrade_considerations">Upgrades and Rollback</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_installation_installer">Supporting Install Information - Appendix</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/concepts_application_discovery">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/wan_overview">WAN Assurance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/config_basics">Administration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/events_overview">Events</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/bcp_att_avpn_configuration">Best Practices</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/cli_reference">CLI and Element Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/installer_cli_reference">Installer/Initializer Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/plugin_intro">Plugins</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/release_notes_128t_6.0">Release Notes</a></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Image-Based Installation</h1></header><p>Beginning with version 6.0, an image-based ISO installation process has been implemented for users who manage their network using the Mist Cloud. This installation and upgrade process is only available for SSR version 6.0 and higher, and is currently only available for Mist-managed deployments.</p><p>For conductor-managed deployments, the <a href="/docs/intro_installation_bootable_media">package-based installation</a> is used. </p><p>The image-based installation creates two volumes on the disk, installs the full 6.0.x image into one of the volumes, and boots into that image. When an upgrade is intiated, the new ISO image is copied into the other volume. The upgrade process copies configurations and persistent information from the old image to the new image, then reboots into the new version.</p><p>The Image-based install consists of the following steps:</p><ul><li><a href="#download">Download</a></li><li><a href="#installation">Installation</a></li><li><a href="#device-default-port-identification">Default Port Identification</a></li><li><a href="#associate-the-router-with-mist">Associate the Device with Mist Using the GUI</a><ul><li>OR</li></ul></li><li><a href="#adopt-the-router-from-the-ssr-pcli">Adopt the device using the PCLI</a></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="download">Download<a class="hash-link" href="#download" title="Direct link to heading">​</a></h2><p>The image-based ISO&#x27;s are available to download at the following location:</p><p><a href="https://software.128technology.com/artifactory/list/generic-128t-install-images-release-local/" target="_blank" rel="noopener noreferrer">https://software.128technology.com/artifactory/list/generic-128t-install-images-release-local/</a></p><p>Files available for download are:</p><ul><li><code>*.iso</code> - This file is used for installing/staging bare metal platforms.</li><li><code>*.qcow</code> - This file is used for virtual environments such as KVM or ESXi. For more information see <a href="/docs/install_qcow2_deployment">Deployment Using QCOW2</a></li><li><code>*.tar</code> - This file is used by Mist or the SSR conductor for image-based upgrades, and is accessed directly by the system during the upgrade. User download is not necessary or advised.</li><li><code>*.ztp.raw.gz</code> - This file is used by manufacturing, and is not applicable for customer use. </li></ul><p>You will be prompted for your username and token to access the web page listing the software versions. Download is done directly from the page.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="create-a-bootable-usb">Create a Bootable USB<a class="hash-link" href="#create-a-bootable-usb" title="Direct link to heading">​</a></h3><p>Use the instructions <a href="/docs/intro_creating_bootable_usb">Creating a Bootable ISO</a> to create a USB to be used to install the image. </p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="installation">Installation<a class="hash-link" href="#installation" title="Direct link to heading">​</a></h2><ol><li><p>Insert the flash drive into the appliance, and boot into the flash drive.</p></li><li><p>Select the installation methods; Serial Console or VGA. If you do not make a selection, the Serial mode installation is selected by default. </p><p><img alt="Select Mode" src="/assets/images/install_imagebased_1-57921af98039d457cbd6dc3f8c8c927a.png"></p></li><li><p>In the Installer window, select 2 for the ZTP Install Mode. This is the default mode for image-based installation.  </p><p><img alt="Select Install Mode" src="/assets/images/install_imagebased_2-dfe9303150d6bf38053effe6c6a259aa.png"></p><p>On a system with multiple disks, the <strong>Install Devices</strong> selection allows you to <em>steer</em> the boot and root filesystems to individual devices if necessary.</p></li><li><p>If you require FIPS enforcement, select 5 for <code>Enable FIPS 140-2 mode</code>. If you do not require FIPS enforcement, skip to step 7. </p><p><img alt="Generated Menu" src="/assets/images/60fips_install_1-f97a12923a453ea785d4f9bbdf1c41fe.png"></p></li><li><p>The resulting system boots into FIPS 140-2 enforcing mode. </p><p><img alt="Boot" src="/assets/images/60fips_install_2-3217d4faffe46e618e3b49e10299859a.png"></p></li><li><p>Verify FIPS mode is active by reading the kernel crypto state using <code>sysctl</code>. The result is an error when attempting to use a non-FIPS compliant crypto such as md5.</p><p><img alt="Error Message at bottom" src="/assets/images/60fips_install_3-8e3b15ad25d296d053204245d0580e56.png"></p></li><li><p>Press the enter key to start the installation. </p></li><li><p>Once complete, you are prompted with an option to press Esc to reboot immediately, or Enter to shutdown and continue later. </p></li><li><p>Upon restart, the system initializes and is internet ready. Since each manufacturer&#x27;s device port layout is different, use the following information to identify the port layout of the device to complete the onboarding process.</p></li></ol><h3 class="anchor anchorWithStickyNavbar_y2LR" id="device-default-port-identification">Device Default Port Identification<a class="hash-link" href="#device-default-port-identification" title="Direct link to heading">​</a></h3><p>When a whitebox device is installed with SSR software, the software scans the device to generate a default port map. When the device is recognized as a certified device, a known port layout is configured as the device default.
When the device is unrecognized, a default port layout is generated based upon PCI address order.
This order often does NOT match the external bezel port order. Some plugging in and testing may be required.</p><p>The following sections provide information about port connections on Juniper certified devices and non-certified devices that are considered compatible. </p><ul><li><a href="/docs/install_onboard_hdware#lanner-1515">Lanner 1515:</a> Certified Device</li><li><a href="/docs/install_onboard_hdware#silicom-madrid-90500-0151-g61">Silicom Madrid 90500-0151-G61:</a> Certified Device</li><li><a href="/docs/install_onboard_hdware#fitlet2-dual-port">Fitlet2 Dual Port:</a> Non-certified, Compatible Device</li><li><a href="/docs/install_onboard_hdware#fitlet2-quad-port">Fitlet2 Quad Port:</a> Non-certified, Compatible Device</li><li><a href="/docs/install_onboard_hdware#additional-non-certified-compatible">Additional Non-certified, Compatible Devices</a></li></ul><p>Use this data to identify the port layout for your whitebox device. A link to return to this process is provided at the end of the process for each device. </p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="associate-the-router-with-mist">Associate the Router with Mist<a class="hash-link" href="#associate-the-router-with-mist" title="Direct link to heading">​</a></h3><p>This section covers the basic steps to associate your router with a Mist Organization using the SSR and Mist GUI. The following animation presents the steps for associating the onboarded router with a Mist organization.</p><p><img alt="GUI Adopt" src="/assets/images/gui-adopt-28cda0ae42732ad11cea33bf374b97f4.gif"></p><p>The steps performed in the animation are listed below.</p><ol><li><p>Upon reboot, you are presented with the SSR login screen where you can choose to Manage the router through the Mist cloud. Select this option. </p></li><li><p>Choose how to associate the router with the Mist Cloud; selecting an Organization, or use a registration code. In this example, we will choose the organization.</p></li><li><p>Log in to Mist.</p></li><li><p>Select the organization from the drop down list.</p></li><li><p>If you assigned your router a name, enter it here and select ADOPT.</p></li><li><p>If there are no errors, the router is associated with the organization and visible in the Mist UI.</p></li><li><p>Click on the link to the Mist Cloud to see the router in the Mist inventory.</p></li></ol><h3 class="anchor anchorWithStickyNavbar_y2LR" id="adopt-the-router-from-the-ssr-pcli">Adopt the Router from the SSR PCLI<a class="hash-link" href="#adopt-the-router-from-the-ssr-pcli" title="Direct link to heading">​</a></h3><p>If you prefer to work from the PCLI, you can use the <a href="/docs/cli_reference#adopt"><code>adopt</code></a> command to associate the router with Mist. </p><p><img alt="Adopt command" src="/assets/images/adopt_pcli_imagebased1-236daee5e8b0bbfd1fc6a69074ac969a.png"></p><p><img alt="Adopt output" src="/assets/images/adopt_pcli_imagebased2-9d7a4faf005c81a3b85a59d88e5b9ae2.png"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_mt2f"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-10-12T19:46:33.000Z">10/12/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/intro_install_quickstart_otpiso"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">QuickStart from the OTP ISO</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/install_onboard_hdware"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Device Default Port Layout</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#download" class="table-of-contents__link toc-highlight">Download</a><ul><li><a href="#create-a-bootable-usb" class="table-of-contents__link toc-highlight">Create a Bootable USB</a></li></ul></li><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a><ul><li><a href="#device-default-port-identification" class="table-of-contents__link toc-highlight">Device Default Port Identification</a></li><li><a href="#associate-the-router-with-mist" class="table-of-contents__link toc-highlight">Associate the Router with Mist</a></li><li><a href="#adopt-the-router-from-the-ssr-pcli" class="table-of-contents__link toc-highlight">Adopt the Router from the SSR PCLI</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Juniper Networks, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.0913f561.js"></script>
<script src="/assets/js/main.cbd76517.js"></script>
</body>
</html>