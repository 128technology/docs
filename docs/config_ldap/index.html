<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<title data-react-helmet="true">LDAP | SSN Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.128technology.com/docs/config_ldap"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="LDAP | SSN Docs"><meta data-react-helmet="true" name="description" content="Lightweight Directory Access Protocol (LDAP) is an open, vendor-neutral, industry standard application protocol for accessing and maintaining distributed directory information services over an Internet Protocol (IP) network. The SSR Networking Platform can be configured to leverage an LDAP server to authenticate administrative users to the PCLI and GUI interfaces for administration, configuration, and management."><meta data-react-helmet="true" property="og:description" content="Lightweight Directory Access Protocol (LDAP) is an open, vendor-neutral, industry standard application protocol for accessing and maintaining distributed directory information services over an Internet Protocol (IP) network. The SSR Networking Platform can be configured to leverage an LDAP server to authenticate administrative users to the PCLI and GUI interfaces for administration, configuration, and management."><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.128technology.com/docs/config_ldap"><link data-react-helmet="true" rel="alternate" href="https://docs.128technology.com/docs/config_ldap" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.128technology.com/docs/config_ldap" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.21b25f22.css">
<link rel="preload" href="/assets/js/runtime~main.05f1ea51.js" as="script">
<link rel="preload" href="/assets/js/main.9f1d2975.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Juniper Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo_dark.png" alt="Juniper Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Session Smart</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro_getting_started">Docs</a><a href="https://community.juniper.net/answers/communities/community-home?CommunityKey=310d1a41-12fa-4627-9a99-880145a7c87c" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Session Smart Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://www.juniper.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Company<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/about_128t">About</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_getting_started">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_system_reqs">Deployment Considerations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_installation">Installation Process</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_installation_image">Image-Based Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/supported_cloud_platforms">Cloud Installations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_upgrade_considerations">Upgrades and Rollback</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_installation_installer">Supporting Install Information - Appendix</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/concepts_application_discovery">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/wan_overview">WAN Assurance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/docs/config_basics">Administration</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/config_basics">Configuration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/howto_tune_bfd">Optimizing Routing Protocols</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/config_ha">High Availability</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" tabindex="0" href="/docs/config_access_mgmt">Access Management and Authentication</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_access_mgmt">Access Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/config_ldap">LDAP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_radius">Authentication Methods</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_password_policies">Username and Password Policies</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/config_ntp_auth">NTP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/sec_adaptive_encrypt">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/concepts_ssr_idp">Intrusion Detection and Prevention</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/config_STEP">Service and Topology Exchange Protocol (STEP)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/how_to_use_app_summary">How To</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/ts_applications">Troubleshooting</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/events_overview">Events</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/bcp_att_avpn_configuration">Best Practices</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/cli_reference">CLI and Element Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/installer_cli_reference">Installer/Initializer Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/plugin_intro">Plugins</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/release_notes_128t_6.0">Release Notes</a></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>LDAP</h1></header><p>Lightweight Directory Access Protocol (LDAP) is an open, vendor-neutral, industry standard application protocol for accessing and maintaining distributed directory information services over an Internet Protocol (IP) network.<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup> The SSR Networking Platform can be configured to leverage an LDAP server to authenticate administrative users to the PCLI and GUI interfaces for administration, configuration, and management.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="basic-configuration">Basic Configuration<a class="hash-link" href="#basic-configuration" title="Direct link to heading">​</a></h2><p>Configuring LDAP on the SSR is done globally, and is done within the <code>authority &gt; ldap-server</code> configuration element. The SSR authority configuration may only have one <code>ldap-server</code> configured at a time.</p><p>The <code>ldap-server</code> configuration has the following attributes:</p><ul><li><strong>name</strong>: a unique name that the SSR uses to reference this configuration.</li><li><strong>address</strong>: the IP address or FQDN of the LDAP server.<div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>If using an FQDN/hostname, this name must be resolvable by the SSR.</p></div></div></li><li><strong>search-base</strong>: The search base defines the starting point for the search in the directory tree. For example, SSR might need to query the entire directory, in which case the search base must specify the root of the directory service. Or, SSR might need to query a specific organizational unit (OU) in the directory. Generally this is configured as a series of <em>Domain Components</em>, which are abbreviated &quot;dc.&quot;</li><li><strong>server-type</strong>: An enumeration, which can be <em>global-catalog</em>, <em>ldaps</em>, or <em>starttls</em>. For Active Directory LDAP servers, use <code>global-catalog</code>. LDAPS is LDAP wrapped in SSL, and is a non-standard (yet popular) implementation. StartTLS is instead built into the LDAP protocol itself. Consult your LDAP server&#x27;s documentation to determine the server-type most appropriate for your deployment.<div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The default type is ldaps, which requires TLS/SSL for the entire duration of the connection</p></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>The &quot;starttls&quot; type will not send user passwords in the process of being validated in the clear (it requires that STARTTLS be performed, and uses that channel for sending the password), but all other LDAP traffic (including the bind request and credentials used for binding) <em>are</em> sent in the clear.</p></div></div></li><li><strong>port</strong>: the listening port on your LDAP server. Using <code>server-type-default</code> will select the default port based on the server-type configured (3269 for global-catalog, 636 for LDAPS, 389 for StartTLS)</li><li><strong>bind-type</strong>: an enumeration of <em>anonymous</em>, <em>unauthenticated</em>, or <em>password</em>. This is how your SSR will authenticate to your LDAP server.</li><li><strong>distinguished-name</strong>: the name to use when binding to the server; available when bind-type is set to <code>password</code>.</li><li><strong>password</strong>: the password to use to bind to the server (available when bind-type is set to <code>password</code>)</li></ul><p>The following <code>ldap-server</code> configuration options have been added with SSR Version 5.5.2:</p><ul><li><strong>certificate-assurance</strong>: Allows the SSR to perform different levels of server certificate verification in a TLS session. The following values can be specified:<ul><li><strong>Weak:</strong> Do not request or check any server certificates.</li><li><strong>Mild:</strong> Ignore invalid or missing certificates, but check for hostname.</li><li><strong>Moderate:</strong> Terminate on invalid certificate, but ignore missing certificates.</li><li><strong>Strong:</strong> (Default) Terminate on invalid and missing certificates.</li></ul></li><li><strong>auto-generate-filter</strong>: Turn on or off user- and group-based filters automatically.<ul><li><strong>True</strong>: (Default) SSR generates user- and group-based filters.</li><li><strong>False</strong>: SSR does not generate user- and group-based filters.</li></ul></li><li><strong>user-search-base</strong>: Allows users to set user-search-base filters when auto-generate-filter is false for server-type global-catalog. See the configuration examples below for usage.</li><li><strong>group-search-base</strong>: Allows users to set group-search-base filters when auto-generate-filter is false for server-type global-catalog.  See the configuration examples below for usage.</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="sample-configurations">Sample Configurations<a class="hash-link" href="#sample-configurations" title="Direct link to heading">​</a></h2><p>The following sample configuration interfaces with Microsoft Active Directory.</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">ldap-server ActiveDirectory</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name ActiveDirectory</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    address activedirectory.mydomain.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    search-base DC=mydomain,DC=com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    server-type global-catalog</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    port server-type-default</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    bind-type password</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    distinguished-name &quot;CN=commonname,OU=orgunit,DC=mydomain,DC=com&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    password (removed)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="certificate-assurance-configuration-example"><code>certificate-assurance</code> Configuration Example<a class="hash-link" href="#certificate-assurance-configuration-example" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@test1.RTR_EAST_CONDUCTOR (ldap-server[name=myldap])# show </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">name                    myldap</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">address                 ad.systemsadtest.local</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">search-base             dc=systemsadtest,dc=local</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">auto-generate-filter    true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">certificate-assurance   strong</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">server-type             global-catalog</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">port                    server-type-default</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">bind-type               password</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">distinguished-name  ldapuser@systemsadtest.local</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">password            (removed)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="auto-generate-filter-configuration-example"><code>auto-generate-filter</code> Configuration Example<a class="hash-link" href="#auto-generate-filter-configuration-example" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@test1.RTR_EAST_CONDUCTOR (ldap-server[name=myldap])# show </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">name                    myldap</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">address                 ad.systemsadtest.local</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">search-base             dc=systemsadtest,dc=local</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">auto-generate-filter    false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">certificate-assurance   strong</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">server-type             global-catalog</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">port                    server-type-default</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">bind-type               password</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">distinguished-name  ldapuser@systemsadtest.local</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">password            (removed)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="user-search-base-and-group-search-base-configuration-examples"><code>user-search-base</code> and <code>group-search-base</code> Configuration Examples<a class="hash-link" href="#user-search-base-and-group-search-base-configuration-examples" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@test1.RTR_EAST_CONDUCTOR (ldap-server[name=myldap])# show </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">name                    myldap</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">address                 ad.systemsadtest.local</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">search-base             dc=systemsadtest,dc=local</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">auto-generate-filter    false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">certificate-assurance   strong</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">user-search-base    DC=DIR, DC=slb,DC=com?subtree?(|(&amp;(objectCategory=user)(memberOf=CN=128t-admin,OU=EAR-AA-899,OU=Applications,OU=Groups,DC=DIR,DC=slb,DC=com)))</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">group-search-base      OU=EAR-AA-899,OU=Applications,OU=Groups,DC=DIR,DC=slb,DC=com?subtree?(&amp;(objectclass=group)(|(cn=128t-admin)(cn=128t-user)))</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">server-type             global-catalog</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">port                    server-type-default</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">bind-type               password</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">distinguished-name  ldapuser@systemsadtest.local</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">password            (removed)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ldap-user-account-requirements">LDAP User Account Requirements<a class="hash-link" href="#ldap-user-account-requirements" title="Direct link to heading">​</a></h2><p>It is important to ensure that administrative users are configured on the LDAP server as being a member of a group called <code>128t-user</code> for read-only access to the configuration, or <code>128t-admin</code> for read-write access to configuration. These group names are case sensitive.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="implementation-notes">Implementation Notes<a class="hash-link" href="#implementation-notes" title="Direct link to heading">​</a></h2><ul><li><code>show user</code> within the PCLI (and GUI&#x27;s User management page) allows viewing LDAP users that have connected to SSR</li><li><code>edit user</code> within the PCLI (and GUI&#x27;s User management page) allows editing LDAP users, (changing password, display name, enabled/disabled). While saving these changes may report back that it has completed successfully, these changes <em>are not</em> saved in the LDAP server.</li><li>Having local SSR users with the same name as LDAP users is not supported.</li><li>The &quot;admin&quot; user is always authenticated locally;  any &quot;admin&quot; user in ldap is ignored</li><li>If the TLS certificates for LDAP servers are not from a CA recognized by openssl&#x27;s CA bundle, trust for the certificate must be configured manually (in linux)</li><li>When the system is configured to use LDAP for user authentication, the status of the LDAP connection can be seen on the Users page of the GUI. This is a high level status of connectivity to retrieve user and group information based on the LDAP configuration.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="logging">Logging<a class="hash-link" href="#logging" title="Direct link to heading">​</a></h3><p>For SSR Version 5.5.2 an LDAP log category has been added to allow you to change the LDAP log level.</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@test1.RTR_EAST_CONDUCTOR# set log level category ldap</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">configured debug      error      fatal      force      info       node       router     trace      warning    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@test1.RTR_EAST_CONDUCTOR# set log level category ldap debug</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">✔ Setting log level...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Log level successfully set</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="debugging-issues-using-ldap">Debugging Issues Using LDAP<a class="hash-link" href="#debugging-issues-using-ldap" title="Direct link to heading">​</a></h2><p>For diagnosing connection status from linux</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sssctl domain-status &lt;name-of-configured-ldap-server-in-128t-config&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>To test what a user&#x27;s current group memberships are from linux</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">id -Gn &lt;user-name&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>There is a minimum delay of 5 minutes from when a user&#x27;s groups are retrieved before the server will be consulted again, so changes that are made on the server may appear to lag a bit.</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sss_cache -u &lt;user&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="footnotes"><hr><ol><li id="fn-1"><a href="https://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol</a><a href="#fnref-1" class="footnote-backref">↩</a></li></ol></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_mt2f"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-12-02T14:01:03.000Z">12/2/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/config_access_mgmt"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Access Management</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/config_radius"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Authentication Methods</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#basic-configuration" class="table-of-contents__link toc-highlight">Basic Configuration</a></li><li><a href="#sample-configurations" class="table-of-contents__link toc-highlight">Sample Configurations</a></li><li><a href="#ldap-user-account-requirements" class="table-of-contents__link toc-highlight">LDAP User Account Requirements</a></li><li><a href="#implementation-notes" class="table-of-contents__link toc-highlight">Implementation Notes</a><ul><li><a href="#logging" class="table-of-contents__link toc-highlight">Logging</a></li></ul></li><li><a href="#debugging-issues-using-ldap" class="table-of-contents__link toc-highlight">Debugging Issues Using LDAP</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Juniper Networks, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.05f1ea51.js"></script>
<script src="/assets/js/main.9f1d2975.js"></script>
</body>
</html>