<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.55">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-167298415-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="128T Docs" href="/opensearch.xml"><title data-react-helmet="true">Metrics | 128T Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Metrics | 128T Docs"><meta data-react-helmet="true" name="description" content="When querying the STATS API, you will notice the resolution of the data changes over time.  This is due to the downsampling that occurs.  Downsampling is performed to reduce the amount of data persisted to disk, ultimately purging the data from the system after a period of time."><meta data-react-helmet="true" property="og:description" content="When querying the STATS API, you will notice the resolution of the data changes over time.  This is due to the downsampling that occurs.  Downsampling is performed to reduce the amount of data persisted to disk, ultimately purging the data from the system after a period of time."><meta data-react-helmet="true" property="og:url" content="https://docs.128technology.com/docs/concepts_metrics"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.128technology.com/docs/concepts_metrics"><link rel="stylesheet" href="/styles.3f8d667f.css">
<link rel="preload" href="/styles.23582ca6.js" as="script">
<link rel="preload" href="/runtime~main.d4764129.js" as="script">
<link rel="preload" href="/main.976eba3a.js" as="script">
<link rel="preload" href="/1.c56e5935.js" as="script">
<link rel="preload" href="/2.bed2f63a.js" as="script">
<link rel="preload" href="/110.1d85adb4.js" as="script">
<link rel="preload" href="/20ac7829.e1ca75e4.js" as="script">
<link rel="preload" href="/79e69da7.8a0d6c40.js" as="script">
</head>
<body>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/128t_black.png" alt="128 Technology Logo"><strong class="navbar__title"></strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro_getting_started">Docs</a><a target="_blank" rel="noopener noreferrer" href="https://community.128technology.com/home" class="navbar__item navbar__link">Interchange</a><a target="_blank" rel="noopener noreferrer" href="https://www.128technology.com/" class="navbar__item navbar__link">Company</a><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/128t_black.png" alt="128 Technology Logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/intro_getting_started">Docs</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://community.128technology.com/home" class="menu__link">Interchange</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://www.128technology.com/" class="menu__link">Company</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">About</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_128t">128T</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_releases">128T Releases</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_support_policy">Support Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_security_policy">Security Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/CONTRIBUTING">Contributing</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_getting_started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_downloading_iso">Downloading ISOs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_installer">Installing 128T</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_bootable_media">Installing From ISO</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_aws">Installing in AWS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_otp_iso">Installing From OTP ISO</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_quickstart_aws">QuickStart installation in AWS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_azure">Installing in Azure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_ztp">QuickStart</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_creating_bootable_usb">Creating Bootable USB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_upgrading">Upgrading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_rollback">Rollback</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_application_discovery">Application Discovery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_appid">Application Identification</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_ha_theoryofoperation">HA - Theory of Operation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_interface_types">Interface Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_linux_host_networking">Linux Host Networking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_network_planes">Forwarding Planes</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/concepts_metrics">Metrics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_machine_communication">Machine Communication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_pcli">PCLI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_session_timer">Session Timers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_glossary">Glossary</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Administration</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Configuration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_basics">Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_bgp">BGP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_reference_guide">Element Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_audit_log">Audit Log</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_dhcp">DHCP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_dns_proxy">DNS Proxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_ldap">LDAP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_ha">High Availability</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_non_forwarding_ha_interfaces">Non-forwarding HA Interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_adding_interfaces_to_ha_team">Adding Interfaces to HA Team Interface</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_transition_standalone_to_ha">Transitioning a Conductor from Standalone to HA</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_nat">NAT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_ospf">OSPF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_snmp">SNMP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_snmp_metrics">SNMP: User defined metrics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_tenants">Tenants</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_templates">Configuration Templates</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">How To</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_conductor_migration">Conductor Migration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_lte">LTE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_maintenance_mode">Maintenance Mode</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_ms365">Microsoft 365</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_trusted_ca_certificate">Adding a Trusted Certificate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_tune_bfd">Tuning BFD</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Troubleshooting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_applications">Application Troubleshooting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_ap_salt_minion">AP: Salt Minion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_cpu_spikes">CPU Spikes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_connecting_to_routers">Connecting to Routers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_forwarding_resource_pools">Forwarding Plane Resource Pools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_logs">Logs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_mac_uniqueness">MAC Address Uniqueness</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_packet_capture">PCLI Packet Capture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_t1_troubleshooting">T1 Troubleshooting</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Events</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/events_overview">Alarm and Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/events_alarms">Alarms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/events_events">Events</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Best Practices</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_att_avpn_configuration">AT&amp;T AVPN Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_conductor_deployment">Conductor Deployment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_lte_peering">LTE Peering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_monitoring_headends">Monitoring Head End Routers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_salt_pillars">Saltstack at Scale With 128T</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_sdwan_design_guide">SD-WAN Design Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_service_and_service_policy_design">Service and Service Policy Design</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_service-policy_defaults">Service Policy Baseline Defaults</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_tenants">Tenancy Design</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">CLI Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli_reference">Command Line Reference</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Plugins</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_monitoring_agent">Monitoring</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_gre">GRE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_mosh">Mosh</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">REST APIs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api_rest_4.2.0">128T-4.2.0</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Release Notes</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">128T</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.4">4.4</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.3">4.3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.2">4.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.1">4.1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.0">4.0</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">128T Installer</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.5">2.5</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.4">2.4</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.3">2.3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.2">2.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.1">2.1</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">128T Monitoring Agent</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_monitoring_agent_2.1">2.1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_monitoring_agent_2.0">2.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_monitoring_agent_1.2">1.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_monitoring_agent_1.1">1.1</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">128T IPSEC Client</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_ipsec_client_2.0">2.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_ipsec_client_1.0">1.0</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">128T SIP ALG</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_sip_alg_2.1">2.1</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">128T ZScaler</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_zscaler_1.1">1.1</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Metrics</h1></header><div class="markdown"><p>When querying the <code>STATS</code> API, you will notice the resolution of the data changes over time.  This is due to the downsampling that occurs.  Downsampling is performed to reduce the amount of data persisted to disk, ultimately purging the data from the system after a period of time.</p><p>The system samples data every 5 seconds.  The sampling interval is configurable under <code>authority &gt; router &gt; system &gt; metrics &gt; sample-period &lt;value&gt;</code>.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>It is not recommended to change the sample-period.  Increasing the value reduces the resolution of the information collected.  Decreasing the value will create a greater computational load on the system. The software has been tuned to operate optimally at a sampling interval of 5 seconds.</p></div></div><p>The full resolution of 5 second sampled data is kept for 1 hour.<br>
Every five minutes, the sampled data is aggregated.  The 5 minute values are kept for a day.<br>
Every hour the 5 minute values are aggregated.  The 1 hour values are kept for 6 months.<br>
After 6 months, the data is purged from disk.<br></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="in-memory-metrics"></a>In Memory Metrics<a aria-hidden="true" tabindex="-1" class="hash-link" href="#in-memory-metrics" title="Direct link to heading">#</a></h3><p>Not all metrics are persisted to disk and subject to downsampling. When executing <code>show stats</code> commands utilizing the <em>since</em> argument, the command will report that the requested data will be unavailable.</p><p>An Example of <code>show stats</code> command using a <code>since</code> argument is shown below:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node.router# show stats ipfix since 5:30</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-15 13:07:06 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">WARNING: Some metrics are not available historically. Their current values will be displayed.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Since: 2020-03-15 05:30:00</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">IPFIX Stats</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">======================= ======== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Metric                  Node     Value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">======================= ======== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> record-export-rate      sydney       0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> time-per-export         sydney       0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> time-per-session        sydney       0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> total-generation-time   sydney       0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> total-records           sydney       0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.06 seconds</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="session-establishment-metrics"></a>Session Establishment Metrics<a aria-hidden="true" tabindex="-1" class="hash-link" href="#session-establishment-metrics" title="Direct link to heading">#</a></h2><p>A key indicator of application performance is the time it takes to establish the TCP session between client and server.  This is effectively the time it takes to get to the first data packet between endpoints.  This metric is more telling than packet transmission rates because it is directional and end to end.  Importantly, this information can be used as a measure of SLA to influence path selection.</p><p>Session establishment metrics have been created and are gathered on a per service, per interface, per destination, per traffic-class basis.  This level of granularity provides surgically accurate information on how the network treatment and performance is impacting application behavior.  A capability that is unique only to the 128T router.</p><p>To add more context to the sessions traversing the 128T router, the newly added session establishment metrics detailed below will be collected in protocol based buckets <em>TCP</em>, <em>UDP</em>, <em>ICMP</em>, and <em>TLS</em>.  Each protocol has its own determination of what qualifications need to be met for a session to become <em>established</em>.  In turn there is protocol/application-specific handling of each of these, defined by what is considered <em>established</em>.  For the remainder of the document, the following definitions of establishment are implied per protocol:</p><ul><li><strong>TCP</strong> - session has seen an acknowledgement to the first packet after the TCP handshake that contains payload</li><li><strong>UDP</strong> - session has seen a packet in the reverse direction</li><li><strong>ICMP</strong> - session has seen a packet in the reverse direction</li><li><strong>TLS</strong> - session has seen an acknowledgement to the first packet after the TLS handshake that contains payload</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="time-to-establish"></a>Time to Establish<a aria-hidden="true" tabindex="-1" class="hash-link" href="#time-to-establish" title="Direct link to heading">#</a></h3><p>This is a grouping of 3 different metrics: min, max, and mean.  The time from session start to when it reaches the established state as defined above per-protocol.  The exception is for TLS, the start time will be at TCP establishment instead of session start.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tcp time-to-establishment</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:33:26 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">time-to-establishment</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">---------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">======== =========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Metric   Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">======== =========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> max      t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> min      t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.02 seconds</span></div></div></div></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tcp time-to-establishment max</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:39:12 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Maximum time to establishment</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.02 seconds</span></div></div></div></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tcp time-to-establishment min</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:39:25 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Minimum time to establishment</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.02 seconds</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="sessions-reached-establishment"></a>Sessions Reached Establishment<a aria-hidden="true" tabindex="-1" class="hash-link" href="#sessions-reached-establishment" title="Direct link to heading">#</a></h3><p>Counts of how many sessions reach the established state as defined per-protocol above.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tcp established</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:38:29 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">TCP sessions that were successfully established</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----------------------------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="sessions-timed-out-before-establishment"></a>Sessions Timed Out Before Establishment<a aria-hidden="true" tabindex="-1" class="hash-link" href="#sessions-timed-out-before-establishment" title="Direct link to heading">#</a></h3><p>Counts of how many sessions timed out without ever reaching establishment, as defined per-protocol above. The TLS bucket of this metric is incremented only when the TCP established state has been reached but before the TLS established state has been reached.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tcp timeout-before-establishment</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:40:21 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Timed out TCP sessions before establishment</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-------------------------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.02 seconds</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="destination-unreachable"></a>Destination Unreachable<a aria-hidden="true" tabindex="-1" class="hash-link" href="#destination-unreachable" title="Direct link to heading">#</a></h3><p>Counts of how many sessions could not complete because the destination was unreachable. This is determined by receipt of an ICMP destination unreachable for the session.</p><p>The below metrics don&#x27;t apply across all of the specified protocols/applications (UDP, ICMP, TCP, TLS) and will have the specific protocol/application name in the metric.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tcp unreachable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:41:06 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">TCP unreachable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">---------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.02 seconds</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="session-close-before-tcp-establishment"></a>Session Close Before TCP Establishment<a aria-hidden="true" tabindex="-1" class="hash-link" href="#session-close-before-tcp-establishment" title="Direct link to heading">#</a></h3><p>Counts the number of sessions that are closed by reset or fin before the session has finished the TCP handshake and data has been acknowledged.  This can be a server responding to a SYN with a reset or a proxy terminating a session it can’t complete.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tcp close-before-establishment</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:41:56 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Closed TCP sessions before establishment</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">----------------------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.02 seconds</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="session-close-before-tls-establishment"></a>Session Close Before TLS Establishment<a aria-hidden="true" tabindex="-1" class="hash-link" href="#session-close-before-tls-establishment" title="Direct link to heading">#</a></h3><p>Counts the number of sessions that are closed by reset or fin after TCP establishment but before the session has finished the TLS handshake and data has been acknowledged.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tls close-before-establishment</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:42:30 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Closed TlS sessions before establishment</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">----------------------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.02 seconds</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="configuration"></a>Configuration<a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuration" title="Direct link to heading">#</a></h3><p>In order to begin collection of the metrics described above, a service-route must be configured to enable reachability-detection.</p><p>An example of enabled configuration is below:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">service-route</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  name                   service-agent1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  nat-target             1.2.3.4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  service-name           web</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  service-route-policy   sap1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  reachability-detection</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    enabled     true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  next-hop</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    node-name   slice1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    interface   intf1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    gateway-ip  1.1.1.2</span></div></div></div></div></div><p>In order to filter reachability by destination prefix by traffic class:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability destination-prefix 192.168.56.51 traffic-class best-effort</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:44:47 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Destination Reachability Statistics</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----------------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=================================== =========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Metric                              Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=================================== =========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> icmp established                    t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> icmp time-to-establishment max      t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> icmp time-to-establishment min      t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> icmp timeout-before-establishment   t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> icmp unreachable                    t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> tcp close-before-establishment      t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> tcp established                     t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> tcp time-to-establishment max       t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> tcp time-to-establishment min       t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> tcp timeout-before-establishment    t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> tcp unreachable                     t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> tls close-before-establishment      t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> tls established                     t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> tls time-to-establishment max       t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> tls time-to-establishment min       t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> tls timeout-before-establishment    t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> udp established                     t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> udp time-to-establishment max       t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> udp time-to-establishment min       t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> udp timeout-before-establishment    t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> udp unreachable                     t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.03 seconds</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"></div><div class="col text--right"><em><small>Last updated on <time datetime="2020-04-24T13:54:48.000Z" class="docLastUpdatedAt_1sqk">4/24/2020</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/concepts_network_planes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Forwarding Plane Separation</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/concepts_machine_communication"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Intra- and Inter-System Communication »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#in-memory-metrics" class="table-of-contents__link">In Memory Metrics</a></li><li><a href="#session-establishment-metrics" class="table-of-contents__link">Session Establishment Metrics</a><ul><li><a href="#time-to-establish" class="table-of-contents__link">Time to Establish</a></li><li><a href="#sessions-reached-establishment" class="table-of-contents__link">Sessions Reached Establishment</a></li><li><a href="#sessions-timed-out-before-establishment" class="table-of-contents__link">Sessions Timed Out Before Establishment</a></li><li><a href="#destination-unreachable" class="table-of-contents__link">Destination Unreachable</a></li><li><a href="#session-close-before-tcp-establishment" class="table-of-contents__link">Session Close Before TCP Establishment</a></li><li><a href="#session-close-before-tls-establishment" class="table-of-contents__link">Session Close Before TLS Establishment</a></li><li><a href="#configuration" class="table-of-contents__link">Configuration</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center"><div>Copyright © 2020 128 Technology, Inc.</div></div></div></footer></div>
<script src="/styles.23582ca6.js"></script>
<script src="/runtime~main.d4764129.js"></script>
<script src="/main.976eba3a.js"></script>
<script src="/1.c56e5935.js"></script>
<script src="/2.bed2f63a.js"></script>
<script src="/110.1d85adb4.js"></script>
<script src="/20ac7829.e1ca75e4.js"></script>
<script src="/79e69da7.8a0d6c40.js"></script>
</body>
</html>