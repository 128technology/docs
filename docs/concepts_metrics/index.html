<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-167298415-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="128T Docs" href="/opensearch.xml"><title data-react-helmet="true">Metrics | 128T Docs</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Metrics | 128T Docs"><meta data-react-helmet="true" name="description" content="When querying the STATS API, you will notice the resolution of the data changes over time.  This is due to the downsampling that occurs.  Downsampling is performed to reduce the amount of data persisted to disk, ultimately purging the data from the system after a period of time."><meta data-react-helmet="true" property="og:description" content="When querying the STATS API, you will notice the resolution of the data changes over time.  This is due to the downsampling that occurs.  Downsampling is performed to reduce the amount of data persisted to disk, ultimately purging the data from the system after a period of time."><meta data-react-helmet="true" property="og:url" content="https://docs.128technology.com/docs/concepts_metrics"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://docs.128technology.com/docs/concepts_metrics"><link rel="stylesheet" href="/styles.b64930b1.css">
<link rel="preload" href="/styles.8ad87aab.js" as="script">
<link rel="preload" href="/runtime~main.970ad584.js" as="script">
<link rel="preload" href="/main.0c503f7c.js" as="script">
<link rel="preload" href="/1.61452939.js" as="script">
<link rel="preload" href="/2.105654ff.js" as="script">
<link rel="preload" href="/163.543c7ee2.js" as="script">
<link rel="preload" href="/166.5e0dff03.js" as="script">
<link rel="preload" href="/935f2afb.9b6fafef.js" as="script">
<link rel="preload" href="/17896441.5f0580f5.js" as="script">
<link rel="preload" href="/79e69da7.7b4cbf37.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Juniper Logo"><strong class="navbar__title">Session Smart</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro_getting_started">Docs</a><a href="https://community.128technology.com/home" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Interchange</a><a href="https://www.128technology.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Company</a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Juniper Logo"><strong class="navbar__title">Session Smart</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/intro_getting_started">Docs</a></li><li class="menu__list-item"><a href="https://community.128technology.com/home" target="_blank" rel="noopener noreferrer" class="menu__link">Interchange</a></li><li class="menu__list-item"><a href="https://www.128technology.com/" target="_blank" rel="noopener noreferrer" class="menu__link">Company</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">About</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_128t">128T</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_svr_savings">Secure Vector Routing Savings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_releases">128T Releases</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_support_policy">Software Support Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_supported_platforms">Platform Support Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_certified_platforms">Certified Platforms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_security_policy">Security Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_services_description">Services Description</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/CONTRIBUTING">Contributing</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_getting_started">Getting Started with the 128T Networking Platform</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Deployment Considerations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_system_reqs">System Requirements</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Installation Process</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation">Installation Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_downloading_iso">Downloading ISOs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_creating_bootable_usb">Creating Bootable USB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_bootable_media">Conductor Interactive Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_basic_conductor_config">Configure the Conductor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_basic_router_config">Basic Router Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_otp_iso_install">Router Installation Using OTP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_install_quickstart_otpiso">QuickStart from the OTP ISO</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Cloud Installations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_aws">Installing from the AWS Marketplace</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_quickstart_aws">QuickStart Installation in AWS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_azure">Installing in Azure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_initialize_HA_conductor">Conductor High Availability for Cloud Deployments</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Supporting Information - Appendix</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_installer">Manually Installing the 128T</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/legacy_OTP_install">Installing Using the Pre-5.0 Interactive ISO</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_upgrading">Upgrading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_rollback">Rollback</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_application_discovery">Application Discovery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_appid">Application Identification</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_EthOverSVR">Ethernet Over Secure Vector Routing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_ha_theoryofoperation">HA - Theory of Operation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_interface_types">Interface Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_kni">Kernel Network Interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_linux_host_networking">Linux Host Networking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_learning_VRF_routes">Learning VRF Routes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_network_planes">Forwarding Planes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_metadata">128T Metadata</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/concepts_metrics">Metrics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_machine_communication">Machine Communication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_pcli">PCLI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_session_timer">Session Timers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_STEP">Service and Topology Exchange Protocol (STEP)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_waypoint_ports">Waypoints</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_glossary">Glossary</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Administration</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Configuration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_basics">Configuration Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_access_mgmt">Access Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_asset_connection_resiliency">Asset Connection Resiliency</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_bgp">Configuring BGP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_vrf_learning">VRF Learning via BGP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_reference_guide">Element Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_audit_event">Audit Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_dhcp">DHCP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_dns_proxy">DNS Proxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_ldap">LDAP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_management_over_forwarding">Management over Forwarding</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_EthoSVR">Configuring Ethernet Over Secure Vector Routing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_service_health">Service Health Learning and Fault Avoidance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_gre_tunnel">Native GRE Tunnels</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_in-memory_metrics">In-Memory Metrics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_ha">High Availability</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_dual_router_ha">High Availability (Dual Router)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_non_forwarding_ha_interfaces">Non-forwarding HA Interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_adding_interfaces_to_ha_team">Adding Interfaces to HA Team Interface</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_transition_standalone_to_ha">Transitioning a Conductor from Standalone to HA</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_nat">NAT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_ospf">OSPF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_rate_limiting">Rate Limiting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_RBAC">Configuring Role-Based Access Control</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_snmp">SNMP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_snmp_metrics">SNMP: User defined metrics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_static_hostname_mapping">Static Hostname Mappings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_STEP">Configuring Service and Topology Exchange Protocol (STEP)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_tenants">Tenants</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_templates">Configuration Templates</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Security</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sec_adaptive_encrypt">Adaptive Encryption</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">How To</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_conductor_migration">Conductor Migration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_extend_gui_nav">Extending GUI Nav</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_lte">LTE and Dual LTE Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_config_PPPoE">Configuring Dual PPPoE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_maintenance_mode">Maintenance Mode</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_ms365">Microsoft 365</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_trusted_ca_certificate">Adding a Trusted Certificate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_tune_bfd">Tuning BFD</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Troubleshooting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_applications">Application Troubleshooting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_ap_duplicate_assets">AP: Duplicate Asset ID Error</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_ap_salt_minion">AP: Salt Minion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_cpu_spikes">CPU Spikes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_connecting_to_routers">Connecting to Routers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_forwarding_resource_pools">Forwarding Plane Resource Pools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_logs">Logs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_mac_uniqueness">MAC Address Uniqueness</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_packet_capture">PCLI Packet Capture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_t1_troubleshooting">T1 Troubleshooting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_troubleshooting_vrf">Troubleshooting VRF</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Events</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/events_overview">Alarm and Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/events_alarms">Alarms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/events_events">Events</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Best Practices</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_att_avpn_configuration">AT&amp;T AVPN Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_using_128T_as_ntp_server">Branch NTP Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_conductor_deployment">Conductor Deployment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_qos_msft_expressroute">ExpressRoute QoS Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_lte_peering">LTE Peering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_monitoring_headends">Monitoring Head End Routers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_salt_pillars">Saltstack at Scale With 128T</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_sdwan_design_guide">SD-WAN Design Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_service_and_service_policy_design">Service and Service Policy Design</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_service-policy_defaults">Service Policy Baseline Defaults</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_tenants">Tenancy Design</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">CLI Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli_reference">Command Line Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli_stats_reference">Show Stats Reference</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Installer/Initializer Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/installer_cli_reference">Installer Command Line Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/installer_preferences">Installer Preferences File Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/initializer_cli_reference">Initializer Command Line Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/initializer_preferences">Initializer Preferences File Reference</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Plugins</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_bgp_community_services">BGP Community Services</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_aws_tgw_connect">AWS Transit Gateway Connect</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_cloud_ha">Cloud HA</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_dns_app_id">DNS App Id</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_dns_cache">DNS Cache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_gre">GRE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_icmp_reachability_detection">ICMP Reachability Detection</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_ipsec_client">IPsec Client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_loopback_static_routes">Loopback Static Routes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_m800_watchdog">M800 Watchdog</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_monitoring_agent">Monitoring Agent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_mosh">Mosh</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_set_hostname">Set Hostname</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_sip_alg">SIP ALG</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_wireguard">Wireguard</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_kni_namespace_scripts">KNI Namespace Scripts</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">REST APIs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api_rest_4.2.0">128T-4.2.0</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Release Notes</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">128T</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_5.2">5.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_5.1">5.1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_5.0">5.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.5">4.5</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.4">4.4</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.3">4.3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.2">4.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.1">4.1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.0">4.0</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">128T Installer</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_3.0">3.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.7">2.7</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.6">2.6</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.5">2.5</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.4">2.4</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.3">2.3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.2">2.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.1">2.1</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">128T SIP ALG</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_sip_alg_2.1">2.1</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">128T ZScaler</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_zscaler_1.1">1.1</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Metrics</h1></header><div class="markdown"><p>When querying the <code>STATS</code> API, you will notice the resolution of the data changes over time.  This is due to the downsampling that occurs.  Downsampling is performed to reduce the amount of data persisted to disk, ultimately purging the data from the system after a period of time.</p><p>The system samples data every 5 seconds.  The sampling interval is configurable under <code>authority &gt; router &gt; system &gt; metrics &gt; sample-period &lt;value&gt;</code>.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>It is not recommended to change the sample-period.  Increasing the value reduces the resolution of the information collected.  Decreasing the value will create a greater computational load on the system. The software has been tuned to operate optimally at a sampling interval of 5 seconds.</p></div></div><ul><li>The full resolution of 5 second sampled data is kept for 1 hour.</li><li>Every five minutes, the sampled data is aggregated.  The 5 minute values are kept for a day.</li><li>Every hour the 5 minute values are aggregated.  The 1 hour values are kept for 6 months.</li><li>After 6 months, the data is purged from disk.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="in-memory-metrics"></a>In Memory Metrics<a aria-hidden="true" tabindex="-1" class="hash-link" href="#in-memory-metrics" title="Direct link to heading">#</a></h3><p>By default, not all metrics are persisted to disk and subject to downsampling. When executing <code>show stats</code> commands utilizing the <code>since</code> argument, the command will report that the requested data will be unavailable.</p><p>In-memory metrics can be configured so that only metrics matching a filter are persisted. For more information refer to <a href="/docs/config_in-memory_metrics">Configuring In-Memory Metrics</a>.</p><p>Care should be taken to avoid overloading the system with the metrics. Many metrics are currently in-memory because of the heavy load they introduce to the system if they were all persisted. </p><p>An Example of <code>show stats</code> command using a <code>since</code> argument is shown below:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node.router# show stats ipfix since 5:30</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-15 13:07:06 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">WARNING: Some metrics are not available historically. Their current values will be displayed.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Since: 2020-03-15 05:30:00</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">IPFIX Stats</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">======================= ======== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Metric                  Node     Value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">======================= ======== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> record-export-rate      sydney       0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> time-per-export         sydney       0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> time-per-session        sydney       0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> total-generation-time   sydney       0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> total-records           sydney       0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.06 seconds</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="session-establishment-metrics"></a>Session Establishment Metrics<a aria-hidden="true" tabindex="-1" class="hash-link" href="#session-establishment-metrics" title="Direct link to heading">#</a></h2><p>A key indicator of application performance is the time it takes to establish the TCP session between client and server.  This is effectively the time it takes to get to the first data packet between endpoints.  This metric is more telling than packet transmission rates because it is directional and end to end.  Importantly, this information can be used as a measure of SLA to influence path selection.</p><p>Session establishment metrics have been created and are gathered on a per service, per interface, per destination, per traffic-class basis.  This level of granularity provides surgically accurate information on how the network treatment and performance is impacting application behavior.  A capability that is unique only to the 128T router.</p><p>To add more context to the sessions traversing the 128T router, the newly added session establishment metrics detailed below will be collected in protocol based buckets <em>TCP</em>, <em>UDP</em>, <em>ICMP</em>, and <em>TLS</em>.  Each protocol has its own determination of what qualifications need to be met for a session to become <em>established</em>.  In turn there is protocol/application-specific handling of each of these, defined by what is considered <em>established</em>.  For the remainder of the document, the following definitions of establishment are implied per protocol:</p><ul><li><strong>TCP</strong> - session has seen an acknowledgement to the first packet after the TCP handshake that contains payload</li><li><strong>UDP</strong> - session has seen a packet in the reverse direction</li><li><strong>ICMP</strong> - session has seen a packet in the reverse direction</li><li><strong>TLS</strong> - session has seen an acknowledgement to the first packet after the TLS handshake that contains payload</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="time-to-establish"></a>Time to Establish<a aria-hidden="true" tabindex="-1" class="hash-link" href="#time-to-establish" title="Direct link to heading">#</a></h3><p>This is a grouping of 3 different metrics: min, max, and mean.  The time from session start to when it reaches the established state as defined above per-protocol.  The exception is for TLS, the start time will be at TCP establishment instead of session start.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tcp time-to-establishment</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:33:26 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">time-to-establishment</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">---------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">======== =========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Metric   Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">======== =========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> max      t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> min      t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.02 seconds</span></div></div></div></div></div><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tcp time-to-establishment max</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:39:12 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Maximum time to establishment</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.02 seconds</span></div></div></div></div></div><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tcp time-to-establishment min</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:39:25 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Minimum time to establishment</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.02 seconds</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="sessions-reached-establishment"></a>Sessions Reached Establishment<a aria-hidden="true" tabindex="-1" class="hash-link" href="#sessions-reached-establishment" title="Direct link to heading">#</a></h3><p>Counts of how many sessions reach the established state as defined per-protocol above.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tcp established</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:38:29 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">TCP sessions that were successfully established</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----------------------------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="sessions-timed-out-before-establishment"></a>Sessions Timed Out Before Establishment<a aria-hidden="true" tabindex="-1" class="hash-link" href="#sessions-timed-out-before-establishment" title="Direct link to heading">#</a></h3><p>Counts of how many sessions timed out without ever reaching establishment, as defined per-protocol above. The TLS bucket of this metric is incremented only when the TCP established state has been reached but before the TLS established state has been reached.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tcp timeout-before-establishment</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:40:21 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Timed out TCP sessions before establishment</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-------------------------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.02 seconds</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="destination-unreachable"></a>Destination Unreachable<a aria-hidden="true" tabindex="-1" class="hash-link" href="#destination-unreachable" title="Direct link to heading">#</a></h3><p>Counts of how many sessions could not complete because the destination was unreachable. This is determined by receipt of an ICMP destination unreachable for the session.</p><p>The below metrics don&#x27;t apply across all of the specified protocols/applications (UDP, ICMP, TCP, TLS) and will have the specific protocol/application name in the metric.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tcp unreachable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:41:06 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">TCP unreachable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">---------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.02 seconds</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="session-close-before-tcp-establishment"></a>Session Close Before TCP Establishment<a aria-hidden="true" tabindex="-1" class="hash-link" href="#session-close-before-tcp-establishment" title="Direct link to heading">#</a></h3><p>Counts the number of sessions that are closed by reset or fin before the session has finished the TCP handshake and data has been acknowledged.  This can be a server responding to a SYN with a reset or a proxy terminating a session it canâ€™t complete.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tcp close-before-establishment</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:41:56 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Closed TCP sessions before establishment</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">----------------------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.02 seconds</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="session-close-before-tls-establishment"></a>Session Close Before TLS Establishment<a aria-hidden="true" tabindex="-1" class="hash-link" href="#session-close-before-tls-establishment" title="Direct link to heading">#</a></h3><p>Counts the number of sessions that are closed by reset or fin after TCP establishment but before the session has finished the TLS handshake and data has been acknowledged.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tls close-before-establishment</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:42:30 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Closed TlS sessions before establishment</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">----------------------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.02 seconds</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="configuration"></a>Configuration<a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuration" title="Direct link to heading">#</a></h3><p>In order to begin collection of the metrics described above, a service-route must be configured to enable reachability-detection.</p><p>An example of enabled configuration is below:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">service-route</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  name                   service-agent1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  nat-target             1.2.3.4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  service-name           web</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  service-route-policy   sap1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  reachability-detection</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    enabled     true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  next-hop</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    node-name   slice1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    interface   intf1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    gateway-ip  1.1.1.2</span></div></div></div></div></div><p>In order to filter reachability by destination prefix by traffic class:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability destination-prefix 192.168.56.51 traffic-class best-effort</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:44:47 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Destination Reachability Statistics</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----------------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=================================== =========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Metric                              Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=================================== =========== ========= =================== ==================== =============== =======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> icmp established                    t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> icmp time-to-establishment max      t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> icmp time-to-establishment min      t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> icmp timeout-before-establishment   t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> icmp unreachable                    t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> tcp close-before-establishment      t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> tcp established                     t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> tcp time-to-establishment max       t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> tcp time-to-establishment min       t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> tcp timeout-before-establishment    t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> tcp unreachable                     t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> tls close-before-establishment      t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> tls established                     t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> tls time-to-establishment max       t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> tls time-to-establishment min       t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> tls timeout-before-establishment    t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> udp established                     t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> udp time-to-establishment max       t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> udp time-to-establishment min       t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> udp timeout-before-establishment    t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> udp unreachable                     t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.03 seconds</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-06-11T14:29:17.000Z" class="docLastUpdatedAt_217_">6/11/2021</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/concepts_metadata"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« 128T Metadata</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/concepts_machine_communication"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Intra- and Inter-System Communication Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#in-memory-metrics" class="table-of-contents__link">In Memory Metrics</a></li><li><a href="#session-establishment-metrics" class="table-of-contents__link">Session Establishment Metrics</a><ul><li><a href="#time-to-establish" class="table-of-contents__link">Time to Establish</a></li><li><a href="#sessions-reached-establishment" class="table-of-contents__link">Sessions Reached Establishment</a></li><li><a href="#sessions-timed-out-before-establishment" class="table-of-contents__link">Sessions Timed Out Before Establishment</a></li><li><a href="#destination-unreachable" class="table-of-contents__link">Destination Unreachable</a></li><li><a href="#session-close-before-tcp-establishment" class="table-of-contents__link">Session Close Before TCP Establishment</a></li><li><a href="#session-close-before-tls-establishment" class="table-of-contents__link">Session Close Before TLS Establishment</a></li><li><a href="#configuration" class="table-of-contents__link">Configuration</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center"><div>Copyright Â© 2021 Juniper Networks, Inc.</div></div></div></footer></div>
<script src="/styles.8ad87aab.js"></script>
<script src="/runtime~main.970ad584.js"></script>
<script src="/main.0c503f7c.js"></script>
<script src="/1.61452939.js"></script>
<script src="/2.105654ff.js"></script>
<script src="/163.543c7ee2.js"></script>
<script src="/166.5e0dff03.js"></script>
<script src="/935f2afb.9b6fafef.js"></script>
<script src="/17896441.5f0580f5.js"></script>
<script src="/79e69da7.7b4cbf37.js"></script>
</body>
</html>