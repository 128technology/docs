<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-concepts_metrics">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Metrics | SSN Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.128technology.com/docs/concepts_metrics"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Metrics | SSN Docs"><meta data-rh="true" name="description" content="When querying the STATS API, you will notice the resolution of the data changes over time.  This is due to the downsampling that occurs. Downsampling is performed to reduce the amount of data persisted to disk, ultimately purging the data from the system after a period of time."><meta data-rh="true" property="og:description" content="When querying the STATS API, you will notice the resolution of the data changes over time.  This is due to the downsampling that occurs. Downsampling is performed to reduce the amount of data persisted to disk, ultimately purging the data from the system after a period of time."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.128technology.com/docs/concepts_metrics"><link data-rh="true" rel="alternate" href="https://docs.128technology.com/docs/concepts_metrics" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.128technology.com/docs/concepts_metrics" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.8e1fdc51.css">
<link rel="preload" href="/assets/js/runtime~main.41be6dcc.js" as="script">
<link rel="preload" href="/assets/js/main.b544d844.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Juniper Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo_dark.png" alt="Juniper Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro_getting_started">Docs</a><a href="https://community.juniper.net/answers/communities/community-home?CommunityKey=310d1a41-12fa-4627-9a99-880145a7c87c" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.juniper.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Company<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/about_128t">About</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_getting_started">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_system_reqs">Deployment Considerations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_installation">Installation Process</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/install_conductor_overview">Conductor Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_installation_bootable_media">Router Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_installation_image">Image-Based Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/supported_cloud_platforms">Cloud Installations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_upgrade_considerations">Upgrades and Rollback</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_installation_installer">Supporting Install Information - Appendix</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/concepts_application_discovery">Concepts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_application_discovery">Application Discovery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_appid">Application Identification</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_EthOverSVR">Ethernet Over Secure Vector Routing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_ha_theoryofoperation">HA - Theory of Operation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_interface_types">Interface Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_kni">Kernel Network Interfaces</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_linux_host_networking">Linux Host Networking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_learning_VRF_routes">Learning VRF Routes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_network_planes">Forwarding Planes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_metadata">SSR Metadata</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/concepts_metrics">Metrics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_machine_communication">Machine Communication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_pcli">PCLI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_session_timer">Session Timers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_STEP">Service and Topology Exchange Protocol (STEP)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_waypoint_ports">Waypoints</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts_glossary">Glossary</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/wan_overview">WAN Assurance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/config_basics">Administration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/events_overview">Events</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/bcp_att_avpn_configuration">Best Practices</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/cli_reference">CLI and Element Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/installer_cli_reference">Installer/Initializer Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/plugin_intro">Plugins</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/release_notes_128t_6.1">Release Notes</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Concepts</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Metrics</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Metrics</h1></header><p>When querying the <code>STATS</code> API, you will notice the resolution of the data changes over time.  This is due to the downsampling that occurs. Downsampling is performed to reduce the amount of data persisted to disk, ultimately purging the data from the system after a period of time.</p><p>The system samples data every 5 seconds. The sampling interval is configurable under <code>authority &gt; router &gt; system &gt; metrics &gt; sample-period &lt;value&gt;</code>.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>It is not recommended to change the sample-period. Increasing the value reduces the resolution of the information collected. Decreasing the value creates a greater computational load on the system. The software has been tuned to operate optimally at a sampling interval of 5 seconds.</p></div></div><ul><li>The full resolution of 5 second sampled data is kept for 1 hour.</li><li>Every five minutes, the sampled data is aggregated. The 5 minute values are kept for a day.</li><li>Every hour the 5 minute values are aggregated. The 1 hour values are kept for 6 months.</li><li>After 6 months, the data is purged from disk.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="in-memory-metrics">In Memory Metrics<a href="#in-memory-metrics" class="hash-link" aria-label="Direct link to In Memory Metrics" title="Direct link to In Memory Metrics">​</a></h3><p>By default, not all metrics are persisted to disk and subject to downsampling. When executing <code>show stats</code> commands utilizing the <code>since</code> argument, the command reports that the requested data is unavailable.</p><p>To view in-memory metrics, create a Metrics Profile containing the specific metrics to be collected and persisted. For information about creating a Metrics Profile to collect your metrics, see <a href="/docs/config_in-memory_metrics">Configuring In-Memory Metrics</a>.</p><p>Care should be taken to avoid overloading the system with the metrics. Many metrics are currently in-memory because of the heavy load they introduce to the system if they were all persisted. </p><p>An Example of <code>show stats</code> command using a <code>since</code> argument is shown below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node.router# show stats ipfix since 5:30</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-15 13:07:06 UTC</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">WARNING: Some metrics are not available historically. Their current values will be displayed.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Since: 2020-03-15 05:30:00</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">IPFIX Stats</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-----------</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">======================= ======== =======</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Metric                  Node     Value</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">======================= ======== =======</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> record-export-rate      sydney       0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> time-per-export         sydney       0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> time-per-session        sydney       0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> total-generation-time   sydney       0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> total-records           sydney       0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.06 seconds</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="session-establishment-metrics">Session Establishment Metrics<a href="#session-establishment-metrics" class="hash-link" aria-label="Direct link to Session Establishment Metrics" title="Direct link to Session Establishment Metrics">​</a></h2><p>A key indicator of application performance is the time it takes to establish the TCP session between client and server. This is effectively the time it takes to get to the first data packet between endpoints. This metric is more telling than packet transmission rates because it is directional and end to end. Importantly, this information can be used as a measure of SLA to influence path selection.</p><p>Session establishment metrics have been created and are gathered on a per service, per interface, per destination, per traffic-class basis. This level of granularity provides surgically accurate information on how the network treatment and performance is impacting application behavior. A capability that is unique only to the SSR router.</p><p>To add more context to the sessions traversing the SSR router, the newly added session establishment metrics detailed below are collected in protocol based buckets <em>TCP</em>, <em>UDP</em>, <em>ICMP</em>, and <em>TLS</em>. Each protocol has its own determination of what qualifications need to be met for a session to become <em>established</em>. In turn there is protocol/application-specific handling of each of these, defined by what is considered <em>established</em>.  For the remainder of the document, the following definitions of establishment are implied per protocol:</p><ul><li><strong>TCP</strong> - session has seen an acknowledgement to the first packet after the TCP handshake that contains payload</li><li><strong>UDP</strong> - session has seen a packet in the reverse direction</li><li><strong>ICMP</strong> - session has seen a packet in the reverse direction</li><li><strong>TLS</strong> - session has seen an acknowledgement to the first packet after the TLS handshake that contains payload</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="time-to-establish">Time to Establish<a href="#time-to-establish" class="hash-link" aria-label="Direct link to Time to Establish" title="Direct link to Time to Establish">​</a></h3><p>This is a grouping of 3 different metrics: min, max, and mean. The time from session start to when it reaches the established state as defined above per-protocol. The exception is for TLS, the start time is at TCP establishment instead of session start.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tcp time-to-establishment</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:33:26 UTC</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">time-to-establishment</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">---------------------</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">======== =========== ========= =================== ==================== =============== =======</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Metric   Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">======== =========== ========= =================== ==================== =============== =======</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> max      t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> min      t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.02 seconds</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tcp time-to-establishment max</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:39:12 UTC</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Maximum time to establishment</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-----------------------------</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.02 seconds</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tcp time-to-establishment min</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:39:25 UTC</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Minimum time to establishment</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-----------------------------</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.02 seconds</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sessions-reached-establishment">Sessions Reached Establishment<a href="#sessions-reached-establishment" class="hash-link" aria-label="Direct link to Sessions Reached Establishment" title="Direct link to Sessions Reached Establishment">​</a></h3><p>Counts of how many sessions reach the established state as defined per-protocol above.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tcp established</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:38:29 UTC</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">TCP sessions that were successfully established</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-----------------------------------------------</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sessions-timed-out-before-establishment">Sessions Timed Out Before Establishment<a href="#sessions-timed-out-before-establishment" class="hash-link" aria-label="Direct link to Sessions Timed Out Before Establishment" title="Direct link to Sessions Timed Out Before Establishment">​</a></h3><p>Counts of how many sessions timed out without reaching establishment, as defined per-protocol above. The TLS bucket of this metric is incremented only when the TCP established state has been reached but before the TLS established state has been reached.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tcp timeout-before-establishment</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:40:21 UTC</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Timed out TCP sessions before establishment</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-------------------------------------------</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.02 seconds</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="destination-unreachable">Destination Unreachable<a href="#destination-unreachable" class="hash-link" aria-label="Direct link to Destination Unreachable" title="Direct link to Destination Unreachable">​</a></h3><p>Counts of how many sessions could not complete because the destination was unreachable. This is determined by receipt of an ICMP destination unreachable for the session.</p><p>The below metrics do not apply across all of the specified protocols/applications (UDP, ICMP, TCP, TLS) and have the specific protocol/application name in the metric.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tcp unreachable</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:41:06 UTC</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">TCP unreachable</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">---------------</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.02 seconds</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="session-close-before-tcp-establishment">Session Close Before TCP Establishment<a href="#session-close-before-tcp-establishment" class="hash-link" aria-label="Direct link to Session Close Before TCP Establishment" title="Direct link to Session Close Before TCP Establishment">​</a></h3><p>Counts the number of sessions closed by reset or fin before the session has finished the TCP handshake and data has been acknowledged. This can be a server responding to a SYN with a reset or a proxy terminating a session it cannot complete.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tcp close-before-establishment</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:41:56 UTC</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Closed TCP sessions before establishment</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">----------------------------------------</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.02 seconds</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="session-close-before-tls-establishment">Session Close Before TLS Establishment<a href="#session-close-before-tls-establishment" class="hash-link" aria-label="Direct link to Session Close Before TLS Establishment" title="Direct link to Session Close Before TLS Establishment">​</a></h3><p>Counts the number of sessions that are closed by reset or fin after TCP establishment but before the session has finished the TLS handshake and data has been acknowledged.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability tls close-before-establishment</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:42:30 UTC</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Closed TlS sessions before establishment</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">----------------------------------------</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">=========== ========= =================== ==================== =============== =======</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        high                0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        low                 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> t116-dut1   foo       controlKniIf        192.168.56.51        medium              0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.02 seconds</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration">​</a></h3><p>In order to begin collection of the metrics described above, a service-route must be configured to enable reachability-detection.</p><p>Example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">service-route</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  name                   service-agent1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  nat-target             1.2.3.4</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  service-name           web</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  service-route-policy   sap1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  reachability-detection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    enabled     true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  next-hop</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    node-name   slice1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    interface   intf1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    gateway-ip  1.1.1.2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In order to filter reachability by destination prefix by traffic class:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@t116-dut1.t116# show stats highway destination-reachability destination-prefix 192.168.56.51 traffic-class best-effort</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Tue 2020-03-31 20:44:47 UTC</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Retrieving statistics...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Destination Reachability Statistics</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-----------------------------------</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">=================================== =========== ========= =================== ==================== =============== =======</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Metric                              Node        Service   Network-interface   Destination-prefix   Traffic-class   Value</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">=================================== =========== ========= =================== ==================== =============== =======</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> icmp established                    t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> icmp time-to-establishment max      t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> icmp time-to-establishment min      t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> icmp timeout-before-establishment   t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> icmp unreachable                    t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> tcp close-before-establishment      t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> tcp established                     t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> tcp time-to-establishment max       t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> tcp time-to-establishment min       t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> tcp timeout-before-establishment    t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> tcp unreachable                     t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> tls close-before-establishment      t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> tls established                     t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> tls time-to-establishment max       t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> tls time-to-establishment min       t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> tls timeout-before-establishment    t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> udp established                     t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> udp time-to-establishment max       t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> udp time-to-establishment min       t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> udp timeout-before-establishment    t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> udp unreachable                     t116-dut1   foo       controlKniIf        192.168.56.51        best-effort         0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.03 seconds</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-10-12T13:09:37.000Z">Oct 12, 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/concepts_metadata"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">SSR Metadata</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/concepts_machine_communication"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Machine Communication</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#in-memory-metrics" class="table-of-contents__link toc-highlight">In Memory Metrics</a></li><li><a href="#session-establishment-metrics" class="table-of-contents__link toc-highlight">Session Establishment Metrics</a><ul><li><a href="#time-to-establish" class="table-of-contents__link toc-highlight">Time to Establish</a></li><li><a href="#sessions-reached-establishment" class="table-of-contents__link toc-highlight">Sessions Reached Establishment</a></li><li><a href="#sessions-timed-out-before-establishment" class="table-of-contents__link toc-highlight">Sessions Timed Out Before Establishment</a></li><li><a href="#destination-unreachable" class="table-of-contents__link toc-highlight">Destination Unreachable</a></li><li><a href="#session-close-before-tcp-establishment" class="table-of-contents__link toc-highlight">Session Close Before TCP Establishment</a></li><li><a href="#session-close-before-tls-establishment" class="table-of-contents__link toc-highlight">Session Close Before TLS Establishment</a></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Juniper Networks, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.41be6dcc.js"></script>
<script src="/assets/js/main.b544d844.js"></script>
</body>
</html>