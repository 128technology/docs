<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.ff31de0ff">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="128T Docs Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="128T Docs Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-167298415-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="128T Docs" href="/opensearch.xml"><title data-react-helmet="true">Configuring BGP | 128T Docs</title><meta data-react-helmet="true" property="og:url" content="https://docs.128technology.com/docs/config_bgp"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Configuring BGP | 128T Docs"><meta data-react-helmet="true" name="description" content="The Border Gateway Protocol (BGP) is a standard exterior gateway protocol developed for exchanging routing and reachability information between Autonomous Systems, a collection of IP routing prefixes managed by a single administrative entity. BGP makes routing decisions based on paths and network policies; although historically mainly seen in service provider networks, it is now gaining acceptance in large enterprise networks. BGP can also be used for routing within an autonomous system as an interior gateway protocol; when doing so it is referred to as iBGP."><meta data-react-helmet="true" property="og:description" content="The Border Gateway Protocol (BGP) is a standard exterior gateway protocol developed for exchanging routing and reachability information between Autonomous Systems, a collection of IP routing prefixes managed by a single administrative entity. BGP makes routing decisions based on paths and network policies; although historically mainly seen in service provider networks, it is now gaining acceptance in large enterprise networks. BGP can also be used for routing within an autonomous system as an interior gateway protocol; when doing so it is referred to as iBGP."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.128technology.com/docs/config_bgp"><link data-react-helmet="true" rel="alternate" href="https://docs.128technology.com/docs/config_bgp" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.128technology.com/docs/config_bgp" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.b920482b.css">
<link rel="preload" href="/assets/js/runtime~main.33f8bf14.js" as="script">
<link rel="preload" href="/assets/js/main.08b9ae3e.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Juniper Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/logo_dark.png" alt="Juniper Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Session Smart</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro_getting_started">Docs</a><a href="https://community.128technology.com/home" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Interchange</a><a href="https://www.128technology.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Company</a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Juniper Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/logo_dark.png" alt="Juniper Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Session Smart</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/intro_getting_started">Docs</a></li><li class="menu__list-item"><a href="https://community.128technology.com/home" target="_blank" rel="noopener noreferrer" class="menu__link">Interchange</a></li><li class="menu__list-item"><a href="https://www.128technology.com/" target="_blank" rel="noopener noreferrer" class="menu__link">Company</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><div class="docSidebarContainer_0YBq" role="complementary"><div class="sidebar_a3j0"><div class="menu menu--responsive thin-scrollbar menu_cyFh"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_iZzd" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">About</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_128t">128T</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_svr_savings">Secure Vector Routing Savings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_releases">128T Releases</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_support_policy">Software Support Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_supported_platforms">Platform Support Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_supported_drivers">Supported NICs and Drivers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_certified_platforms">Certified Plus Platforms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_security_policy">Security Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_services_description">Services Description</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/CONTRIBUTING">Contributing</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_getting_started">Getting Started with the 128T Networking Platform</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Deployment Considerations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_system_reqs">System Requirements</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Installation Process</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation">Installation Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_downloading_iso">Downloading ISOs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_creating_bootable_usb">Creating Bootable USB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_bootable_media">Conductor Interactive Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_basic_conductor_config">Configure the Conductor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_basic_router_config">Basic Router Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_otp_iso_install">Router Installation Using OTP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_install_quickstart_otpiso">QuickStart from the OTP ISO</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Cloud Installations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_aws">Installing from the AWS Marketplace</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_quickstart_aws">QuickStart Installation in AWS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_azure">Installing in Azure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_initialize_HA_conductor">Conductor High Availability for Cloud Deployments</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Supporting Information - Appendix</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_installer">Manually Installing the 128T</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/legacy_OTP_install">Installing Using the Pre-5.0 Interactive ISO</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_upgrade_considerations">Upgrade Considerations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_upgrading">Upgrading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_rollback">Rollback</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_application_discovery">Application Discovery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_appid">Application Identification</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_EthOverSVR">Ethernet Over Secure Vector Routing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_ha_theoryofoperation">HA - Theory of Operation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_interface_types">Interface Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_kni">Kernel Network Interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_linux_host_networking">Linux Host Networking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_learning_VRF_routes">Learning VRF Routes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_network_planes">Forwarding Planes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_metadata">128T Metadata</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_metrics">Metrics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_machine_communication">Machine Communication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_pcli">PCLI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_session_timer">Session Timers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_STEP">Service and Topology Exchange Protocol (STEP)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_waypoint_ports">Waypoints</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_glossary">Data Model</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Administration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Configuration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_basics">Configuration Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_access_mgmt">Access Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_asset_connection_resiliency">Asset Connection Resiliency</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/config_bgp">Configuring BGP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_ospf">OSPF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_dscp_steering">Configuring DSCP Steering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_vrf_learning">VRF Learning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_reference_guide">Element Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_audit_event">Audit Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_dhcp">DHCP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_dns_proxy">DNS Proxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_ldap">LDAP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_management_over_forwarding">Management over Forwarding</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_domain-based_web_filter">Configuring Domain-based Web Filtering/Routing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_EthoSVR">Configuring Ethernet Over Secure Vector Routing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_flow_perf_mon">Inline Flow Performance Monitoring</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_gre_tunnel">Native GRE Tunnels</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_in-memory_metrics">In-Memory Metrics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_nat">NAT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_rate_limiting">Rate Limiting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_RBAC">Configuring Role-Based Access Control</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_service_health">Service Health Learning and Fault Avoidance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_snmp">SNMP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_snmp_metrics">SNMP: User defined metrics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_static_hostname_mapping">Static Hostname Mappings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_STEP">Configuring Service and Topology Exchange Protocol (STEP)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_tenants">Tenants</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_templates">Configuration Templates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_transport_encryption">Transport Based Encryption</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_wan_assurance">Configuring WAN Assurance</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">High Availability</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_ha">Dual Node High Availability</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_dual_router_ha">Dual Router High Availability using iBGP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_ha_vrrp">Dual Router High Availability and VRRP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_non_forwarding_ha_interfaces">Non-forwarding HA Interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_adding_interfaces_to_ha_team">Adding Interfaces to HA Team Interface</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_transition_standalone_to_ha">Transitioning a Conductor from Standalone to HA</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Security</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sec_adaptive_encrypt">Adaptive Encryption</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">How To</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_conductor_migration">Conductor Migration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_extend_gui_nav">Extending GUI Nav</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_lte">LTE and Dual LTE Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_config_PPPoE">Configuring Dual PPPoE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_maintenance_mode">Maintenance Mode</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_ms365">Microsoft 365</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_trusted_ca_certificate">Adding a Trusted Certificate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_tune_bfd">Tuning BFD</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Troubleshooting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_applications">Application Troubleshooting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_ap_duplicate_assets">AP: Duplicate Asset ID Error</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_ap_salt_minion">AP: Salt Minion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_cpu_spikes">CPU Spikes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_connecting_to_routers">Connecting to Routers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_forwarding_resource_pools">Forwarding Plane Resource Pools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_logs">Logs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_mac_uniqueness">MAC Address Uniqueness</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_packet_capture">Packet Capture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_t1_troubleshooting">T1 Troubleshooting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_troubleshooting_vrf">Troubleshooting VRF</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Events</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/events_overview">Alarm and Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/events_alarms">Alarms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/events_events">Events</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Best Practices</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_att_avpn_configuration">AT&amp;T AVPN Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_using_128T_as_ntp_server">Branch NTP Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_conductor_deployment">Conductor Deployment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_per-adjacency_traffic_engineering">Per Adjacency Traffic Engineering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_qos_msft_expressroute">ExpressRoute QoS Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_lte_peering">LTE Peering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_monitoring_headends">Monitoring Head End Routers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_salt_pillars">Saltstack at Scale With 128T</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_sdwan_design_guide">SD-WAN Design Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_service_and_service_policy_design">Service and Service Policy Design</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_service-policy_defaults">Service Policy Baseline Defaults</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_tenants">Tenancy Design</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">CLI Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli_reference">Command Line Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli_stats_reference">Show Stats Reference</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Installer/Initializer Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/installer_cli_reference">Installer Command Line Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/installer_preferences">Installer Preferences File Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/initializer_cli_reference">Initializer Command Line Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/initializer_preferences">Initializer Preferences File Reference</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Plugins</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_aws_tgw_connect">AWS Transit Gateway Connect</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_bgp_community_services">BGP Community Services</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_cloud_ha">Cloud HA</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_dns_app_id">DNS App Id</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_dns_cache">DNS Cache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_gre">GRE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_ha_sync_redundancy">HA Sync Redundancy Plugin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_http_probe">HTTP Probe Reachability Detection</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_icmp_reachability_detection">ICMP Reachability Detection</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_ipsec_client">IPsec Client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_loopback_static_routes">Loopback Static Routes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_m800_watchdog">M800 Watchdog</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_monitoring_agent">Monitoring Agent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_mosh">Mosh</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_set_hostname">Set Hostname</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_sip_alg">SIP ALG</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_wireguard">Wireguard</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_kni_namespace_scripts">KNI Namespace Scripts</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">REST APIs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api_rest_4.2.0">128T-4.2.0</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Release Notes</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">SSR</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_5.4">5.4</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_5.3">5.3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_5.2">5.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_5.1">5.1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_5.0">5.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.5">4.5</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.4">4.4</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.3">4.3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.2">4.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.1">4.1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.0">4.0</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">SSR Installer</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_3.1">3.1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_3.0">3.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.7">2.7</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.6">2.6</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.5">2.5</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.4">2.4</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.3">2.3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.2">2.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.1">2.1</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_r8cw"><div class="container padding-vert--lg docItemWrapper_NJLN"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><header><h1 class="docTitle_-X99">Configuring BGP</h1></header><div class="markdown"><p>The Border Gateway Protocol (BGP) is a standard exterior gateway protocol developed for exchanging routing and reachability information between Autonomous Systems, a collection of IP routing prefixes managed by a single administrative entity. BGP makes routing decisions based on paths and network policies; although historically mainly seen in service provider networks, it is now gaining acceptance in large enterprise networks. BGP can also be used for routing within an autonomous system as an interior gateway protocol; when doing so it is referred to as iBGP.</p><p>Learning routes from BGP simplifies enterprise configuration and integration with Secure Vector Routing. In this configuration guide we will also discuss a 128T-specific feature referred to as &quot;BGP over SVR&quot; (or BGPoSVR), which combines the power of Secure Vector Routing with the rich feature set of the BGP protocol.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="prerequisites"></a>Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">#</a></h3><p>This section presumes that the reader has a running 128T system and wants to add configuration to support BGP. The running 128T system should already include configuration for basic platform functionality (e.g., <code>router</code>, <code>node</code>, <code>device-interface</code>, <code>network-interface</code>) and basic 128T modeling configuration (e.g., tenants, services, etc.). Refer to the <a href="/docs/config_reference_guide">Element Reference</a> section of our documentation for a better understanding about basics of the 128T data model.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="peering-with-non-128t-routers"></a>Peering with non-128T Routers<a class="hash-link" href="#peering-with-non-128t-routers" title="Direct link to heading">#</a></h3><p>The BGP configuration exists in the <a href="/docs/config_reference_guide#routing"><code>routing</code></a> configuration container within the 128T data model. For any routing configuration, static or dynamic, a default routing instance called <code>default-instance</code> must be defined in the 128T configuration.</p><p>In this example we will assume that BGP is configured on the peering router with IP address 1.1.1.1, as autonomous system number (ASN) 6000. </p><ol><li>To peer the 128T router with this router, configure BGP on our 128T using the following commands:</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1# config auth</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (authority)# router seattlesite1 </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (router[name=seattlesite1])# routing default-instance</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Every 128T router (in this case, the router named <code>seattlesite1</code>), contains all of its legacy routing protocol information within the <code>default-instance</code> routing container.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (routing[type=default-instance])# routing-protocol bgp</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><ol start="2"><li>Enter into the BGP portion of the routing configuration model; set the local autonomous system number to 100, and set the router ID to 1.1.1.128.</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (routing-protocol[type=bgp])# local-as 100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (routing-protocol[type=bgp])# router-id 1.1.1.128</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><ol start="3"><li>Configure the <code>address-family</code> using <code>ipv4-unicast</code>. At least one <code>address-family</code>must be configured, and typically is set as <code>ipv4-unicast</code>. If your deployment uses other address families (e.g., IPv6) or routes multicast, you may also need to configure support for other address families.</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (routing-protocol[type=bgp])# address-family ipv4-unicast</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (address-family[afi-safi=ipv4-unicast])# exit</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Address families are also sometimes referred to as &quot;AFI-SAFI&quot; (pronounced &quot;affy-saffy&quot;), which is an Address Family Indicator plus Sub-Address Family Indicator. </p><ol start="4"><li>Configure the <code>neighbor</code>. In the example here, we&#x27;ve identified its IP address as <code>1.1.1.1</code> and its ASN as 6000. (Because this neighbor has a different ASN than the 128T, the 128T will recognize it as an eBGP peer rather than an iBGP peer.) An <code>address-family</code> of <code>ipv4-unicast</code>, lets the 128T know to exchange IPv4 unicast routes with the peer.</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (routing-protocol[type=bgp])# neighbor 1.1.1.1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (neighbor[neighbor-address=1.1.1.1])# neighbor-as 6000</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (neighbor[neighbor-address=1.1.1.1])# address-family ipv4-unicast</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (address-family[afi-safi=ipv4-unicast])# next-hop-self true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (address-family[afi-safi=ipv4-unicast])#exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (neighbor[neighbor-address=1.1.1.1])# exit</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><ol start="5"><li>Set <code>next-hop-self</code> to <code>true.</code> During advertisement, non-directly connected routers need to learn how to reach an advertised route. To provide this information to the non-directly connected (as well as iBGP peers), next-hop-self command is used. This will cause the 128T to rewrite the <code>next-hop</code> information in the routes it advertises to this peer to be its own address.</li></ol><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>In the example above, we&#x27;ve set our router&#x27;s AS to 100. This will apply to all neighbors as the &quot;default&quot; AS it will advertise. You can override this on a per-neighbor basis by setting <code>local-as</code> within the <code>neighbor</code> configuration to a different value. However, <em>you must not configure the same value within the neighbor as you&#x27;ve already set in your global configuration</em>. This may cause issues when attempting to establish a peering relationship.</p></div></div><ol start="6"><li>Use the <code>exit</code> command several times to return to the <code>routing-protocol</code> level of the configuration hierarchy, and issue the <code>show</code> command. Your configuration should look something like this:</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (routing-protocol[type=bgp])# show</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">type bgp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">local-as 100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">router-id 1.1.1.128</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">address-family  ipv4-unicast</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    afi-safi  ipv4-unicast</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">neighbor        1.1.1.1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    neighbor-address  1.1.1.1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    neighbor-as       6000</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    shutdown          false</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    address-family    ipv4-unicast</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        afi-safi      ipv4-unicast</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        next-hop-self true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="advertising-routes"></a>Advertising Routes<a class="hash-link" href="#advertising-routes" title="Direct link to heading">#</a></h3><p>There are two ways to advertise routes into BGP:</p><ul><li>Using <code>network</code> statements to identify the prefixes you want to advertise</li><li>Redistributing routes learned through other IGP or from configuration</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="using-the-network-statement"></a>Using the <code>network</code> Statement<a class="hash-link" href="#using-the-network-statement" title="Direct link to heading">#</a></h4><p>To advertise routes to BGP, configure the network to be advertised under the address-family of the router. You may also apply a policy to the advertised route using  					 					 					command.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>You can apply policies to these routes (i.e., policy and filters) individually. Policies are configured within the authority-level <code>routing</code> configuration at <code>config &gt; authority &gt; routing &gt; filter</code> and <code>config &gt; authority &gt; routing &gt; policy</code>. For more information, refer to the section in our documentation on Filters and Policies.</p></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">**admin@branchoffice1.seattlesite1# config auth admin@branchoffice1.seattlesite1 (authority)# router seattlesite1 admin@branchoffice1.seattlesite1 (router[name=seattlesite1])# routing default-instance</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> admin@branchoffice1.seattlesite1 (routing[type=default-instance])# routing-protocol bgp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> admin@branchoffice1.seattlesite1 (routing-protocol[type=bgp])# address- family ipv4-unicast</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> admin@branchoffice1.seattlesite1 (address-family[afi-safi=ipv4-unicast])# network 172.16.255.0/30</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> admin@branchoffice1.seattlesite1 (network[network- address=172.16.255.0/30])# policy allow</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> admin@branchoffice1.seattlesite1 (network[network- address=172.16.255.0/30])# exit**</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>In this example we&#x27;re advertising the CIDR <code>172.16.255.0/30</code>, and it will use the global route policy named <code>allow</code> (not shown).</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="redistributing-routes"></a>Redistributing Routes<a class="hash-link" href="#redistributing-routes" title="Direct link to heading">#</a></h4><p>To redistribute connected, static, service routes and/or routes learned through OSPF, you can use the <code>redistribute</code> configuration.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1# config auth admin@branchoffice1.seattlesite1 (authority)# router seattlesite1 admin@branchoffice1.seattlesite1 (router[name=seattlesite1])# routing default-instance</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (routing[type=default-instance])# routing-protocol bgp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (routing-protocol[type=bgp])# redistribute connected</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="bgp-over-svr-bgposvr"></a>BGP over SVR (BGPoSVR)<a class="hash-link" href="#bgp-over-svr-bgposvr" title="Direct link to heading">#</a></h2><p>Use BGP over SVR when peering with a 128T to gain the benefit of Secure Vector Routing for all BGP traffic flowing to-and-from the 128T peers. </p><p>This procedure assumes that the 128T system is configured for basic platform functionality. Refer to the configuration example below for context.</p><p>To configure BGP over SVR:</p><ol><li>Configure a <em>routing interface</em>. This is similar to a loopback interface on traditional routers.
Unlike normal loopback BGP peering, this IP address does not need to be routable on the transport network because it will never see the wire. BGP peering is created on this interface. The conductor triggers on this and autogenerates the following components to activate BGP over SVR:</li></ol><ul><li><em>bgp_speaker</em> tenant</li><li>Auto-generated BGP services and service routes</li><li>Router Peers</li></ul><p>These BGP connections are protected by SVR, and able to migrate between SVR paths.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>You must use a conductor to configure BGP over SVR; manually configuring the various pieces between two routers is not supported.</p></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>If the interface facing the BGPoSVR peer is already part of a neighborhood, then ensure that the two routers&#x27; interface topology types (<code>network-interface &gt;neighborhood &gt; topology</code>) are configured allowing the routers to form peering relationships for the auto-generated peer service routes; e.g., mesh-mesh, mesh-hub, mesh-spoke or hub-spoke.</p></div></div><ol start="2"><li><p>Configure a BGP instance with the router’s local AS and a router-id that matches the routing interface&#x27;s IP. For each BGP over SVR peer, use a neighbor address of the neighbor&#x27;s routing interface IP address. </p></li><li><p>Configure the BGP peer configuration options such as the timers and address families. In address-family IPv4-unicast, <code>next-hop-self</code> must be set to <code>true</code>.</p></li></ol><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>When configuring BGPoSVR with an eBGP peer, you must set <code>multihop ttl</code> to at least <code>2</code>.</p></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="configuration-example"></a>Configuration Example:<a class="hash-link" href="#configuration-example" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    router myRouter</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        routing default-instance</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            type default-instance</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            interface rtg-int</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                name rtg-int</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                ip-address &lt;myAddress&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            routing-protocol bgp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                type bgp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                local-as 100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                router-id &lt;myAddress&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                neighbor &lt;theirAddress&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                neighbor-as 200</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                timers</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    hold-time 9</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    keepalive-interval 3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                address-family ipv4-unicast</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    afi-safi ipv4-unicast</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    next-hop-self true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                transport</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    local-address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        routing-interface rtg-int</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                multihop</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    ttl 255</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="sample-configuration"></a>Sample Configuration:<a class="hash-link" href="#sample-configuration" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1# config auth admin@branchoffice1.seattlesite1 (authority)# router seattlesite1 admin@branchoffice1.seattlesite1 (router[name=seattlesite1])# routing default-instance</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (routing[type=default-instance])# interface bgp-int-seattle</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (interface[name=bgp-int-seattle])# ip- address 10.128.128.2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (interface[name=bgp-int-seattle])# exit admin@branchoffice1.seattlesite1 (routing[type=default-instance])# routing- protocol bgp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (routing-protocol[type=bgp])# local-as 100 admin@branchoffice1.seattlesite1 (routing-protocol[type=bgp])# router-id 10.128.128.2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (routing-protocol[type=bgp])# address- family ipv4-unicast</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (address-family[afi-safi=ipv4-unicast])# exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (routing-protocol[type=bgp])# neighbor 10.128.128.1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (neighbor[neighbor-address=10.128.128.1])# neighbor-as 300</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (neighbor[neighbor-address=10.128.128.1])# address-family ipv4-unicast</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (address-family[afi-safi=ipv4-unicast])# next-hop-self true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (address-family[afi-safi=ipv4-unicast])# exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (neighbor[neighbor-address=10.128.128.1])# transport</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (transport)# local-address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (local-address)# routing-interface bgp-int-seattle</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (local-address)# exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (transport)# exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (neighbor[neighbor-address=10.128.128.1])# multihop</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (multihop)# ttl 255</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (multihop)# exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (neighbor[neighbor-address=10.128.128.1])# exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (routing-protocol[type=bgp])# exit admin@branchoffice1.seattlesite1 (routing[type=default-instance])# exit admin@branchoffice1.seattlesite1 (router[name=seattlesite1])# exit admin@branchoffice1.seattlesite1 (authority)# exit admin@branchoffice1.seattlesite1#</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="verifying-the-bgp-configuration"></a>Verifying the BGP Configuration<a class="hash-link" href="#verifying-the-bgp-configuration" title="Direct link to heading">#</a></h3><p>Use <code>show bgp</code> to see the overview of the BGP routing process on the 128T:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1# show bgp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Wed 2019-02-20 23:14:58 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">BGP table version is 12, local router ID is 10.128.128.2, vrf id 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">               i internal, r RIB-failure, S Stale, R Removed</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Nexthop codes: @NNN nexthop&#x27;s vrf id, &lt; announce-nh-self</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Origin codes:  i - IGP, e - EGP, ? - incomplete</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Network          Next Hop            Metric LocPrf Weight Path</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   10.128.128.2/32  10.128.128.3                           0 200 300 ?</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   10.128.128.3/32  10.128.128.3                           0 200 300 ?</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   128.128.128.1/32 10.128.128.3                           0 200 300 ?</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   128.128.128.128/32</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    10.128.128.3                           0 200 300 ?</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   172.16.128.2/32  10.128.128.3                           0 200 300 ?</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   172.16.255.0/30  0.0.0.0                  0         32768 i</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   172.26.128.0/30  10.128.128.3                           0 200 300 i</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Displayed  7 routes and 7 total paths</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>In addition to the output from <code>show bgp</code>, the contributions to the RIB from BGP are visible in the output of <code>show rib</code>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1# show rib</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Wed 2019-02-20 23:04:20 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Codes: K - kernel route, C - connected, S - static, R - RIP,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       O - OSPF, I - IS-IS, B - BGP, P - PIM, T - Table, v - VNC,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       V - VNC-Direct,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       &gt; - selected route, * - FIB route</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">B   1.1.1.0/24 [20/0] via 1.1.1.1 inactive, 22:28:18</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">C&gt;* 1.1.1.0/24 is directly connected, g4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">B&gt;* 2.2.2.0/24 [20/0] via 1.1.1.1, g4, 22:28:18</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">B&gt;* 3.3.3.0/24 [20/0] via 1.1.1.1, g4, 22:28:18</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">C&gt;* 10.0.128.0/31 is directly connected, g1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">K&gt;* 128.128.128.1/32 is directly connected, Null0, bh</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">K&gt;* 128.128.128.128/32 is directly connected, Null0, bh</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">C&gt;* 169.254.127.126/31 is directly connected, g4294967294</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">S&gt;* 172.16.128.2/32 [1/0] via 10.0.128.1, g1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">K   172.16.128.2/32 is directly connected, Null0, bh</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">K&gt;* 172.26.128.2/32 is directly connected, Null0, bh</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">C&gt;* 192.168.64.0/24 is directly connected, g2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.09 seconds</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1#</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>As shown in the header, the routes that start with <strong>B</strong> are contributed by BGP.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="vrf-bgp-over-svr"></a>VRF BGP Over SVR<a class="hash-link" href="#vrf-bgp-over-svr" title="Direct link to heading">#</a></h2><p>The establishment of a BGP session over SVR is achieved by the conductor auto-generating the necessary services and service-routes. The introduction of the VRF feature allows for configuring BGP instances within a VRF, and establishing BGP sessions with neighbors within the same VRF. </p><p>When configuring VRFs, there can be multiple BGP instances configured on one router, each one expecting to communicate via a separate VRF routing table. The result is that the generated routing-stack service-route needs to indicate which VRF table to direct the BGP session to.</p><p>By explicitly disabling the auto-generation of BGP services and service-routes for any configured BGP neighbor, it is possible to establish BGP sessions that use routing interfaces (aka “loopback” interfaces) for communication without also using SVR.</p><p>Other supported use cases include the ability to establish BGP over SVR sessions with each side residing in a different VRF. The typical scenario is a VPN architecture where one router is a CPE device on a customer site without any explicit VRF configuration. It connects to another router at the VPN provider which has a VRF configured for this customer and a BGP instance inside that VRF: </p><p><img alt="BGP Instance inside VRF" src="/assets/images/config_BGPoSVRinVRF-b1f0b14a118e12dfc45016eef75713d8.png"></p><p>In this example, the BGP instance configured in the default VRF on a CPE router needs to establish a session with a VRF BGP instance in the VPN provider’s router. To enable the generation of appropriate BGP service and service-route configuration objects, and in cases where the VRF&#x27;s have overlapping address space, some additional BGP neighbor configuration is required.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="configuration-example-1"></a>Configuration Example<a class="hash-link" href="#configuration-example-1" title="Direct link to heading">#</a></h3><p>The following example is based on the VPN provider scenario illustrated above: <strong>router A</strong> (the VPN Provider) represents a core router with a BGP instance inside a VRF peered with <strong>router B’s</strong> (Customer Y) BGP instance inside the default VRF.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">authority</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    router A</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        routing default-instance</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            vrf vrfA</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                interface loopback-vrfA</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    ip-address 10.0.0.10</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                routing-protocol bgp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    local-as 500</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    router-id 10.0.0.10</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    neighbor 10.0.0.11</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        neighbor-as 500</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        transport</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            bgp-service-generation</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                neighbor-vrf default</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            local-address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                routing-interface loopback-vrfA</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    router B</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        routing default-instance</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            interface loopback</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 ip-address 10.0.0.11</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            routing-protocol bgp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                local-as 500</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                router-id 10.0.0.11</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                neighbor 10.0.0.10</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    neighbor-as 500</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    transport</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        bgp-service-generation</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            neighbor-vrf vrfA</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        local-address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            routing-interface loopback</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="bgp-service-generation"></a>BGP Service Generation<a class="hash-link" href="#bgp-service-generation" title="Direct link to heading">#</a></h4><p>The <code>bgp-service-generation</code> configuration object is available in a BGP neighbor’s <code>transport</code> settings. For neighbors specified in the default routing instance or specified inside a VRF, the following choices are available:</p><ul><li><code>disabled </code>: Do not generate BGP service or service-routes.</li><li><code>neighbor-vrf (&lt;vrf-name&gt;|default) </code>: Name of the neighbor’s VRF in which the peer BGP instance resides. Can be “default” to specify the default VRF.</li><li><code>same-neighbor-vrf </code>: (Default) Generate the BGP service if there is a matching peer with a BGP instance within the same VRF. Explicitly specifying this is equivalent to not configuring any <code>bgp-service-generation</code> statement.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="routing-stack-service-route"></a>Routing-Stack Service-Route<a class="hash-link" href="#routing-stack-service-route" title="Direct link to heading">#</a></h4><p>A service-route of type <code>routing-stack</code> can be directed to a specific VRF:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">authority</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    router</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        service-route &lt;service-route-name&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            service-name &lt;service-name&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            routing-stack</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            routing-stack-vrf &lt;vrf-name&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>The existing <code>routing-stack</code> statement directs the session into the <code>routingEngine</code> network namespace used by the routing engine. The optional <code>routing-stack-vrf &lt;vrf-name&gt;</code> statement specifies the desired VRF within the <code>routingEngine</code> namespace. The <code>vrf-name</code> parameter is a reference to an existing VRF in the same router. If no <code>routing-stack-vrf</code> is specified, the target of the service-route is the default VRF.</p><p>Service-routes of type <code>routing-stack</code> are automatically generated by the conductor for use with an auto-generated BGP service. Manually creating this type of service-route is not supported.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="generated-services-and-tenants"></a>Generated Services and Tenants<a class="hash-link" href="#generated-services-and-tenants" title="Direct link to heading">#</a></h4><p>More than one access-policy can be specified in a service; a service is generated for each unique routing-interface and VRF tuple for a given router. Because multiple peering relationships may exist using that service, the access-policy lists all tenants associated with the BGP neighbors using that service for peering. All tenants used in these access-policy statements appear as generated tenants in the configuration, one for each VRF in use.</p><p>For a BGP neighbor residing in the default VRF, the generated BGP service  is named <code>_bgp_&lt;router-name&gt;_&lt;routing-interface-name&gt;</code>, and the tenant associated with this BGP neighbor in the default VRF is named <code>_bgp_speaker_</code>.</p><p>For a BGP neighbor residing in a non-default VRF, the generated BGP service is named <code>_bgp_&lt;router-name&gt;_&lt;vrf-name&gt;_&lt;vrf-routing-interface-name&gt;</code>. The associated tenant is named <code>_&lt;vrf-name&gt;._vrf_bgp_speaker_</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="troubleshooting"></a>Troubleshooting<a class="hash-link" href="#troubleshooting" title="Direct link to heading">#</a></h3><p>If expected BGP services or service-routes are not auto-generated, use the log messages on the conductor to troubleshoot. Each BGP service and service-route that is generated or skipped for config generation results in a debug level log message. These messages are written to <code>persistentDataManager.log</code> with category RTG and sub-category CFG.</p><p>If all expected configuration has been generated, but a BGP over SVR session does not come up, then all available tools for debugging traffic problems also apply to BGP sessions:</p><ul><li>show fib</li><li>show service-path</li><li>show sessions</li></ul><p>Additionally, use the <code>show rib {vrf &lt;vrf-name&gt;}</code> command to verify the BGP neighbor is reachable and its kernel route entry is not superseded by another, higher priority entry in the RIB. </p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="bgp-graceful-restart"></a>BGP Graceful Restart<a class="hash-link" href="#bgp-graceful-restart" title="Direct link to heading">#</a></h2><p>Users can now configure <code>graceful-restart</code> as disabled, rather than helper mode or full graceful restart. Additionally, the graceful restart mode on BGP neighbors can be configured differently than on the BGP instance. Historically there was no separate neighbor configuration. The graceful restart mode must be explicitly enabled, otherwise the default mode is <strong>helper</strong>. </p><p>Example New Data Model Objects</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">routing-protocol     bgp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    local-as         65    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    graceful-restart        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        mode             enable       </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        restart-time     150       </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        stale-routes-time    150        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    …        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    neighbor     172.16.0.1            </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        neighbor-as    66           </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        graceful-restart               </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            mode         disable</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="show-command-and-troubleshooting"></a>Show Command and Troubleshooting<a class="hash-link" href="#show-command-and-troubleshooting" title="Direct link to heading">#</a></h3><p>Use the <code>show bgp neighbors</code> command to verify graceful restart is configured as expected. Graceful restart is part of BGP capabilities negotiation.  When the BGP peering session is established, the command output includes the negotiated graceful restart:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Graceful Restart Capability: advertised</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Graceful restart information:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Local GR Mode: Helper*</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Remote GR Mode: Disable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    R bit: False</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Timers:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Configured Restart Time(sec): 120</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Received Restart Time(sec): 0</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>If the BGP peering session does not form, use packet capture to view the local BGP protocol traffic from the linux shell:
<code>ip netns exec routingEngine tcpdump -i any -v &quot;tcp port 179”</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="routing-features"></a>Routing Features<a class="hash-link" href="#routing-features" title="Direct link to heading">#</a></h2><p>This section contains various features supported by the 128T&#x27;s BGP implementation.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="configuring-128t-as-a-route-reflector"></a>Configuring 128T as a Route Reflector<a class="hash-link" href="#configuring-128t-as-a-route-reflector" title="Direct link to heading">#</a></h3><p>While configuring iBGP, you may need to enable the <strong>Route Reflector</strong> capability to facilitate easy learning of routes. Your 128T can be configured as a route reflector for a particular neighbor or more realistically a set of neighbors, also known as a route reflector client(s). This can be configured in the route reflector router&#x27;s BGP config, under the respective neighbor object.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1# config auth admin@branchoffice1.seattlesite1 (authority)# router seattlesite1 admin@branchoffice1.seattlesite1 (router[name=seattlesite1])# routing default-instance</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (routing[type=default-instance])# routing- protocol bgp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (routing-protocol[type=bgp])# neighbor 1.1.1.1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>In our example, the route reflector in our network is <code>branchoffice1</code> router, and our route reflector client is its neighbor <code>1.1.1.1</code>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (neighbor[neighbor-address=1.1.1.1])# address-family ipv4-unicast</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (address-family[afi-safi=ipv4-unicast])# route-reflector client true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (address-family[afi-safi=ipv4-unicast])# exit</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>By setting <code>route-reflector client true</code>, we instruct the <code>branchoffice1</code> router to treat the neighbor as a route reflector client.</p><p>There is one additional field which needs to be set in route reflector&#x27;s BGP config, and that is <code>Client-ID</code>, which has the format of an IP address. This can be set to anything unique in the AS, and can be the same as the <code>Router ID</code> field.</p><p>When the route reflector sends routes to the clients, by default it doesn&#x27;t modify the next-hop. An outbound policy can be used to change the next-hop in these routes to that of the route reflector, if desired. In such instances, another option, which is turned off by default, needs to be set in the route reflector&#x27;s BGP config: <code>Route Reflector Allow Outbound Policy = TRUE</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="bgp-confederations"></a>BGP Confederations<a class="hash-link" href="#bgp-confederations" title="Direct link to heading">#</a></h3><p>When configuring iBGP, the <strong>Confederation</strong> feature may be helpful when dealing with an enormous autonomous system. This feature allows you to break up the AS into smaller sub-autonomous systems. Confederation can be directly configured under the routing protocol element. Here, 65535 is the <strong>confederation identifier AS number</strong> and, 1100 and 2200 are the <strong>member AS</strong> numbers of that confederation AS.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1# config auth admin@branchoffice1.seattlesite1 (authority)# router seattlesite1 admin@branchoffice1.seattlesite1 (router[name=seattlesite1])# routing default-instance</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (routing[type=default-instance])# routing- protocol bgp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (routing-protocol[type=bgp])# confederation identifier 65535</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (routing-protocol[type=bgp])# confederation member-as 1100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (routing-protocol[type=bgp])# confederation member-as 2200</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@branchoffice1.seattlesite1 (routing-protocol[type=bgp])# exit</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-12-23T14:37:54.000Z" class="lastUpdatedDate_nN9m">12/23/2021</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/config_asset_connection_resiliency"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Asset Connection Resiliency</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/config_ospf"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Open Shortest Path First (OSPF) »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link">Prerequisites</a></li><li><a href="#peering-with-non-128t-routers" class="table-of-contents__link">Peering with non-128T Routers</a></li><li><a href="#advertising-routes" class="table-of-contents__link">Advertising Routes</a></li><li><a href="#bgp-over-svr-bgposvr" class="table-of-contents__link">BGP over SVR (BGPoSVR)</a><ul><li><a href="#verifying-the-bgp-configuration" class="table-of-contents__link">Verifying the BGP Configuration</a></li></ul></li><li><a href="#vrf-bgp-over-svr" class="table-of-contents__link">VRF BGP Over SVR</a><ul><li><a href="#configuration-example-1" class="table-of-contents__link">Configuration Example</a></li><li><a href="#troubleshooting" class="table-of-contents__link">Troubleshooting</a></li></ul></li><li><a href="#bgp-graceful-restart" class="table-of-contents__link">BGP Graceful Restart</a><ul><li><a href="#show-command-and-troubleshooting" class="table-of-contents__link">Show Command and Troubleshooting</a></li></ul></li><li><a href="#routing-features" class="table-of-contents__link">Routing Features</a><ul><li><a href="#configuring-128t-as-a-route-reflector" class="table-of-contents__link">Configuring 128T as a Route Reflector</a></li><li><a href="#bgp-confederations" class="table-of-contents__link">BGP Confederations</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 Juniper Networks, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.33f8bf14.js"></script>
<script src="/assets/js/main.08b9ae3e.js"></script>
</body>
</html>