<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-167298415-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="128T Docs" href="/opensearch.xml"><title data-react-helmet="true">LTE and Dual LTE Configuration | 128T Docs</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="LTE and Dual LTE Configuration | 128T Docs"><meta data-react-helmet="true" name="description" content="History"><meta data-react-helmet="true" property="og:description" content="History"><meta data-react-helmet="true" property="og:url" content="https://docs.128technology.com/docs/howto_lte"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://docs.128technology.com/docs/howto_lte"><link rel="stylesheet" href="/styles.b64930b1.css">
<link rel="preload" href="/styles.274b9cd0.js" as="script">
<link rel="preload" href="/runtime~main.ea7aa337.js" as="script">
<link rel="preload" href="/main.9d6be68d.js" as="script">
<link rel="preload" href="/1.28820cf6.js" as="script">
<link rel="preload" href="/2.f0755fb5.js" as="script">
<link rel="preload" href="/158.70c8d9c4.js" as="script">
<link rel="preload" href="/161.1d1b3184.js" as="script">
<link rel="preload" href="/935f2afb.ece3b60e.js" as="script">
<link rel="preload" href="/17896441.8ac8b297.js" as="script">
<link rel="preload" href="/fb06d519.d09c1985.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Juniper Logo"><strong class="navbar__title">Session Smart</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro_getting_started">Docs</a><a href="https://community.128technology.com/home" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Interchange</a><a href="https://www.128technology.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Company</a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Juniper Logo"><strong class="navbar__title">Session Smart</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/intro_getting_started">Docs</a></li><li class="menu__list-item"><a href="https://community.128technology.com/home" target="_blank" rel="noopener noreferrer" class="menu__link">Interchange</a></li><li class="menu__list-item"><a href="https://www.128technology.com/" target="_blank" rel="noopener noreferrer" class="menu__link">Company</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">About</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_128t">128T</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_svr_savings">Secure Vector Routing Savings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_releases">128T Releases</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_support_policy">Software Support Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_supported_platforms">Platform Support Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_certified_platforms">Certified Platforms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_security_policy">Security Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_services_description">Services Description</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/CONTRIBUTING">Contributing</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_getting_started">Getting Started with the 128T Networking Platform</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Deployment Considerations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_system_reqs">System Requirements</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Installation Process</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation">Installation Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_downloading_iso">Downloading ISOs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_creating_bootable_usb">Creating Bootable USB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_bootable_media">Conductor Interactive Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_basic_conductor_config">Configure the Conductor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_basic_router_config">Basic Router Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_otp_iso_install">Router Installation Using OTP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_install_quickstart_otpiso">QuickStart from the OTP ISO</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Cloud Installations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_aws">Installing from the AWS Marketplace</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_quickstart_aws">QuickStart Installation in AWS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_azure">Installing in Azure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_initialize_HA_conductor">Conductor High Availability for Cloud Deployments</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Supporting Information - Appendix</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_installer">Manually Installing the 128T</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/legacy_OTP_install">Installing Using the Pre-5.0 Interactive ISO</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_upgrading">Upgrading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_rollback">Rollback</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_application_discovery">Application Discovery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_appid">Application Identification</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_EthOverSVR">Ethernet Over Secure Vector Routing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_ha_theoryofoperation">HA - Theory of Operation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_interface_types">Interface Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_kni">Kernel Network Interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_linux_host_networking">Linux Host Networking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_learning_VRF_routes">Learning VRF Routes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_network_planes">Forwarding Planes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_metadata">128T Metadata</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_metrics">Metrics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_machine_communication">Machine Communication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_pcli">PCLI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_session_timer">Session Timers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_STEP">Service and Topology Exchange Protocol (STEP)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_waypoint_ports">Waypoints</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_glossary">Glossary</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Administration</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Configuration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_basics">Configuration Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_access_mgmt">Access Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_asset_connection_resiliency">Asset Connection Resiliency</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_bgp">BGP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_vrf_learning">VRF Learning via BGP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_reference_guide">Element Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_audit_event">Audit Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_dhcp">DHCP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_dns_proxy">DNS Proxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_ldap">LDAP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_management_over_forwarding">Management over Forwarding</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_EthoSVR">Configuring Ethernet Over Secure Vector Routing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_ha">High Availability</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_dual_router_ha">High Availability (Dual Router)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_non_forwarding_ha_interfaces">Non-forwarding HA Interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_adding_interfaces_to_ha_team">Adding Interfaces to HA Team Interface</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_transition_standalone_to_ha">Transitioning a Conductor from Standalone to HA</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_nat">NAT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_ospf">OSPF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_rate_limiting">Rate Limiting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_RBAC">Configuring Role-Based Access Control</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_snmp">SNMP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_snmp_metrics">SNMP: User defined metrics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_static_hostname_mapping">Static Hostname Mappings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_STEP">Configuring Service and Topology Exchange Protocol (STEP)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_tenants">Tenants</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_templates">Configuration Templates</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Security</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sec_adaptive_encrypt">Adaptive Encryption</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">How To</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/howto_conductor_migration">Conductor Migration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/howto_extend_gui_nav">Extending GUI Nav</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/howto_lte">LTE and Dual LTE Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/howto_config_PPPoE">Configuring Dual PPPoE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/howto_maintenance_mode">Maintenance Mode</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/howto_ms365">Microsoft 365</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/howto_trusted_ca_certificate">Adding a Trusted Certificate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/howto_tune_bfd">Tuning BFD</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Troubleshooting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_applications">Application Troubleshooting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_ap_duplicate_assets">AP: Duplicate Asset ID Error</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_ap_salt_minion">AP: Salt Minion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_cpu_spikes">CPU Spikes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_connecting_to_routers">Connecting to Routers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_forwarding_resource_pools">Forwarding Plane Resource Pools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_logs">Logs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_mac_uniqueness">MAC Address Uniqueness</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_packet_capture">PCLI Packet Capture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_t1_troubleshooting">T1 Troubleshooting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_troubleshooting_vrf">Troubleshooting VRF</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Events</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/events_overview">Alarm and Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/events_alarms">Alarms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/events_events">Events</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Best Practices</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_att_avpn_configuration">AT&amp;T AVPN Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_using_128T_as_ntp_server">Branch NTP Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_conductor_deployment">Conductor Deployment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_qos_msft_expressroute">ExpressRoute QoS Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_lte_peering">LTE Peering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_monitoring_headends">Monitoring Head End Routers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_salt_pillars">Saltstack at Scale With 128T</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_sdwan_design_guide">SD-WAN Design Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_service_and_service_policy_design">Service and Service Policy Design</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_service-policy_defaults">Service Policy Baseline Defaults</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_tenants">Tenancy Design</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">CLI Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli_reference">Command Line Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli_stats_reference">Show Stats Reference</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Installer/Initializer Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/installer_cli_reference">Installer Command Line Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/installer_preferences">Installer Preferences File Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/initializer_cli_reference">Initializer Command Line Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/initializer_preferences">Initializer Preferences File Reference</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Plugins</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_bgp_community_services">BGP Community Services</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_cloud_ha">Cloud HA</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_dns_app_id">DNS App Id</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_dns_cache">DNS Cache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_gre">GRE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_icmp_reachability_detection">ICMP Reachability Detection</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_ipsec_client">IPsec Client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_loopback_static_routes">Loopback Static Routes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_m800_watchdog">M800 Watchdog</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_monitoring_agent">Monitoring Agent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_mosh">Mosh</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_set_hostname">Set Hostname</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_sip_alg">SIP ALG</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_wireguard">Wireguard</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugin_kni_namespace_scripts">KNI Namespace Scripts</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">REST APIs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api_rest_4.2.0">128T-4.2.0</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Release Notes</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">128T</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_5.1">5.1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_5.0">5.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.5">4.5</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.4">4.4</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.3">4.3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.2">4.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.1">4.1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.0">4.0</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">128T Installer</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_3.0">3.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.7">2.7</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.6">2.6</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.5">2.5</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.4">2.4</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.3">2.3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.2">2.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.1">2.1</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">128T SIP ALG</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_sip_alg_2.1">2.1</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">128T ZScaler</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_zscaler_1.1">1.1</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">LTE and Dual LTE Configuration</h1></header><div class="markdown"><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="history"></a>History<a aria-hidden="true" tabindex="-1" class="hash-link" href="#history" title="Direct link to heading">#</a></h4><table><thead><tr><th>Release</th><th>Modification</th></tr></thead><tbody><tr><td>4.3.3</td><td>This feature was introduced</td></tr><tr><td>5.0.0</td><td>Enhanced for Dual LTE</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="lte-connectivity"></a>LTE Connectivity<a aria-hidden="true" tabindex="-1" class="hash-link" href="#lte-connectivity" title="Direct link to heading">#</a></h2><p>LTE connectivity is a valuable means of providing an alternate path for multi-path routing; either as a primary path in locations that have no access to circuits or as a path of last resort in the event that the primary circuit has failed.</p><p>Dual LTE support is valuable when connecting to two discrete wireless carriers where there is a need for an active/active LTE connection.  This is commonly used in remote ATMs or kiosks as a replacement for 56K DSL lines.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="prerequisites"></a>Prerequisites<a aria-hidden="true" tabindex="-1" class="hash-link" href="#prerequisites" title="Direct link to heading">#</a></h3><p>Of the many LTE modules on the market, 128 Technology has standardized on those modules that utilize QMI (Qualcomm MSM Interface Protocol).</p><p>When running with a single LTE module, there are no restrictions on how the adapter is connected within the hardware platform.  When running with two LTE cards, it is required that the second module be connected via USB interface over MiniPCIe, M.2 or even USB dongle.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="hardware-identification"></a>Hardware Identification<a aria-hidden="true" tabindex="-1" class="hash-link" href="#hardware-identification" title="Direct link to heading">#</a></h3><p>In order to identify the LTE module we need to know on what bus and device it is connected within Linux. Verify the existence of the second LTE module by scanning the USB bus. At the linux shell, execute the command <code>lsusb</code> to output the list of connected USB devices.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">root@SOL_SCM920420006 ~</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># lsusb</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Bus 001 Device 003: ID </span><span class="token number" style="color:rgb(247, 140, 108)">1199</span><span class="token plain">:9071 Sierra Wireless, Inc.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Bus 001 Device 002: ID </span><span class="token number" style="color:rgb(247, 140, 108)">8087</span><span class="token plain">:07db Intel Corp.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Bus 001 Device 001: ID 1d6b:0002 Linux Foundation </span><span class="token number" style="color:rgb(247, 140, 108)">2.0</span><span class="token plain"> root hub</span></div></div></div></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>QMI-based LTE modules that exist within the 128T platform will load the <code>qmi_wwan</code> linux driver.</p></div></div><p>Scan the path <code>/sys/bus/usb/drivers/qmi_wwan/*/net</code> to detect the QMI supported interface names.  It is these interface names that will be used within the 128T configuration.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">root@SOL_SCM920420006 ~</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ls /sys/bus/usb/drivers/qmi_wwan/*/net/</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/sys/bus/usb/drivers/qmi_wwan/1-3:1.8/net/:wwp0s21u3i8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/sys/bus/usb/drivers/qmi_wwan/1-4:1.10/net/:wwp0s21u4i10</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/sys/bus/usb/drivers/qmi_wwan/1-4:1.8/net/:wwp0s21u4i8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/sys/bus/usb/drivers/qmi_wwan/2-1:1.8/net/:wwp0s21u1i8</span></div></div></div></div></div><p>From the output of <code>lsusb</code> above, the Sierra Wireless adapter (2nd LTE card), we can tell is connected to <code>Bus 001 Device 003</code>.  This corresponds to QMI interface <code>wwp0s21u3i8</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="configuration"></a>Configuration<a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuration" title="Direct link to heading">#</a></h3><p>Use the following configuration fields under network-interface to configure this feature:</p><ul><li><strong>default-route</strong>: enable/disable default-route via LTE interface in linux</li><li><strong>management-vector</strong> contains the following two fields:<ul><li><strong>name</strong>: name of the vector</li><li><strong>priority</strong>: the metric of default-route</li></ul></li></ul><p>Below is an example configuration with two LTE modules. The first module has an AT&amp;T SIM and the second one has a Verizon SIM. Both have default-route enabled; the AT&amp;T interface has a metric of 300 and the Verizon interface has a metric of 500.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-128T codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">device-interface lte-dev-1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    name lte-dev-1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    type lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    target-interface wwp0s21u1i8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        apn-name broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        authentication</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            user-name foo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            password foo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            authentication-protocol chap</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    network-interface lte-intf-1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        name lte-intf-1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        source-nat true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        dhcp v4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        default-route true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        management-vector lte-route-1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            name lte-route-1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            priority 300</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">device-interface lte-dev-2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    name lte-dev-2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    type lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    target-interface wwp0s21u4i8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        apn-name vzwinternet</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        authentication</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            user-name bar</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            password bar</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            authentication-protocol pap</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    network-interface lte-intf-2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        name lte-intf-2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        source-nat true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        dhcp v4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        default-route true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        management-vector lte-route-2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            name lte-route-2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            priority 500</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span></div></div></div></div></div><p>When the 128T is not running, both LTE interfaces will be returned to linux. When this handover happens, a default-route is added to each interface in linux with an associated metric taken from the <em>management_vector</em> priority. This is a result of the <em>management-vector</em> configuration defined above.</p><p>After committing this configuration and shutting down 128T, the linux route table will look like:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">root@SOL_SCM920420006 ~</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ip route</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">default via </span><span class="token number" style="color:rgb(247, 140, 108)">172.17</span><span class="token plain">.0.1 dev enp4s0f0 proto static metric </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">default dev wwp0s21u1i8 scope </span><span class="token function" style="color:rgb(130, 170, 255)">link</span><span class="token plain"> metric </span><span class="token number" style="color:rgb(247, 140, 108)">300</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">default dev wwp0s21u4i8 scope </span><span class="token function" style="color:rgb(130, 170, 255)">link</span><span class="token plain"> metric </span><span class="token number" style="color:rgb(247, 140, 108)">500</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">10.66</span><span class="token plain">.101.176/29 dev wwp0s21u4i8 proto kernel scope </span><span class="token function" style="color:rgb(130, 170, 255)">link</span><span class="token plain"> src </span><span class="token number" style="color:rgb(247, 140, 108)">10.66</span><span class="token plain">.101.179</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">10.195</span><span class="token plain">.40.224/28 dev wwp0s21u1i8 proto kernel scope </span><span class="token function" style="color:rgb(130, 170, 255)">link</span><span class="token plain"> src </span><span class="token number" style="color:rgb(247, 140, 108)">10.195</span><span class="token plain">.40.232</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">172.17</span><span class="token plain">.0.0/16 dev enp4s0f0 proto kernel scope </span><span class="token function" style="color:rgb(130, 170, 255)">link</span><span class="token plain"> src </span><span class="token number" style="color:rgb(247, 140, 108)">172.17</span><span class="token plain">.200.166 metric </span><span class="token number" style="color:rgb(247, 140, 108)">100</span></div></div></div></div></div><p>This is the only configuration that is necessary to utilize both LTE adapters.  Once the configuration is committed, the LTE interfaces can be used for routing just like any other interface.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="troubleshooting"></a>Troubleshooting<a aria-hidden="true" tabindex="-1" class="hash-link" href="#troubleshooting" title="Direct link to heading">#</a></h3><p>The output of the <code>show device-interface</code> command contains extensive information in the event of failure regarding LTE connectivity.  Of note, the following can be used to determine the cause of any failure:</p><ul><li>Last known failure type, code, reason, and timestamp</li><li>Total attempts that have been made</li><li>An estimate of when the next attempt would be made based on the corresponding backoff configuration</li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@128t-node.128t-router# show device-interface name lte-dev</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Thu 2019-12-19 15:22:54 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">======================================================</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 128t-node:lte-dev</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">======================================================</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Type:                lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Forwarding:          true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Mode:                host</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> MAC Address:         da:d1:54:e1:4e:54</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Admin Status:        up</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Operational Status:  down</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Redundancy Status:   non-redundant</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Speed:               0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> in-octets:                       16450</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> in-unicast-pkts:                   225</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> in-errors:                           0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> out-octets:                          0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> out-unicast-pkts:                    0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> out-errors:                          0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> LTE:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Active Profile:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     APN:             broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     Auth:            none</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     PDP type:        ipv4-or-ipv6</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Connection Status:     disconnected</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Current Ipv4 Settings: Error Retrieving Information</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Failure Context:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     attempt:            19</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     code:               33</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     last-failure-time:  Thu Dec 19 15:08:04 2019</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     next-retry-time:    Thu Dec 19 16:08:04 2019</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     reason:             option-unsubscribed</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     type:               6</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Packet Stats:         Error Retrieving Information</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   RSSI Signal Strength: -48 dBm</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Radio Interface:      lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Registration Status:  registered</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Signal Strength:      excellent</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   usb-port:             /dev/ttyUSB8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.08 seconds</span></div></div></div></div></div><p>In addition to the PCLI, standalone <code>qmicli</code> and <code>serial-command</code> scripts are also available for troubleshooting from the Linux shell:</p><p><code>lte-state &lt;interface-name&gt;</code> returns a  JSON string that contains dynamic information regarding the LTE connection status, such as IP address, signal strength, carrier, etc.</p><p><code>lte-info &lt;interface-name&gt;</code> returns a JSON string that contains static information regarding the LTE module, such as firmware version, band capabilities, hardware model, etc.</p><p>These scripts can be utilized through the salt infrastructure to remotely monitor the health of the interfaces.</p><p>The output of <code>show device-interface</code> includes <code>usb-port</code> to identify the device to which the LTE adapter is connected. While the majority of the communication between the 128T and the LTE module is over QMI, AT commands are used for certain operations, such as a card reset.</p><p>To determine which devices support AT commands, scan the path <code>/sys/class/net/{interface}/device/../*/ttyUSB*/</code>.  With the information retrieved from the <code>ls</code> command, you can then create a serial connection to the device to issues AT commands.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">root@SOL_SCM920420006 ~</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ls /sys/class/net/wwp0s21u4i8/device/../*/ttyUSB*/</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/sys/class/net/wwp0s21u4i8/device/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">/1-4:1.0/ttyUSB6/:driver  port_number  power  subsystem  </span><span class="token function" style="color:rgb(130, 170, 255)">tty</span><span class="token plain">  uevent</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/sys/class/net/wwp0s21u4i8/device/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">/1-4:1.2/ttyUSB7/:driver  port_number  power  subsystem  </span><span class="token function" style="color:rgb(130, 170, 255)">tty</span><span class="token plain">  uevent</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/sys/class/net/wwp0s21u4i8/device/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">/1-4:1.3/ttyUSB8/:driver  port_number  power  subsystem  </span><span class="token function" style="color:rgb(130, 170, 255)">tty</span><span class="token plain">  uevent</span></div></div></div></div></div><p>Use the <code>serial-command port &lt;usb-port&gt; &lt;at-command&gt;</code> to run AT commands. Issue the <code>ATQ0</code> command and check that an <code>OK</code> reply is returned.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">qmicli -d /dev/cdc-wdm0 --uim-get-card-status</span></div></div></div></div></div><p>To get the firmeware loaded on the adapater, issue the command:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">lte-image-preference --interface</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">wwp0s21u1i8 get</span></div></div></div></div></div><p>To set the firmware on the adapater, issue the command:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">lte-image-preference --interface</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">wwp0s21u1i8 </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">set</span><span class="token plain"> ATT</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="special-considerations"></a>Special Considerations<a aria-hidden="true" tabindex="-1" class="hash-link" href="#special-considerations" title="Direct link to heading">#</a></h2><p>Prior to 4.3.3, on a single LTE system, a default-route within linux with a metric of 128 was always added. For backward compatibility and consistency of default behavior, after an upgrade to 4.3.3:</p><ul><li>A default-route with a metric of 128 will be added to the 128T configuration if:<ul><li>default-route is not set <strong>OR</strong> set to false</li><li><strong>AND</strong> management-vector is <strong>NOT</strong> configured</li></ul></li></ul><p>A validation warning (as shown below) is issued when these conditions have not been met.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">*admin@SOL_SCM920420006.SOL_SCM920420006# commit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Are you sure you want to commit the candidate config? [y/N]: y</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âš  Validating, then committing...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Warnings:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">1. System is running a config without a default-route and a management-vector configured, a default-route with a metric of 128 will be added after 128T shutdown. To disable, set default-route to false and configure a management-vector.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        authority</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            router SOL_SCM920420006</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                node SOL_SCM920420006</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    device-interface lte-dev-1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        network-interface lte-intf-1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            default-route</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Configuration committed</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">*admin@SOL_SCM920420006.SOL_SCM920420006# q</span></div></div></div></div></div><p>After the 128T shutdown, youâ€™ll see that default route with metric 128 is set within linux.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">root@SOL_SCM920420006 ~</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># systemctl stop 128T</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">root@SOL_SCM920420006 ~</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ip route</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">default via </span><span class="token number" style="color:rgb(247, 140, 108)">172.17</span><span class="token plain">.0.1 dev enp4s0f0 proto static metric </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">default dev wwp0s21u1i8 scope </span><span class="token function" style="color:rgb(130, 170, 255)">link</span><span class="token plain"> metric </span><span class="token number" style="color:rgb(247, 140, 108)">128</span></div></div></div></div></div><p>If you need to disable the default route, within the 128T configuration, you need to:</p><ul><li>set <code>default-route</code> to <em>false</em></li><li><strong>AND</strong> configure a not-empty <code>management-vector</code></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-04-28T12:41:09.000Z" class="docLastUpdatedAt_217_">4/28/2021</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/howto_extend_gui_nav"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Extending Web UI Navigation Bar</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/howto_config_PPPoE"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configuring Dual PPPoE Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#lte-connectivity" class="table-of-contents__link">LTE Connectivity</a><ul><li><a href="#prerequisites" class="table-of-contents__link">Prerequisites</a></li><li><a href="#hardware-identification" class="table-of-contents__link">Hardware Identification</a></li><li><a href="#configuration" class="table-of-contents__link">Configuration</a></li><li><a href="#troubleshooting" class="table-of-contents__link">Troubleshooting</a></li></ul></li><li><a href="#special-considerations" class="table-of-contents__link">Special Considerations</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center"><div>Copyright Â© 2021 Juniper Networks, Inc.</div></div></div></footer></div>
<script src="/styles.274b9cd0.js"></script>
<script src="/runtime~main.ea7aa337.js"></script>
<script src="/main.9d6be68d.js"></script>
<script src="/1.28820cf6.js"></script>
<script src="/2.f0755fb5.js"></script>
<script src="/158.70c8d9c4.js"></script>
<script src="/161.1d1b3184.js"></script>
<script src="/935f2afb.ece3b60e.js"></script>
<script src="/17896441.8ac8b297.js"></script>
<script src="/fb06d519.d09c1985.js"></script>
</body>
</html>