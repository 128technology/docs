<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-howto_lte">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">LTE and Dual LTE Configuration | SSN Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.128technology.com/docs/howto_lte"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="LTE and Dual LTE Configuration | SSN Docs"><meta data-rh="true" name="description" content="History"><meta data-rh="true" property="og:description" content="History"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.128technology.com/docs/howto_lte"><link data-rh="true" rel="alternate" href="https://docs.128technology.com/docs/howto_lte" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.128technology.com/docs/howto_lte" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.8e1fdc51.css">
<link rel="preload" href="/assets/js/runtime~main.18e688b0.js" as="script">
<link rel="preload" href="/assets/js/main.8efb112e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Juniper Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo_dark.png" alt="Juniper Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Session Smart</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro_getting_started">Docs</a><a href="https://community.juniper.net/answers/communities/community-home?CommunityKey=310d1a41-12fa-4627-9a99-880145a7c87c" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Session Smart Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.juniper.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Company<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/about_128t">About</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_getting_started">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_system_reqs">Deployment Considerations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_installation">Installation Process</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/install_conductor_overview">Conductor Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_installation_image">Image-Based Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/supported_cloud_platforms">Cloud Installations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_upgrade_considerations">Upgrades and Rollback</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/intro_installation_installer">Supporting Install Information - Appendix</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/concepts_application_discovery">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/wan_overview">WAN Assurance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/config_basics">Administration</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/config_basics">Configuration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/howto_tune_bfd">Optimizing Routing Protocols</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/config_ha">High Availability</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/config_access_mgmt">Access Management and Authentication</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/config_ntp_auth">NTP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/sec_adaptive_encrypt">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/concepts_ssr_idp">Intrusion Detection and Prevention</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/config_STEP">Service and Topology Exchange Protocol (STEP)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/how_to_use_app_summary">How To</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/how_to_use_app_summary">Using Application Summary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/howto_extend_gui_nav">Extending the GUI Navigation Bar</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/howto_lte">LTE and Dual LTE Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_bfd_tunnel">BFD Overlay over SVR</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/howto_config_PPPoE">Configuring PPPoE</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/howto_pppoe_vlan">VLAN Support on PPPoE</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/howto_maintenance_mode">Maintenance Mode</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/howto_ms365">Microsoft 365</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/howto_trusted_ca_certificate">Adding a Trusted Certificate</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/ts_applications">Troubleshooting</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/events_overview">Events</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/bcp_att_avpn_configuration">Best Practices</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/cli_reference">CLI and Element Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/installer_cli_reference">Installer/Initializer Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/plugin_intro">Plugins</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/release_notes_128t_6.1">Release Notes</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Administration</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">How To</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">LTE and Dual LTE Configuration</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>LTE and Dual LTE Configuration</h1></header><h4 class="anchor anchorWithStickyNavbar_LWe7" id="history">History<a href="#history" class="hash-link" aria-label="Direct link to History" title="Direct link to History">​</a></h4><table><thead><tr><th>Release</th><th>Modification</th></tr></thead><tbody><tr><td>4.3.3</td><td>This feature was introduced</td></tr><tr><td>5.0.0</td><td>Enhanced for Dual LTE</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lte-connectivity">LTE Connectivity<a href="#lte-connectivity" class="hash-link" aria-label="Direct link to LTE Connectivity" title="Direct link to LTE Connectivity">​</a></h2><p>LTE connectivity is a valuable means of providing an alternate path for multi-path routing; either as a primary path in locations that have no access to circuits or as a path of last resort in the event that the primary circuit has failed.</p><p>Dual LTE support is valuable when connecting to two discrete wireless carriers where there is a need for an active/active LTE connection.  This is commonly used in remote ATMs or kiosks as a replacement for 56K DSL lines.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h3><p>Of the many LTE modules on the market, Juniper has standardized on those modules that utilize QMI (Qualcomm MSM Interface Protocol).</p><p>When running with a single LTE module, there are no restrictions on how the adapter is connected within the hardware platform.  When running with two LTE cards, it is required that the second module be connected via USB interface over MiniPCIe, M.2 or even USB dongle.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hardware-identification">Hardware Identification<a href="#hardware-identification" class="hash-link" aria-label="Direct link to Hardware Identification" title="Direct link to Hardware Identification">​</a></h3><p>In order to identify the LTE module we need to know on what bus and device it is connected within Linux. Verify the existence of the second LTE module by scanning the USB bus. At the linux shell, execute the command <code>lsusb</code> to output the list of connected USB devices.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">root@SOL_SCM920420006 ~</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># lsusb</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Bus 001 Device 003: ID </span><span class="token number" style="color:rgb(247, 140, 108)">1199</span><span class="token plain">:9071 Sierra Wireless, Inc.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Bus 001 Device 002: ID </span><span class="token number" style="color:rgb(247, 140, 108)">8087</span><span class="token plain">:07db Intel Corp.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Bus 001 Device 001: ID 1d6b:0002 Linux Foundation </span><span class="token number" style="color:rgb(247, 140, 108)">2.0</span><span class="token plain"> root hub</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>QMI-based LTE modules that exist within the SSR platform will load the <code>qmi_wwan</code> linux driver.</p></div></div><p>Scan the path <code>/sys/bus/usb/drivers/qmi_wwan/*/net</code> to detect the QMI supported interface names.  It is these interface names that will be used within the SSR configuration.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">root@SOL_SCM920420006 ~</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ls /sys/bus/usb/drivers/qmi_wwan/*/net/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/sys/bus/usb/drivers/qmi_wwan/1-3:1.8/net/:wwp0s21u3i8</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/sys/bus/usb/drivers/qmi_wwan/1-4:1.10/net/:wwp0s21u4i10</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/sys/bus/usb/drivers/qmi_wwan/1-4:1.8/net/:wwp0s21u4i8</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/sys/bus/usb/drivers/qmi_wwan/2-1:1.8/net/:wwp0s21u1i8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>From the output of <code>lsusb</code> above, the Sierra Wireless adapter (2nd LTE card), we can tell is connected to <code>Bus 001 Device 003</code>.  This corresponds to QMI interface <code>wwp0s21u3i8</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration">​</a></h3><p>Use the following configuration fields under network-interface to configure this feature:</p><ul><li><strong>default-route</strong>: enable/disable default-route via LTE interface in linux</li><li><strong>management-vector</strong> contains the following two fields:<ul><li><strong>name</strong>: name of the vector</li><li><strong>priority</strong>: the metric of default-route</li></ul></li></ul><p>Below is an example configuration with two LTE modules. The first module has an AT&amp;T SIM and the second one has a Verizon SIM. Both have default-route enabled; the AT&amp;T interface has a metric of 300 and the Verizon interface has a metric of 500.</p><div class="language-SSR codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-SSR codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">device-interface lte-dev-1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name lte-dev-1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    type lte</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    target-interface wwp0s21u1i8</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    lte</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        apn-name broadband</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        authentication</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            user-name foo</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            password foo</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            authentication-protocol chap</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    network-interface lte-intf-1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        name lte-intf-1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        source-nat true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        dhcp v4</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        default-route true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        management-vector lte-route-1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            name lte-route-1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            priority 300</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">device-interface lte-dev-2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name lte-dev-2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    type lte</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    target-interface wwp0s21u4i8</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    lte</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        apn-name vzwinternet</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        authentication</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            user-name bar</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            password bar</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            authentication-protocol pap</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    network-interface lte-intf-2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        name lte-intf-2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        source-nat true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        dhcp v4</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        default-route true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        management-vector lte-route-2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            name lte-route-2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            priority 500</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When the SSR is not running, both LTE interfaces will be returned to linux. When this handover happens, a default-route is added to each interface in linux with an associated metric taken from the <em>management_vector</em> priority. This is a result of the <em>management-vector</em> configuration defined above.</p><p>After committing this configuration and shutting down SSR, the linux route table will look like:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">root@SOL_SCM920420006 ~</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ip route</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">default via </span><span class="token number" style="color:rgb(247, 140, 108)">172.17</span><span class="token plain">.0.1 dev enp4s0f0 proto static metric </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">default dev wwp0s21u1i8 scope </span><span class="token function" style="color:rgb(130, 170, 255)">link</span><span class="token plain"> metric </span><span class="token number" style="color:rgb(247, 140, 108)">300</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">default dev wwp0s21u4i8 scope </span><span class="token function" style="color:rgb(130, 170, 255)">link</span><span class="token plain"> metric </span><span class="token number" style="color:rgb(247, 140, 108)">500</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">10.66</span><span class="token plain">.101.176/29 dev wwp0s21u4i8 proto kernel scope </span><span class="token function" style="color:rgb(130, 170, 255)">link</span><span class="token plain"> src </span><span class="token number" style="color:rgb(247, 140, 108)">10.66</span><span class="token plain">.101.179</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">10.195</span><span class="token plain">.40.224/28 dev wwp0s21u1i8 proto kernel scope </span><span class="token function" style="color:rgb(130, 170, 255)">link</span><span class="token plain"> src </span><span class="token number" style="color:rgb(247, 140, 108)">10.195</span><span class="token plain">.40.232</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">172.17</span><span class="token plain">.0.0/16 dev enp4s0f0 proto kernel scope </span><span class="token function" style="color:rgb(130, 170, 255)">link</span><span class="token plain"> src </span><span class="token number" style="color:rgb(247, 140, 108)">172.17</span><span class="token plain">.200.166 metric </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is the only configuration that is necessary to utilize both LTE adapters.  Once the configuration is committed, the LTE interfaces can be used for routing just like any other interface.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting">​</a></h3><p>The output of the <code>show device-interface</code> command contains extensive information in the event of failure regarding LTE connectivity.  Of note, the following can be used to determine the cause of any failure:</p><ul><li>Last known failure type, code, reason, and timestamp</li><li>Total attempts that have been made</li><li>An estimate of when the next attempt would be made based on the corresponding backoff configuration</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@128t-node.128t-router# show device-interface name lte-dev</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Thu 2019-12-19 15:22:54 UTC</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">======================================================</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> 128t-node:lte-dev</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">======================================================</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Type:                lte</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Forwarding:          true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Mode:                host</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> MAC Address:         da:d1:54:e1:4e:54</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Admin Status:        up</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Operational Status:  down</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Redundancy Status:   non-redundant</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Speed:               0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> in-octets:                       16450</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> in-unicast-pkts:                   225</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> in-errors:                           0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> out-octets:                          0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> out-unicast-pkts:                    0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> out-errors:                          0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> LTE:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Active Profile:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     APN:             broadband</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     Auth:            none</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     PDP type:        ipv4-or-ipv6</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Connection Status:     disconnected</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Current Ipv4 Settings: Error Retrieving Information</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Failure Context:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     attempt:            19</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     code:               33</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     last-failure-time:  Thu Dec 19 15:08:04 2019</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     next-retry-time:    Thu Dec 19 16:08:04 2019</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     reason:             option-unsubscribed</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     type:               6</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Packet Stats:         Error Retrieving Information</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   RSSI Signal Strength: -48 dBm</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Radio Interface:      lte</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Registration Status:  registered</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Signal Strength:      excellent</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   usb-port:             /dev/ttyUSB8</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.08 seconds</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In addition to the PCLI, standalone <code>qmicli</code> and <code>serial-command</code> scripts are also available for troubleshooting from the Linux shell:</p><p><code>lte-state &lt;interface-name&gt;</code> returns a  JSON string that contains dynamic information regarding the LTE connection status, such as IP address, signal strength, carrier, etc.</p><p><code>lte-info &lt;interface-name&gt;</code> returns a JSON string that contains static information regarding the LTE module, such as firmware version, band capabilities, hardware model, etc.</p><p>These scripts can be utilized through the salt infrastructure to remotely monitor the health of the interfaces.</p><p>The output of <code>show device-interface</code> includes <code>usb-port</code> to identify the device to which the LTE adapter is connected. While the majority of the communication between the SSR and the LTE module is over QMI, AT commands are used for certain operations, such as a card reset.</p><p>To determine which devices support AT commands, scan the path <code>/sys/class/net/{interface}/device/../*/ttyUSB*/</code>.  With the information retrieved from the <code>ls</code> command, you can then create a serial connection to the device to issues AT commands.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">root@SOL_SCM920420006 ~</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ls /sys/class/net/wwp0s21u4i8/device/../*/ttyUSB*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/sys/class/net/wwp0s21u4i8/device/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">/1-4:1.0/ttyUSB6/:driver  port_number  power  subsystem  </span><span class="token function" style="color:rgb(130, 170, 255)">tty</span><span class="token plain">  uevent</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/sys/class/net/wwp0s21u4i8/device/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">/1-4:1.2/ttyUSB7/:driver  port_number  power  subsystem  </span><span class="token function" style="color:rgb(130, 170, 255)">tty</span><span class="token plain">  uevent</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/sys/class/net/wwp0s21u4i8/device/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">/1-4:1.3/ttyUSB8/:driver  port_number  power  subsystem  </span><span class="token function" style="color:rgb(130, 170, 255)">tty</span><span class="token plain">  uevent</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Use the <code>serial-command port &lt;usb-port&gt; &lt;at-command&gt;</code> to run AT commands. Issue the <code>ATQ0</code> command and check that an <code>OK</code> reply is returned.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">qmicli -d /dev/cdc-wdm0 --uim-get-card-status</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To get the firmeware loaded on the adapater, issue the command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">lte-image-preference --interface</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">wwp0s21u1i8 get</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To set the firmware on the adapater, issue the command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">lte-image-preference --interface</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">wwp0s21u1i8 </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">set</span><span class="token plain"> ATT</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="special-considerations">Special Considerations<a href="#special-considerations" class="hash-link" aria-label="Direct link to Special Considerations" title="Direct link to Special Considerations">​</a></h2><p>Prior to 4.3.3, on a single LTE system, a default-route within linux with a metric of 128 was always added. For backward compatibility and consistency of default behavior, after an upgrade to 4.3.3:</p><ul><li>A default-route with a metric of 128 will be added to the SSR configuration if:<ul><li>default-route is not set <strong>OR</strong> set to false</li><li><strong>AND</strong> management-vector is <strong>NOT</strong> configured</li></ul></li></ul><p>A validation warning (as shown below) is issued when these conditions have not been met.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">*admin@SOL_SCM920420006.SOL_SCM920420006# commit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Are you sure you want to commit the candidate config? [y/N]: y</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">⚠ Validating, then committing...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Warnings:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1. System is running a config without a default-route and a management-vector configured, a default-route with a metric of 128 will be added after SSR shutdown. To disable, set default-route to false and configure a management-vector.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    config</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        authority</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            router SOL_SCM920420006</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                node SOL_SCM920420006</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    device-interface lte-dev-1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        network-interface lte-intf-1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            default-route</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Configuration committed</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">*admin@SOL_SCM920420006.SOL_SCM920420006# q</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>After the SSR shutdown, you’ll see that default route with metric 128 is set within linux.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">root@SOL_SCM920420006 ~</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># systemctl stop 128T</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">root@SOL_SCM920420006 ~</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ip route</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">default via </span><span class="token number" style="color:rgb(247, 140, 108)">172.17</span><span class="token plain">.0.1 dev enp4s0f0 proto static metric </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">default dev wwp0s21u1i8 scope </span><span class="token function" style="color:rgb(130, 170, 255)">link</span><span class="token plain"> metric </span><span class="token number" style="color:rgb(247, 140, 108)">128</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you need to disable the default route, within the SSR configuration, you need to:</p><ul><li>set <code>default-route</code> to <em>false</em></li><li><strong>AND</strong> configure a not-empty <code>management-vector</code></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-04-19T20:37:50.000Z">Apr 19, 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/howto_extend_gui_nav"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Extending the GUI Navigation Bar</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/config_bfd_tunnel"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">BFD Overlay over SVR</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#lte-connectivity" class="table-of-contents__link toc-highlight">LTE Connectivity</a><ul><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#hardware-identification" class="table-of-contents__link toc-highlight">Hardware Identification</a></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a></li></ul></li><li><a href="#special-considerations" class="table-of-contents__link toc-highlight">Special Considerations</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Juniper Networks, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.18e688b0.js"></script>
<script src="/assets/js/main.8efb112e.js"></script>
</body>
</html>