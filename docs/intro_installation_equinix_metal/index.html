<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-intro_installation_equinix_metal">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Installing in Equinix Metal | SSN Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.128technology.com/docs/intro_installation_equinix_metal"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Installing in Equinix Metal | SSN Docs"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.128technology.com/docs/intro_installation_equinix_metal"><link data-rh="true" rel="alternate" href="https://docs.128technology.com/docs/intro_installation_equinix_metal" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.128technology.com/docs/intro_installation_equinix_metal" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.8e1fdc51.css">
<link rel="preload" href="/assets/js/runtime~main.a4db1599.js" as="script">
<link rel="preload" href="/assets/js/main.8efb112e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Juniper Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo_dark.png" alt="Juniper Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Session Smart</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro_getting_started">Docs</a><a href="https://community.juniper.net/answers/communities/community-home?CommunityKey=310d1a41-12fa-4627-9a99-880145a7c87c" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Session Smart Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.juniper.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Company<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Installing in Equinix Metal</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2><p><a href="https://metal.equinix.com/" target="_blank" rel="noopener noreferrer">Equinix Metal</a> is a globally-available bare metal “as-a-service” that can be deployed and interconnected in minutes. &quot;Click and go&quot; to deploy to the edge of the internet.</p><p><img loading="lazy" alt="Plans" src="/assets/images/platforms_equinix_metal_logo-08b7fee4b2659da1d33c0127783548b6.png" width="942" height="192" class="img_ev3q"></p><p>This guide describes the process for deploying a Session Smart Router (SSR) in Equinix Metal. The process consists of the following steps:</p><ol><li>Deploying a Session Smart Conductor. For a quick deployment you can use the Hourly/PAYG offering available in Azure or AWS. Refer to the <a href="/docs/intro_installation_azure#session-smart-conductor-deployment">Azure documentation</a> or the <a href="/docs/intro_installation_quickstart_aws#session-smart-conductor-deployment">AWS documentation</a> for more information.</li><li>Completing the <a href="#prerequisites">prerequisites for the deployment</a>.</li><li>Preparing the <a href="#equinix-metal-project-deployment">Equinix Metal Project for deployment</a>.</li><li>Deploying a <a href="#session-smart-router-deployment">Session Smart Router</a>.</li></ol><p>For additional information about Equinix Metal, please refer to the <a href="https://metal.equinix.com/developers/docs/" target="_blank" rel="noopener noreferrer">Equinix Metal Product Documentation</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2><ul><li>Account and credentials to access the <a href="https://console.equinix.com/login" target="_blank" rel="noopener noreferrer">Equinix Metal Console</a>.</li><li><a href="https://metal.equinix.com/developers/docs/accounts/ssh-keys/#generating-ssh-keys" target="_blank" rel="noopener noreferrer">Generate an SSH Key</a> if you don&#x27;t have one.<ul><li>Add your SSH Key to your Equinix Metal account or project as described <a href="https://metal.equinix.com/developers/docs/accounts/ssh-keys/#personal-keys-vs-project-keys" target="_blank" rel="noopener noreferrer">here</a>.</li></ul></li><li>A token or certificate to install the Juniper Session Smart Router software. If a token or certificate is not in your possession, please contact your Juniper Sales representative.</li></ul><p>Once you have all the prerequisites, begin with <a href="#equinix-metal-project-deployment">Equinix Metal Project Deployment</a> to deploy the network infrastructure required to deploy a Session Smart Router.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="equinix-metal-project-deployment">Equinix Metal Project Deployment<a href="#equinix-metal-project-deployment" class="hash-link" aria-label="Direct link to Equinix Metal Project Deployment" title="Direct link to Equinix Metal Project Deployment">​</a></h2><p>It is recommended to implement a network infrastructure design that complies with the following principles:</p><ul><li>Configure the server network type as &quot;Hybrid Unbounded&quot;.</li><li>Create specific Layer 2 VLANs for the forwarding data plane.<ul><li>For example, create one <code>Internet VLAN</code> for data plane Internet access, and a second <code>Peering VLAN</code> to forward traffic destined for other Equinix Metal regions, or to Public Cloud Providers, etc.</li></ul></li><li>For servers that only have 2 ports (network interfaces):<ul><li>The first port is dedicated to management functions only. The port must have access to the Internet, allowing the SSR to be reachable by SSH for administration activities. In addition, if the Conductor is hosted in the Internet, connectivity to Conductor must be provided via this network interface.</li><li>The second port is dedicated to the data plane, and is attached to multiple L2 VLANs using 802.1q.</li></ul></li></ul><p>The next sections implement the recommended design in Equinix Metal.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-l2-networks">Creating L2 Networks<a href="#creating-l2-networks" class="hash-link" aria-label="Direct link to Creating L2 Networks" title="Direct link to Creating L2 Networks">​</a></h3><ol><li>Login to the <a href="https://console.equinix.com/login" target="_blank" rel="noopener noreferrer">Equinix Metal Console</a>.</li><li>Click on the tab &quot;IPs &amp; Networks&quot; and select &quot;Layer 2&quot;.</li><li>Click on the &quot;Add VLAN&quot; button.</li><li>Select the location of your deployment.</li><li>Provide a descritpion and an ID for the VLAN.</li></ol><p>Repeat the steps above to create as many L2 VLANs as necessary to meet your specific requirements. For example: Internet and VLAN ID 128.</p><table><thead><tr><th>Description</th><th>VNID</th></tr></thead><tbody><tr><td>Internet</td><td>128</td></tr><tr><td>Peering</td><td>129</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-a-metal-gateway">Deploying a Metal Gateway<a href="#deploying-a-metal-gateway" class="hash-link" aria-label="Direct link to Deploying a Metal Gateway" title="Direct link to Deploying a Metal Gateway">​</a></h3><p>An Equinix Metal™ Metal Gateway provides a single IPv4 Gateway for a subnet. This allows you to deploy a group of servers in a Metro on the same subnet, and able to connect to each other or the Internet through the Metal Gateway.</p><p>Deploy a Metal Gateway in the <code>Internet VLAN</code> to break out to the Internet:</p><ol><li>Login to the <a href="https://console.equinix.com/login" target="_blank" rel="noopener noreferrer">Equinix Metal Console</a>.</li><li>Click on the tab &quot;IPs &amp; Networks&quot; and select &quot;IPs&quot;.</li><li>Click on the &quot;Request IP Addresses&quot; button.</li><li>Select deployment type <code>Public IPv4</code>.</li><li>Select the location where you want to deploy the Metal Gateway.</li><li>Select a quantity/subnet size of at least <code>/29</code> or larger.</li><li>Click on the &quot;Submit Request&quot; button.</li><li>Click on the tab &quot;IPs &amp; Networks&quot; and select &quot;Metal Gateway&quot;.</li><li>Click on the &quot;Create Metal Gateway&quot; button.</li><li>Select the location of your deployment.</li><li>Choose the VLAN where you want to deploy the Gateway. For example, <code>Internet VLAN</code>.</li><li>Select <code>Public IPv4</code> and select the IP range created above.</li><li>Click on the &quot;Create Metal Gateway&quot; button.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="session-smart-router-deployment">Session Smart Router Deployment<a href="#session-smart-router-deployment" class="hash-link" aria-label="Direct link to Session Smart Router Deployment" title="Direct link to Session Smart Router Deployment">​</a></h2><p>Use the following procedure to deploy a Session Smart Router software via the <a href="https://console.equinix.com/login" target="_blank" rel="noopener noreferrer">Equinix Metal Console</a>:</p><ol><li>Click on the “Servers&quot; tab.</li><li>Click on one of the reservation options available. Select &quot;On Demand&quot; if you do not need to reserve the server for a committed period of time.</li><li>Select the desired location for deployment.</li><li>Select one of the server types between the following: <strong>c3.medium.x86</strong></li><li>Select the Operating System by clicking on &quot;All&quot; and then CentOS. Select <strong>CentOS 7</strong>.</li><li>Select the number of servers to reserve, and provide a name for each.</li><li>Click on the &quot;Deploy Now&quot; button.</li></ol><p>After the reservation request is complete, the Public IP address of the management interface of the server is accessible. The Public IP address of the server is displayed in the Equinix Metal Console.</p><p>SSH into the Public IP address of the server with the following command: </p><p><code>ssh root@&lt;Public IP address&gt;</code></p><p>then run the following commands:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">yum install wget -y</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">wget ftp://ftp.pbone.net/mirror/vault.centos.org/7.5.1804/updates/x86_64/Packages/centos-release-7-5.1804.1.el7.centos.x86_64.rpm</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">yum downgrade centos-release-7-5.1804.1.el7.centos.x86_64.rpm -y</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">reboot</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once the server restarts SSH in again and run the following commands:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo yum install --enablerepo=* http://yum.128technology.com/installer/repo.rpm -y</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo yum install dnf -y</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo dnf remove tmux -y</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo dnf install 128T-installer -y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Create the <code>t128</code> user and set a password:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo useradd -s /bin/bash t128</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo usermod -a -G wheel t128 </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo passwd t128</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When the password has been updated successfully the following message is displayed:</p><p><code>passwd: all authentication tokens updated successfully</code></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Do not proceed to the next step until the password has been updated successfully. The <code>t128</code> username and password will now be used to login to the VM for administrative functions, rather than the <code>root</code> username.</p></div></div><p>Launch the installer using the following command:</p><p><code>sudo install128t</code></p><p>To complete the installation of the Session Smart Router (SSR) software, continue from the step 4 of the <a href="/docs/intro_installation_installer#manually-installing-using-the-128t-installer">Manual Installation procedure</a>.</p><p>The server restarts at the end of the installation process. Login to the Conductor GUI and use the procedure below (Attaching the L2 Networks to the Server) to configure the Session Smart Router device interfaces.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="attaching-the-l2-networks-to-the-server">Attaching the L2 Networks to the Server<a href="#attaching-the-l2-networks-to-the-server" class="hash-link" aria-label="Direct link to Attaching the L2 Networks to the Server" title="Direct link to Attaching the L2 Networks to the Server">​</a></h3><ol><li>Login to the <a href="https://console.equinix.com/login" target="_blank" rel="noopener noreferrer">Equinix Metal Console</a>.</li><li>Click on the “Servers&quot; tab.</li><li>Click on the &quot;hostname&quot; of the server.</li><li>Click on the &quot;Network&quot; tab.</li><li>Click on the &quot;Convert to Other Network Type&quot; button.</li><li>Select &quot;Hybrid&quot; and &quot;Unbounded&quot;.</li><li>Click on the &quot;Convert to Hybrid Networking&quot; button.</li><li>Scroll down to the &quot;Layer 2&quot; section and click the &quot;Add New Vlan&quot; button.</li><li>Select the network interface <code>eth1</code> and select the L2 Network.</li></ol><p>Repeat steps 8 and 9 to add all the required VLANs. For example, <code>Internet VLAN</code> and <code>Peering VLAN</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="network-interfaces-layout">Network Interfaces Layout<a href="#network-interfaces-layout" class="hash-link" aria-label="Direct link to Network Interfaces Layout" title="Direct link to Network Interfaces Layout">​</a></h3><p>The network interface layout of the server type <strong>c3.medium.x86</strong> is the following:</p><table><thead><tr><th>Network interface name</th><th>Subnet</th><th>PCI Address</th></tr></thead><tbody><tr><td>enp65s0f0</td><td>Management</td><td>0000:41:00.0</td></tr><tr><td>enp65s0f1</td><td>Public</td><td>0000:41:00.1</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">config</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        router  fm-router</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            name  fm-router</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            node  fm-node</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                name              fm-node</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                device-interface  private</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    name               private</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    pci-address        0000:41:00.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    network-interface  peering</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        name       peering</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        global-id  1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        vlan       128</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        address    192.168.1.10</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            ip-address     192.168.1.10</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            prefix-length  24</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    network-interface  internet</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        name       internet</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        global-id  2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        vlan       129</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        address    147.28.X.X</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            ip-address     147.28.X.X</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            prefix-length  29</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            gateway        147.28.X.X</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="appendix">Appendix<a href="#appendix" class="hash-link" aria-label="Direct link to Appendix" title="Direct link to Appendix">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="console-access">Console Access<a href="#console-access" class="hash-link" aria-label="Direct link to Console Access" title="Direct link to Console Access">​</a></h3><p>There may be times when a server becomes unreachable over SSH due to broken networking, a bad install, misconfiguration, a kernel upgrade, bad firewall rules, etc. Equinix Metal™ offers an out-of-band console called &quot;SOS&quot; - which stands for Serial Over SSH. Refer to the <a href="https://metal.equinix.com/developers/docs/resilience-recovery/serial-over-ssh/" target="_blank" rel="noopener noreferrer">SOS - Serial Over SSH</a> documentation for additional information.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-04-19T14:33:42.000Z">Apr 19, 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#equinix-metal-project-deployment" class="table-of-contents__link toc-highlight">Equinix Metal Project Deployment</a><ul><li><a href="#creating-l2-networks" class="table-of-contents__link toc-highlight">Creating L2 Networks</a></li><li><a href="#deploying-a-metal-gateway" class="table-of-contents__link toc-highlight">Deploying a Metal Gateway</a></li></ul></li><li><a href="#session-smart-router-deployment" class="table-of-contents__link toc-highlight">Session Smart Router Deployment</a><ul><li><a href="#attaching-the-l2-networks-to-the-server" class="table-of-contents__link toc-highlight">Attaching the L2 Networks to the Server</a></li><li><a href="#network-interfaces-layout" class="table-of-contents__link toc-highlight">Network Interfaces Layout</a></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a></li></ul></li><li><a href="#appendix" class="table-of-contents__link toc-highlight">Appendix</a><ul><li><a href="#console-access" class="table-of-contents__link toc-highlight">Console Access</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Juniper Networks, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.a4db1599.js"></script>
<script src="/assets/js/main.8efb112e.js"></script>
</body>
</html>