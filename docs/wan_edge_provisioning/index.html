<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<title data-react-helmet="true">WAN Edge Provisioning | SSN Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.128technology.com/docs/wan_edge_provisioning"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="WAN Edge Provisioning | SSN Docs"><meta data-react-helmet="true" name="description" content="To facilitate the ZTP (zero-touch provisioning) process of onboarding an SSR into the Mist Cloud, it is a best practice to create the topology and configuration where the SSR will be adopted before adding the SSR to the Mist Cloud. The process described here allows you to create a basic configuration to be loaded onto the SSR during onboarding."><meta data-react-helmet="true" property="og:description" content="To facilitate the ZTP (zero-touch provisioning) process of onboarding an SSR into the Mist Cloud, it is a best practice to create the topology and configuration where the SSR will be adopted before adding the SSR to the Mist Cloud. The process described here allows you to create a basic configuration to be loaded onto the SSR during onboarding."><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.128technology.com/docs/wan_edge_provisioning"><link data-react-helmet="true" rel="alternate" href="https://docs.128technology.com/docs/wan_edge_provisioning" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.128technology.com/docs/wan_edge_provisioning" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.21b25f22.css">
<link rel="preload" href="/assets/js/runtime~main.80252238.js" as="script">
<link rel="preload" href="/assets/js/main.8fa91905.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Juniper Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo_dark.png" alt="Juniper Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Session Smart</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro_getting_started">Docs</a><a href="https://community.juniper.net/answers/communities/community-home?CommunityKey=310d1a41-12fa-4627-9a99-880145a7c87c" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Session Smart Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://www.juniper.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Company<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/about_128t">About</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_getting_started">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_system_reqs">Deployment Considerations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_installation">Installation Process</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_installation_image">Image-Based Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_installation_quickstart_aws">Cloud Installations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_upgrade_considerations">Upgrades and Rollback</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_installation_installer">Supporting Install Information - Appendix</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/concepts_application_discovery">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/docs/wan_overview">WAN Assurance</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/wan_overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/wan_edge_provisioning">WAN Edge Provisioning</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/wan_staging">Whitebox Staging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/wan_onboarding_whitebox">Whitebox Onboarding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/wan_site_assignment">Site Assignment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/wan_onboarding_ssrdevice">SSR Device Onboarding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_wan_assurance">Conductor Managed WAN Assurance</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/config_basics">Administration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/events_overview">Events</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/bcp_att_avpn_configuration">Best Practices</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/cli_reference">CLI and Element Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/installer_cli_reference">Installer/Initializer Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/plugin_intro">Plugins</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/release_notes_128t_6.0">Release Notes</a></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>WAN Edge Provisioning</h1></header><p>To facilitate the ZTP (zero-touch provisioning) process of onboarding an SSR into the Mist Cloud, it is a best practice to create the topology and configuration where the SSR will be adopted before adding the SSR to the Mist Cloud. The process described here allows you to create a basic configuration to be loaded onto the SSR during onboarding. </p><p>This process assumes that you already have an account on the Mist Portal.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="site-creation">Site Creation<a class="hash-link" href="#site-creation" title="Direct link to heading">​</a></h2><p>Create one Site for each physical location for onboarding the SSRs.</p><ul><li>Create a unique site for each physical (or logical) location in the network. For example, the spoke and hub should be onboarded to different sites. Other devices from the Juniper stack such as Mist APs, Switches, SRX, etc., should be onboarded and assigned to their respective sites. This provides a clean topology view of all devices running within a site.</li><li>Spoke Site is typically the location where a full stack solution is deployed. The location field is required for creation. Site variables are assigned after the network is defined.</li></ul><p><img alt="Create a Site" src="/assets/images/wanas_create_site-5d8d45503ff1b4bf1b4b43845c0b9e4e.gif"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="conductor-managed-sites">Conductor-Managed Sites<a class="hash-link" href="#conductor-managed-sites" title="Direct link to heading">​</a></h3><p>If you are creating a site for a conductor-managed SSR deployment, it is a best practice to configure the IP address of the conductor as part of the site creation. Use the following procedure to retrieve and assign the conductor IP address to the Mist site. </p><ol><li><p>On the Configuration Home panel in the SSR GUI, click the Authority button. </p><p><img alt="Authority Home" src="/assets/images/wanas_conductor_ip1-24ac2ff12996f90b0bad505bf055372b.png"></p></li><li><p>Under Authority Settings, scroll down to <strong>Conductor Addresses</strong> and copy the IP address of the conductor.</p><p><img alt="Conductor Address" src="/assets/images/wanas_conductor_ip-18bf6fafbc45712a126188e2a0a485ae.png"></p></li><li><p>Return to the Mist Site Configuration, and scroll down to the Session Smart Conductor field and add the Conductor IP address.</p><p><img alt="Session Smart Conductor Address" src="/assets/images/wanas_conductor_ip_mist-6aca3fd304d58cb3b034713ded6db5b7.png"></p></li></ol><h2 class="anchor anchorWithStickyNavbar_y2LR" id="add-a-network">Add a Network<a class="hash-link" href="#add-a-network" title="Direct link to heading">​</a></h2><p><img alt="Add a Network" src="/assets/images/wanas_create-network-ebe9a8b60fdb36126dacb9fd0d26b769.gif"> </p><p>In the add network panel, define the following:</p><ul><li>Network name, IP address and subnet.</li><li>Enable “Access to Mist Cloud” to permit services from this network to the Mist cloud. Enabling “Advertise via Overlay” will announce this network via iBGP.</li><li>Add users/hosts representing the LAN segments – these will be used as a source in service policies.</li><li>Configure support for source and destination NAT.</li></ul><p><img alt="Network Details Panel" src="/assets/images/wanas_create-network_detail-56cba85db99be255ebb232ae3a52ffa5.png"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="identify-applications">Identify Applications<a class="hash-link" href="#identify-applications" title="Direct link to heading">​</a></h2><p>Applications represent the &quot;things&quot; that the users are connecting to. These include:</p><ul><li>Network services</li><li>SaaS apps</li><li>Private subnets</li><li>Cloud workloads</li></ul><p>To create a new application, navigate to Applications and click Add Applications. </p><p><img alt="Add Application" src="/assets/images/wanas_add-app-72996d621f1e4591b04efc56fbc98f42.gif"></p><p>Configure and save a basic Internet app. If you intend to have a catch-all application for all traffic, it is best practice to create an &quot;Internet&quot; application that is represented by a quad 0 (0.0.0.0/0).</p><p><img alt="Application Panel" src="/assets/images/wanas_add-app_static-9870dd45ea942a994d843ab62615d037.png"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="create-standalone-wan-edge-template">Create Standalone WAN Edge Template<a class="hash-link" href="#create-standalone-wan-edge-template" title="Direct link to heading">​</a></h2><p>Navigate to “WAN Edge Templates” and create a new template.</p><p><img alt="WAN Edge Template" src="/assets/images/wanas_standalone_template-2c3b3abd73eea861a437295546bd128f.gif"></p><p>Enter your NTP and DNS settings.</p><p><img alt="Define Template" src="/assets/images/wanas_template_static-d15dd8cdbbca3ee174d68f39312f24bb.png"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="create-the-wan-interface">Create the WAN Interface<a class="hash-link" href="#create-the-wan-interface" title="Direct link to heading">​</a></h2><p>Add a new WAN interface to the template.</p><p><img alt="WAN Interface" src="/assets/images/wanas_add_wan-9068ac394323ea994d7a9a6be8e0bb44.gif"></p><p>Enter and save the WAN interface settings.</p><p><img alt="WAN Settings" src="/assets/images/wanas_add_wan-214b364db1d107c787630301ce0ac932.png"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="create-the-lan-interface">Create the LAN Interface<a class="hash-link" href="#create-the-lan-interface" title="Direct link to heading">​</a></h2><p>Add a new LAN interface to the template.</p><p><img alt="LAN Interface" src="/assets/images/wanas_add_lan-347ee51092e0c24f5ba168ecdaf71701.gif"></p><p>Select your previously created network, and set the IP address the device will use from within the subnet.</p><p><img alt="Set IP" src="/assets/images/wanas_add_lan-115c63bc2ea010f54d88a7585a5169a8.png"></p><p>Set up a DHCP server pool for the LAN network.</p><p><img alt="Set Server Pool" src="/assets/images/wanas_add_lan_dhcp-2f334559c6b514e688036450ca5a2b71.png"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="create-breakout-steering-policy">Create Breakout Steering Policy<a class="hash-link" href="#create-breakout-steering-policy" title="Direct link to heading">​</a></h2><p>Add a traffic steering policy specifying use of WAN path, and previously configured WAN interface.</p><p><img alt="Steering Policy" src="/assets/images/wanas_add_steering-b4b70a877768c0d349366fa50bc94525.gif"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="create-an-access-policy">Create an Access Policy<a class="hash-link" href="#create-an-access-policy" title="Direct link to heading">​</a></h2><p>Add an access policy to the template.</p><p><img alt="Add Access Policy" src="/assets/images/wanas_add_access_policy-4846fa891f7ec18bbbfe40d55f9669d5.gif"></p><p>Select your network, your internet app, and breakout steering policy.</p><p><img alt="Define Access Policy" src="/assets/images/wanas_add_access_policy2-6a0d5d6276f1514ed13289595aeed751.gif"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="associate-template-with-site">Associate Template With Site<a class="hash-link" href="#associate-template-with-site" title="Direct link to heading">​</a></h2><p>Save the template you have configured, and associate the template with your previously created site.</p><p><img alt="Save Template" src="/assets/images/wanas_save_assign_template-094aeda319ebf939f696050497eb2c34.gif"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_mt2f"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-08-12T21:49:06.000Z">8/12/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/wan_overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Overview</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/wan_staging"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Whitebox Staging</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#site-creation" class="table-of-contents__link toc-highlight">Site Creation</a><ul><li><a href="#conductor-managed-sites" class="table-of-contents__link toc-highlight">Conductor-Managed Sites</a></li></ul></li><li><a href="#add-a-network" class="table-of-contents__link toc-highlight">Add a Network</a></li><li><a href="#identify-applications" class="table-of-contents__link toc-highlight">Identify Applications</a></li><li><a href="#create-standalone-wan-edge-template" class="table-of-contents__link toc-highlight">Create Standalone WAN Edge Template</a></li><li><a href="#create-the-wan-interface" class="table-of-contents__link toc-highlight">Create the WAN Interface</a></li><li><a href="#create-the-lan-interface" class="table-of-contents__link toc-highlight">Create the LAN Interface</a></li><li><a href="#create-breakout-steering-policy" class="table-of-contents__link toc-highlight">Create Breakout Steering Policy</a></li><li><a href="#create-an-access-policy" class="table-of-contents__link toc-highlight">Create an Access Policy</a></li><li><a href="#associate-template-with-site" class="table-of-contents__link toc-highlight">Associate Template With Site</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Juniper Networks, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.80252238.js"></script>
<script src="/assets/js/main.8fa91905.js"></script>
</body>
</html>