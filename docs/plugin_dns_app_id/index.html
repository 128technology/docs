<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<title data-react-helmet="true">DNS App Id Plugin | SSN Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.128technology.com/docs/plugin_dns_app_id"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="DNS App Id Plugin | SSN Docs"><meta data-react-helmet="true" name="description" content="The DNS App ID plugin identifies traffic passing through your SSR router by applying pattern matching to hostnames contained in DNS requests it processes. You can then configure SSR services for these hostnames, and associate application names to influence routing policy. You can read more about SSR and its application identification concept here."><meta data-react-helmet="true" property="og:description" content="The DNS App ID plugin identifies traffic passing through your SSR router by applying pattern matching to hostnames contained in DNS requests it processes. You can then configure SSR services for these hostnames, and associate application names to influence routing policy. You can read more about SSR and its application identification concept here."><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.128technology.com/docs/plugin_dns_app_id"><link data-react-helmet="true" rel="alternate" href="https://docs.128technology.com/docs/plugin_dns_app_id" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.128technology.com/docs/plugin_dns_app_id" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.21b25f22.css">
<link rel="preload" href="/assets/js/runtime~main.1c92ba1d.js" as="script">
<link rel="preload" href="/assets/js/main.9f1d2975.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Juniper Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo_dark.png" alt="Juniper Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Session Smart</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro_getting_started">Docs</a><a href="https://community.juniper.net/answers/communities/community-home?CommunityKey=310d1a41-12fa-4627-9a99-880145a7c87c" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Session Smart Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://www.juniper.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Company<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/about_128t">About</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_getting_started">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_system_reqs">Deployment Considerations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_installation">Installation Process</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_installation_image">Image-Based Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/supported_cloud_platforms">Cloud Installations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_upgrade_considerations">Upgrades and Rollback</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_installation_installer">Supporting Install Information - Appendix</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/concepts_application_discovery">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/wan_overview">WAN Assurance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/config_basics">Administration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/events_overview">Events</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/bcp_att_avpn_configuration">Best Practices</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/cli_reference">CLI and Element Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/installer_cli_reference">Installer/Initializer Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/docs/plugin_intro">Plugins</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_aws_tgw_connect">AWS Transit Gateway Connect</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_bgp_community_services">BGP Community Services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_cloud_ha">Cloud HA</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/plugin_dns_app_id">DNS App Id</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_dns_cache">DNS Cache</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_gre">GRE</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_ha_sync_redundancy">HA Sync Redundancy Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_http_probe">HTTP Probe Reachability Detection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_icmp_reachability_detection">ICMP Reachability Detection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_ipsec_client">IPsec Client</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_loopback_static_routes">Loopback Static Routes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_m800_watchdog">M800 Watchdog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_monitoring_agent">Monitoring Agent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_mosh">Mosh</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_set_hostname">Set Hostname</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_sip_alg">SIP ALG</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_wireguard">Wireguard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_kni_namespace_scripts">KNI Namespace Scripts</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/release_notes_128t_6.0">Release Notes</a></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>DNS App Id Plugin</h1></header><p>The DNS App ID plugin identifies traffic passing through your SSR router by applying pattern matching to hostnames contained in DNS requests it processes. You can then configure SSR services for these hostnames, and associate application names to influence routing policy. You can read more about SSR and its application identification concept <a href="/docs/concepts_appid">here</a>.</p><p>This plugin relies on the <a href="/docs/plugin_dns_cache">DNS Cache</a> plugin for hostname resolution.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The instructions for installing and managing this plugin can be found <a href="/docs/plugin_intro#installation-and-management">here</a>.</p></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="configuration">Configuration<a class="hash-link" href="#configuration" title="Direct link to heading">​</a></h2><p>In addition to the configuration snippet from the <a href="/docs/plugin_dns_cache">dns-cache</a> plugin, the below configuration shows an example of dns-app-id configuration:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">configure</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        router lab-router</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            application-identification</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                mode module</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            dns-app-id</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                enabled true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                include-all-builtin-apps false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                builtin-apps gmail</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                builtin-apps windows-update</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                custom-apps cnn</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    name cnn</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    domain-name cnn.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    domain-name *.cnn.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><table><thead><tr><th>Element</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>enabled</td><td>boolean</td><td>Default: true. Governs whether the DNS AppID behavior is enabled or not.</td></tr><tr><td>include-all-builtin-apps</td><td>boolean</td><td>Default: false. Enabling this feature automatically includes all builtin apps including new one&#x27;s the plugin adds due to upgrades.</td></tr><tr><td>builtin-apps</td><td>string</td><td>Multiple instance object. This can reference any built-in application patterns contained within the version of the plugin you&#x27;re running.</td></tr><tr><td>custom-apps</td><td>subelement</td><td>Multiple instance object. Allows administrators to define custom patterns for matching applications.</td></tr><tr><td>custom-apps &gt; name</td><td>string</td><td>The name of the custom-app. This value will subsequently be configured within a <code>service &gt; application-name</code> to give treatment to that application.</td></tr><tr><td>custom-apps &gt; description</td><td>string</td><td>A human-readable description of the custom application.</td></tr><tr><td>custom-apps &gt; domain-name</td><td>string</td><td>A wildcard expression (POSIX.2 fnmatch) to match DNS requests that SSR processes.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_y2LR" id="built-in-patterns">Built-In Patterns<a class="hash-link" href="#built-in-patterns" title="Direct link to heading">​</a></h3><h5 class="anchor anchorWithStickyNavbar_y2LR" id="version-history">Version History<a class="hash-link" href="#version-history" title="Direct link to heading">​</a></h5><table><thead><tr><th>Release</th><th>Modification</th></tr></thead><tbody><tr><td>1.2.0, 2.2.0</td><td><code>include-builtin-apps</code> was introduced</td></tr><tr><td>1.3.0, 2.3.0, 3.1.0</td><td>Add <code>YouTube</code> as builtin pattern</td></tr></tbody></table><p>The plugin contains built in application patterns for Gmail, Google Drive, YouTube, and Windows Update. The patterns were generated from the following published documents:</p><table><thead><tr><th>Application</th><th>Document</th></tr></thead><tbody><tr><td>Gmail</td><td><a href="https://support.google.com/a/answer/9497877?hl=en" target="_blank" rel="noopener noreferrer">link</a></td></tr><tr><td>Google Drive</td><td><a href="https://support.google.com/a/answer/2589954?hl=en" target="_blank" rel="noopener noreferrer">link</a></td></tr><tr><td>Windows Update</td><td><a href="https://docs.microsoft.com/en-us/windows-server/administration/windows-server-update-services/deploy/2-configure-wsus#211-connection-from-the-wsus-server-to-the-internet" target="_blank" rel="noopener noreferrer">link 1</a> <!-- -->[link 2]<!-- -->(<a href="https://docs.microsoft.com/en-us/windows/deployment/update/windows-update-troubleshooting#device-cannot-access-update-fWindows" target="_blank" rel="noopener noreferrer">https://docs.microsoft.com/en-us/windows/deployment/update/windows-update-troubleshooting#device-cannot-access-update-fWindows</a> Updateiles)</td></tr><tr><td>YouTube</td><td><a href="https://www.netify.ai/resources/applications/youtube" target="_blank" rel="noopener noreferrer">link</a></td></tr></tbody></table><p>By enabling the <code>include-all-builtin-apps</code> configuration, the plugin will automatically include all the available apps. This allows for new apps to be automatically included as new builtin apps are added over time. Alternatively, you can choose specific builtin apps by name, as shown in the snippet above. The values you can configure are <code>gmail</code>, <code>google-drive</code>, <code>youtube</code> and <code>windows-update</code>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="custom-patterns">Custom Patterns<a class="hash-link" href="#custom-patterns" title="Direct link to heading">​</a></h3><h5 class="anchor anchorWithStickyNavbar_y2LR" id="version-history-1">Version History<a class="hash-link" href="#version-history-1" title="Direct link to heading">​</a></h5><table><thead><tr><th>Release</th><th>Modification</th></tr></thead><tbody><tr><td>1.2.0, 2.2.0</td><td>Support for adding custom-apps at authority level was introduced</td></tr><tr><td>1.3.0, 2.3.0, 3.1.0</td><td>deprecate <code>patterns</code> in favor of <code>domain-name</code> for custom-apps</td></tr></tbody></table><p>The plugin also allows the user to create their own definitions of applications by configuring a set of patterns to be used for matching the application. Each pattern must be a valid regex that will be applied to a FQDN to identify the application. The <code>authority &gt; dns-app-id &gt; custom-apps</code> config can be used to define patterns that apply to all the routers with <code>dns-app-id</code> functionality enabled. Also shown in the configuration snippet is the custom-app <code>cnn</code> that includes a list of patterns to be applied at the router level. The identification is dynamic, so you just need to update the configuration on the conductor to include new apps or patterns for your routers. When <code>custom-apps</code> are configured at the authority and router level, the two lists are combined at runtime for that particular router. For example, if the user configured a custom-app called <code>zoom</code> on the authority and another app called <code>cnn</code> on the router, the router will contain both the applications.</p><p>Each custom-app should use the <code>domain-name</code> instead of the deprecated <code>patterns</code> for identifying custom applications. It is POSIX.2 compliant with <a href="https://pubs.opengroup.org/onlinepubs/9699919799/functions/fnmatch.html" target="_blank" rel="noopener noreferrer">fnmatch</a>.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="example">Example<a class="hash-link" href="#example" title="Direct link to heading">​</a></h4><p>This example shows our builtin <code>gmail</code> application&#x27;s pattern matching configured as a custom-app. You should not use this example in production, but is intended to document how to build out complicated pattern matching for an application.</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">custom-apps gmail</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name gmail</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    domain-name *.client-channel.google.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    domain-name accounts.google.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    domain-name apis.google.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    domain-name clients.*.google.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    domain-name contacts.google.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    domain-name hangouts.google.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    domain-name *.googleusercontent.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    domain-name mail.google.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    domain-name www.google.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    domain-name *.gstatic.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    domain-name ogs.google.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    domain-name play.google.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="deprecated-patterns">Deprecated Patterns<a class="hash-link" href="#deprecated-patterns" title="Direct link to heading">​</a></h4><p>The latest version is backwards compatabile with the <code>patterns</code> regex functionality for <code>custom-apps</code> however it is much more natural to use <code>domain-name</code>. In future releases, the <code>patterns</code> functionality will be obsoleted and removed.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The <code>.</code> character bears special meaning within regular expressions, and matches <em>any single character</em>. Because hostnames contain literal <code>.</code> characters, in order to explicitly reference a dot separator, you must prefix it with <strong>two</strong> backslash characters. I.e., to have a pattern match the hostname <code>www.128technology.com</code>, you would type it into the PCLI as <code>www.128technology.com</code>. The PCLI will render the double backslash characters as a single backslash when you <code>show</code> the configuration.</p></div></div><div class="admonition admonition-important alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</h5></div><div class="admonition-content"><p>If you configure invalid regex patterns, you will see the log message <code>invalid pattern for {name}, will never match!</code>. This means the pattern you configured is not a valid regex therefore the pattern matching will fail for the app until the configuration is fixed.</p></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="automatic-service-generation">Automatic Service Generation<a class="hash-link" href="#automatic-service-generation" title="Direct link to heading">​</a></h3><h5 class="anchor anchorWithStickyNavbar_y2LR" id="version-history-2">Version History<a class="hash-link" href="#version-history-2" title="Direct link to heading">​</a></h5><table><thead><tr><th>Release</th><th>Modification</th></tr></thead><tbody><tr><td>1.2.0, 2.2.0</td><td>This capability was introduced</td></tr><tr><td>2.3.0, 3.0.0</td><td>The generate-as-hierarchical-services capability was introduced</td></tr></tbody></table><p>The <code>authority &gt; dns-app-id</code> configuration allows the user to automatically generate services for both the builtin and custom applications.</p><div class="codeBlockContainer_J+bg language-config theme-code-block"><div class="codeBlockContent_csEI config"><pre tabindex="0" class="prism-code language-config codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">config</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        dns-app-id</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            generate-services  true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            base-service       internet</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><table><thead><tr><th>Element</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>generate-services</td><td>boolean</td><td>Default: false. Governs whether to automatically generate services for applications.</td></tr><tr><td>generate-as-hierarchical-services</td><td>boolean</td><td>Default: false. Whether to auto generate services as <a href="/docs/bcp_service_and_service_policy_design#hierarchical-services">hierarchical services</a>.</td></tr><tr><td>base-service</td><td>service-reference</td><td>The generated application service will inherit all the properties such as access-policy, service-policy, etc, from the base service.</td></tr><tr><td>custom-apps</td><td>subelement</td><td>Multiple instance object. Allows administrators to define custom patterns for matching applications.</td></tr><tr><td>custom-apps &gt; name</td><td>string</td><td>The name of the custom-app. This value will subsequently be configured within a <code>service &gt; application-name</code> to give treatment to that application.</td></tr><tr><td>custom-apps &gt; description</td><td>string</td><td>A human-readable description of the custom application.</td></tr><tr><td>custom-apps &gt; patterns</td><td>regex</td><td>A regular expression pattern for matching to DNS requests that the SSR processes.</td></tr></tbody></table><p>Refer to the <a href="#appendix">Appendix</a> for an example of the config generation.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="manually-associating-with-a-service">Manually associating with a Service<a class="hash-link" href="#manually-associating-with-a-service" title="Direct link to heading">​</a></h4><p>When auto-generation is not an option, the user can configure the appropriate application services explicitly. Because the DNS AppID uses the same mechanism as a standard SSR <a href="/docs/concepts_appid#appid-using-modules">AppID module</a>, you&#x27;ll reference the application using the <code>application-name</code> field within a <code>service</code> configuration. In the <code>application-name</code> field, use the <code>custom-apps &gt; name</code> field as your key as shown here:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@labsystem1.fiedler# show config running authority service cnn</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        service  CNN-service</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            name                  CNN-service</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            description           &quot;CNN and associated hostnames&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            scope                 private</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            application-name      cnn</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            access-policy         trusted</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                source      trusted</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                permission  allow</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            service-policy        data-best-effort</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            share-service-routes  false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="troubleshooting">Troubleshooting<a class="hash-link" href="#troubleshooting" title="Direct link to heading">​</a></h2><p>Verify the services of the 128T-dns-app-id plugin:</p><ul><li><code>systemctl status 128T-dns-app-id</code></li></ul><p>Watch the journal for logging:</p><ul><li><code>journalctl -u 128T-dns-app-id -f</code></li></ul><p>You can modify the systemd service unit manually to update the log-level of the application from INFO to DEBUG. The systemd service unit is located at <code>/usr/lib/systemd/system/128T-dns-app-id.service</code>.</p><p>You can use <code>show device-interface dns-cache</code> to see all available hostnames and IP addresses found by this plugin.</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">========================================</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> tnode:dns-cache</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">========================================</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Type:                host</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Forwarding:          true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Mode:                host</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> MAC Address:         76:23:37:ed:5c:ae</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Admin Status:        up</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Operational Status:  up</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Redundancy Status:   non-redundant</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Speed:               1000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Duplex:              full</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> in-octets:                     3618779</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> in-unicast-pkts:                 57795</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> in-errors:                           0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> out-octets:                    2641623</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> out-unicast-pkts:                57722</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> out-errors:                          0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> records:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   gmail:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     172.217.165.141/32</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Similarly you can use <code>show application names</code>.</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@dc.router# show application names</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Sat 2020-03-28 03:28:43 UTC</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">================== =============== ================ ===================== =====================</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Application Name   Session Count   Ip Tuple Count   Date Discovered       Last Updated</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">================== =============== ================ ===================== =====================</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> gmail                          0               15   2020-06-20 03:28:40   2020-06-20 03:28:40</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> google-drive                   0                9   2020-06-20 03:28:40   2020-06-20 03:28:40</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> windows-update                 0                1   2020-06-20 03:28:40   2020-06-20 03:28:40</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="appendix">Appendix<a class="hash-link" href="#appendix" title="Direct link to heading">​</a></h2><p>Consider the following example configuration</p><div class="codeBlockContainer_J+bg language-config theme-code-block"><div class="codeBlockContent_csEI config"><pre tabindex="0" class="prism-code language-config codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">config</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        dns-app-id</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            generate-services  true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            base-service       internet</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        router  router1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            name        router1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            dns-app-id</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                include-all-builtin-apps  true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        service  internet</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            name              internet</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            application-name  icmp-probe</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            access-policy     _internal_</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                source  _internal_</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            access-policy     dns-cache-plugin</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                source  dns-cache-plugin</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The above configuration will use the <code>internet</code> service as a basis for auto generating services for all built in applications such as <code>google-drive</code>, <code>gmail</code>, etc. Here&#x27;s what the generated configuration will look like.</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">config</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        service  gmail_internet</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            name              gmail_internet</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            applies-to        router</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                type         router</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                router-name  router1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            application-name  icmp-probe</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            application-name  gmail</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            access-policy     _internal_</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                source  _internal_</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            access-policy     dns-cache-plugin</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                source  dns-cache-plugin</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        service  google-drive_internet</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            name              google-drive_internet</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            applies-to        router</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                type         router</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                router-name  router1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            application-name  icmp-probe</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            application-name  google-drive</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            access-policy     _internal_</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                source  _internal_</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            access-policy     dns-cache-plugin</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                source  dns-cache-plugin</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        service  windows-update_internet</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            name              windows-update_internet</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            applies-to        router</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                type         router</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                router-name  router1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            application-name  icmp-probe</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            application-name  windows-update</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            access-policy     _internal_</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                source  _internal_</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            access-policy     dns-cache-plugin</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                source  dns-cache-plugin</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="release-notes">Release Notes<a class="hash-link" href="#release-notes" title="Direct link to heading">​</a></h2><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p>The plugin must be updated to version 3.1.3 or later prior to <a href="/docs/intro_upgrade_considerations#plugin-config-generation-changes">upgrading the conductor to SSR version 5.4.0.</a></p></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="release-320">Release 3.2.0<a class="hash-link" href="#release-320" title="Direct link to heading">​</a></h3><p><strong>Release Date:</strong> May 13, 2022</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="new-features-and-improvements">New Features and Improvements<a class="hash-link" href="#new-features-and-improvements" title="Direct link to heading">​</a></h4><ul><li><strong>PLUGIN-1611</strong> Improve HA support for DNS based app-id</li></ul><p>The DNS cache plugin is enhanced to synchronize the cache between HA nodes to allow the DNS app-id plugin to consume and process DNS records on both nodes.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="release-314">Release 3.1.4<a class="hash-link" href="#release-314" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="issues-fixed">Issues Fixed<a class="hash-link" href="#issues-fixed" title="Direct link to heading">​</a></h4><ul><li><p><strong>PLUGIN-1452</strong>  DNS cache services constantly fail on system startup.</p><p><em><strong>Resolution:</strong></em> The DNS cache systemd services will be deferred until the 128T services are running and stable.</p></li><li><p><strong>PLUGIN-1461</strong>  Config generation for the plugin failing in versions 5.4 and above.</p><p><em><strong>Resolution:</strong></em> Correctly handle the config generation for routers where the DNS cache plugin is not enabled during config generation on versions 5.4 and above.</p></li><li><p><strong>PLUGIN-1494</strong>  No route being injected into FIB table for dns-app-id custom apps.</p><p><em><strong>Resolution:</strong></em> Automatically enable the module mode on router with dns-app-id config enabled.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="release-313">Release 3.1.3<a class="hash-link" href="#release-313" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="issues-fixed-1">Issues Fixed<a class="hash-link" href="#issues-fixed-1" title="Direct link to heading">​</a></h4><ul><li><p><strong>PLUGIN-1461</strong>  Config generation for the plugin failing.</p><p><em><strong>Resolution:</strong></em> Correctly handle the config generation for routers where the plugin is not enabled during config generation.</p></li><li><p><strong>PLUGIN-1226</strong>  DNS App Id state script takes too long to execute.</p><p><em><strong>Resolution:</strong></em> Optimized the execution of the script by simplifying some of the plugin router components.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="release-231-311">Release 2.3.1, 3.1.1<a class="hash-link" href="#release-231-311" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="issues-fixed-2">Issues Fixed<a class="hash-link" href="#issues-fixed-2" title="Direct link to heading">​</a></h4><ul><li><strong>PLUGIN-1099</strong> Fixed an incorrect pattern for matching YouTube application</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="release-130-230-310">Release 1.3.0, 2.3.0, 3.1.0<a class="hash-link" href="#release-130-230-310" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="new-features-and-improvements-1">New Features and Improvements<a class="hash-link" href="#new-features-and-improvements-1" title="Direct link to heading">​</a></h4><ul><li><strong>PLUGIN-1077</strong> Deprecate patterns in favor of domain-name for custom-apps</li><li><strong>PLUGIN-1078</strong> Add YouTube to builtins</li><li><strong>PLUGIN-890</strong> Add support to auto generate services as hierarchical services</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="release-300">Release 3.0.0<a class="hash-link" href="#release-300" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="issues-fixed-3">Issues Fixed<a class="hash-link" href="#issues-fixed-3" title="Direct link to heading">​</a></h4><ul><li><strong>PLUGIN-768</strong> Support the DNS App ID plugin in SSR versions <code>5.1.0</code> and greater.</li><li><strong>PLUGIN-611</strong> Added support for plugin state. Plugin state information can be accessed on the PCLI using <code>show plugins state [router &lt;router&gt;] [node &lt;node&gt;] [{detail | summmary}] 128T-dns-app-id</code></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="release-221">Release 2.2.1<a class="hash-link" href="#release-221" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="issues-fixed-4">Issues Fixed<a class="hash-link" href="#issues-fixed-4" title="Direct link to heading">​</a></h4><ul><li><p><strong>PLUGIN-993</strong> Automatic generation of services not working after upgrade</p><p>  <em><strong>Resolution</strong></em> Fix the config generation script to read the data from the file on disk instead of standard input.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="release-120-220">Release 1.2.0, 2.2.0<a class="hash-link" href="#release-120-220" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="new-features-and-improvements-2">New Features and Improvements<a class="hash-link" href="#new-features-and-improvements-2" title="Direct link to heading">​</a></h4><ul><li><p><strong>PLUGIN-877</strong> Add support for automatic builtin app inclusion, authority wide custom-apps, and automatic service generation.</p><ul><li>A new toggle for automatically including all builtin applications to keep up-to-date with new apps being added via plugin upgrades.</li><li>Created a new <code>dns-app-id</code> plugin at the authority level to provide means for adding <code>custom-apps</code> that apply to all routers in the config with <code>dns-app-id</code> enabled.</li><li>Provide an option to automatically generate services for the configured applications.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="release-110-210">Release 1.1.0, 2.1.0<a class="hash-link" href="#release-110-210" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="issues-fixed-5">Issues Fixed<a class="hash-link" href="#issues-fixed-5" title="Direct link to heading">​</a></h4><ul><li><p><strong>PLUGIN-809</strong> DNS app-id plugin installation fails due to dependency conflict.</p><p>  <em><strong>Resolution</strong></em> The 128T-dns-app-id-router RPM has been updated to accept all versions of 128T-dns-cache-router RPM.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="release-102-202">Release 1.0.2, 2.0.2<a class="hash-link" href="#release-102-202" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="issues-fixed-6">Issues Fixed<a class="hash-link" href="#issues-fixed-6" title="Direct link to heading">​</a></h4><ul><li><strong>PLUGIN-402</strong> Ensure SSR monitors new file changes and applications restarts with SSR.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_mt2f"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-12-01T00:12:17.000Z">12/1/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/plugin_cloud_ha"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Cloud HA</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/plugin_dns_cache"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">DNS Cache</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a><ul><li><a href="#built-in-patterns" class="table-of-contents__link toc-highlight">Built-In Patterns</a></li><li><a href="#custom-patterns" class="table-of-contents__link toc-highlight">Custom Patterns</a></li><li><a href="#automatic-service-generation" class="table-of-contents__link toc-highlight">Automatic Service Generation</a></li></ul></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a></li><li><a href="#appendix" class="table-of-contents__link toc-highlight">Appendix</a></li><li><a href="#release-notes" class="table-of-contents__link toc-highlight">Release Notes</a><ul><li><a href="#release-320" class="table-of-contents__link toc-highlight">Release 3.2.0</a></li><li><a href="#release-314" class="table-of-contents__link toc-highlight">Release 3.1.4</a></li><li><a href="#release-313" class="table-of-contents__link toc-highlight">Release 3.1.3</a></li><li><a href="#release-231-311" class="table-of-contents__link toc-highlight">Release 2.3.1, 3.1.1</a></li><li><a href="#release-130-230-310" class="table-of-contents__link toc-highlight">Release 1.3.0, 2.3.0, 3.1.0</a></li><li><a href="#release-300" class="table-of-contents__link toc-highlight">Release 3.0.0</a></li><li><a href="#release-221" class="table-of-contents__link toc-highlight">Release 2.2.1</a></li><li><a href="#release-120-220" class="table-of-contents__link toc-highlight">Release 1.2.0, 2.2.0</a></li><li><a href="#release-110-210" class="table-of-contents__link toc-highlight">Release 1.1.0, 2.1.0</a></li><li><a href="#release-102-202" class="table-of-contents__link toc-highlight">Release 1.0.2, 2.0.2</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Juniper Networks, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.1c92ba1d.js"></script>
<script src="/assets/js/main.9f1d2975.js"></script>
</body>
</html>