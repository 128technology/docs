<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-167298415-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="128T Docs" href="/opensearch.xml"><title data-react-helmet="true">ICMP Reachability Detection Plugin | 128T Docs</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="ICMP Reachability Detection Plugin | 128T Docs"><meta data-react-helmet="true" name="description" content="The ICMP reachability detection plugin is designed to solve the problem where upstream next-hop failures cause 128T to blackhole traffic for non-SVR services. When a 128T router is provisioned to send traffic towards operationally valid next-hop(s), one of those next-hops might be incapable of delivering the packets to the final destination due to upstream failures beyond simple link or ARP failures causing the traffic being blackholed. The ICMP reachability detection plugin solves this problem by pinging a destination for reachability and allowing new sessions to failover to alternate paths when the primary path is unreachable. The plugin can also be used to perform a similar probe end-to-end to a server over SVR and trigger a failover in the same manner."><meta data-react-helmet="true" property="og:description" content="The ICMP reachability detection plugin is designed to solve the problem where upstream next-hop failures cause 128T to blackhole traffic for non-SVR services. When a 128T router is provisioned to send traffic towards operationally valid next-hop(s), one of those next-hops might be incapable of delivering the packets to the final destination due to upstream failures beyond simple link or ARP failures causing the traffic being blackholed. The ICMP reachability detection plugin solves this problem by pinging a destination for reachability and allowing new sessions to failover to alternate paths when the primary path is unreachable. The plugin can also be used to perform a similar probe end-to-end to a server over SVR and trigger a failover in the same manner."><meta data-react-helmet="true" property="og:url" content="https://docs.128technology.com/docs/plugin_icmp_reachability_detection"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://docs.128technology.com/docs/plugin_icmp_reachability_detection"><link rel="stylesheet" href="/styles.b64930b1.css">
<link rel="preload" href="/styles.75c4618c.js" as="script">
<link rel="preload" href="/runtime~main.fa7d1ff6.js" as="script">
<link rel="preload" href="/main.2cd7b9df.js" as="script">
<link rel="preload" href="/1.a2d28e4b.js" as="script">
<link rel="preload" href="/2.76740694.js" as="script">
<link rel="preload" href="/166.58a01472.js" as="script">
<link rel="preload" href="/169.89c9a299.js" as="script">
<link rel="preload" href="/935f2afb.2b540f84.js" as="script">
<link rel="preload" href="/17896441.a2671929.js" as="script">
<link rel="preload" href="/7eb68200.923075de.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Juniper Logo"><strong class="navbar__title">Session Smart</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro_getting_started">Docs</a><a href="https://community.128technology.com/home" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Interchange</a><a href="https://www.128technology.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Company</a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">⌘</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Juniper Logo"><strong class="navbar__title">Session Smart</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/intro_getting_started">Docs</a></li><li class="menu__list-item"><a href="https://community.128technology.com/home" target="_blank" rel="noopener noreferrer" class="menu__link">Interchange</a></li><li class="menu__list-item"><a href="https://www.128technology.com/" target="_blank" rel="noopener noreferrer" class="menu__link">Company</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">About</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_128t">128T</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_svr_savings">Secure Vector Routing Savings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_releases">128T Releases</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_support_policy">Software Support Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_supported_platforms">Platform Support Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_supported_drivers">Supported NICs and Drivers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_certified_platforms">Certified Plus Platforms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_security_policy">Security Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/about_services_description">Services Description</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/CONTRIBUTING">Contributing</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_getting_started">Getting Started with the 128T Networking Platform</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Deployment Considerations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_system_reqs">System Requirements</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Installation Process</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation">Installation Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_downloading_iso">Downloading ISOs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_creating_bootable_usb">Creating Bootable USB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_bootable_media">Conductor Interactive Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_basic_conductor_config">Configure the Conductor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_basic_router_config">Basic Router Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_otp_iso_install">Router Installation Using OTP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_install_quickstart_otpiso">QuickStart from the OTP ISO</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Cloud Installations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_aws">Installing from the AWS Marketplace</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_quickstart_aws">QuickStart Installation in AWS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_azure">Installing in Azure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_initialize_HA_conductor">Conductor High Availability for Cloud Deployments</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Supporting Information - Appendix</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_installation_installer">Manually Installing the 128T</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/legacy_OTP_install">Installing Using the Pre-5.0 Interactive ISO</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_upgrade_considerations">Upgrade Considerations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_upgrading">Upgrading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro_rollback">Rollback</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_application_discovery">Application Discovery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_appid">Application Identification</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_EthOverSVR">Ethernet Over Secure Vector Routing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_ha_theoryofoperation">HA - Theory of Operation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_interface_types">Interface Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_kni">Kernel Network Interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_linux_host_networking">Linux Host Networking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_learning_VRF_routes">Learning VRF Routes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_network_planes">Forwarding Planes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_metadata">128T Metadata</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_metrics">Metrics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_machine_communication">Machine Communication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_pcli">PCLI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_session_timer">Session Timers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_STEP">Service and Topology Exchange Protocol (STEP)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_waypoint_ports">Waypoints</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts_glossary">Glossary</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Administration</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Configuration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_basics">Configuration Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_access_mgmt">Access Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_asset_connection_resiliency">Asset Connection Resiliency</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_bgp">Configuring BGP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_vrf_learning">VRF Learning via BGP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_reference_guide">Element Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_audit_event">Audit Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_dhcp">DHCP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_dns_proxy">DNS Proxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_ldap">LDAP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_management_over_forwarding">Management over Forwarding</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_domain-based_web_filter">Configuring Domain-based Web Filtering/Routing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_EthoSVR">Configuring Ethernet Over Secure Vector Routing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_service_health">Service Health Learning and Fault Avoidance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_gre_tunnel">Native GRE Tunnels</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_in-memory_metrics">In-Memory Metrics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_ha">High Availability</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_dual_router_ha">High Availability (Dual Router)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_non_forwarding_ha_interfaces">Non-forwarding HA Interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_adding_interfaces_to_ha_team">Adding Interfaces to HA Team Interface</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_transition_standalone_to_ha">Transitioning a Conductor from Standalone to HA</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_nat">NAT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_ospf">OSPF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_rate_limiting">Rate Limiting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_RBAC">Configuring Role-Based Access Control</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_snmp">SNMP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_snmp_metrics">SNMP: User defined metrics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_static_hostname_mapping">Static Hostname Mappings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_STEP">Configuring Service and Topology Exchange Protocol (STEP)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_tenants">Tenants</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config_templates">Configuration Templates</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Security</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sec_adaptive_encrypt">Adaptive Encryption</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">How To</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_conductor_migration">Conductor Migration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_extend_gui_nav">Extending GUI Nav</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_lte">LTE and Dual LTE Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_config_PPPoE">Configuring Dual PPPoE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_maintenance_mode">Maintenance Mode</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_ms365">Microsoft 365</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_trusted_ca_certificate">Adding a Trusted Certificate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/howto_tune_bfd">Tuning BFD</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Troubleshooting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_applications">Application Troubleshooting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_ap_duplicate_assets">AP: Duplicate Asset ID Error</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_ap_salt_minion">AP: Salt Minion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_cpu_spikes">CPU Spikes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_connecting_to_routers">Connecting to Routers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_forwarding_resource_pools">Forwarding Plane Resource Pools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_logs">Logs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_mac_uniqueness">MAC Address Uniqueness</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_packet_capture">Packet Capture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_t1_troubleshooting">T1 Troubleshooting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ts_troubleshooting_vrf">Troubleshooting VRF</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Events</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/events_overview">Alarm and Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/events_alarms">Alarms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/events_events">Events</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Best Practices</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_att_avpn_configuration">AT&amp;T AVPN Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_using_128T_as_ntp_server">Branch NTP Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_conductor_deployment">Conductor Deployment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_qos_msft_expressroute">ExpressRoute QoS Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_lte_peering">LTE Peering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_monitoring_headends">Monitoring Head End Routers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_salt_pillars">Saltstack at Scale With 128T</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_sdwan_design_guide">SD-WAN Design Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_service_and_service_policy_design">Service and Service Policy Design</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_service-policy_defaults">Service Policy Baseline Defaults</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bcp_tenants">Tenancy Design</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">CLI Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli_reference">Command Line Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli_stats_reference">Show Stats Reference</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Installer/Initializer Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/installer_cli_reference">Installer Command Line Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/installer_preferences">Installer Preferences File Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/initializer_cli_reference">Initializer Command Line Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/initializer_preferences">Initializer Preferences File Reference</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Plugins</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_bgp_community_services">BGP Community Services</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_aws_tgw_connect">AWS Transit Gateway Connect</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_cloud_ha">Cloud HA</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_dns_app_id">DNS App Id</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_dns_cache">DNS Cache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_gre">GRE</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/plugin_icmp_reachability_detection">ICMP Reachability Detection</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_ipsec_client">IPsec Client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_loopback_static_routes">Loopback Static Routes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_m800_watchdog">M800 Watchdog</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_monitoring_agent">Monitoring Agent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_mosh">Mosh</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_set_hostname">Set Hostname</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_sip_alg">SIP ALG</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_wireguard">Wireguard</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin_kni_namespace_scripts">KNI Namespace Scripts</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">REST APIs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api_rest_4.2.0">128T-4.2.0</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Release Notes</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">128T</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_5.3">5.3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_5.2">5.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_5.1">5.1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_5.0">5.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.5">4.5</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.4">4.4</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.3">4.3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.2">4.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.1">4.1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_4.0">4.0</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">128T Installer</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_3.0">3.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.7">2.7</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.6">2.6</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.5">2.5</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.4">2.4</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.3">2.3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.2">2.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_installer_2.1">2.1</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">128T SIP ALG</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_sip_alg_2.1">2.1</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">128T ZScaler</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/release_notes_128t_zscaler_1.1">1.1</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">ICMP Reachability Detection Plugin</h1></header><div class="markdown"><p>The ICMP reachability detection plugin is designed to solve the problem where upstream next-hop failures cause 128T to blackhole traffic for non-SVR services. When a 128T router is provisioned to send traffic towards operationally valid next-hop(s), one of those next-hops might be incapable of delivering the packets to the final destination due to upstream failures beyond simple link or ARP failures causing the traffic being blackholed. The ICMP reachability detection plugin solves this problem by pinging a destination for reachability and allowing new sessions to failover to alternate paths when the primary path is unreachable. The plugin can also be used to perform a similar probe end-to-end to a server over SVR and trigger a failover in the same manner.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The instructions for installing and managing the plugin can be found <a href="/docs/plugin_intro#installation-and-management">here</a>.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="overview"></a>Overview<a aria-hidden="true" tabindex="-1" class="hash-link" href="#overview" title="Direct link to heading">#</a></h2><p> The plugin is designed to assist with failover for services that use a hunt based strategy, where traffic prefers one path over another during normal operations. (As opposed to a proportional distribution strategy which leverages multiple paths simultaneously.). If the router has two wan interfaces - broadband and LTE, the plugin can be set up to use broadband as the primary path and LTE as the secondary path. The plugin works by performing a continuous ICMP ping for the configured service(s) over each of the specified paths. A unique <a href="/docs/concepts_appid#appid-using-modules">application-id module</a> based service is generated to represent each of the potential paths. When the primary path is reachable, the corresponding primary path service will be activated to route the sessions. In the event of the primary path failure, the secondary path service will be activated and all subsequent sessions will then be routed using the new service.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="plugin-behavior"></a>Plugin Behavior<a aria-hidden="true" tabindex="-1" class="hash-link" href="#plugin-behavior" title="Direct link to heading">#</a></h2><p>At the core of the plugin is the <code>ping-monitor</code> utility which will be used to do a continuous ping to the destination over all available paths. The <code>icmp-probe-agent</code> will be notified of any path status changes by the <code>ping-monitor</code> to help make decisions on how to update the application module configuration. The <code>service-route &gt; icmp-probe &gt; vector-priority</code> will be used to sort the paths in logical order.</p><p>The application module JSON will be set up based on the <code>service &gt; icmp-probe</code> configuration to learn the address and transport. For the example above, the JSON for the primary path will look like this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-json codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;module-name&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;icmp-probe-internet&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;duration&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">86400</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;continue-file-watch&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;services&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;icmp-internet-broadband&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;ip-prefix&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0.0.0.0/0&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="sunny-day-scenario"></a>Sunny Day Scenario<a aria-hidden="true" tabindex="-1" class="hash-link" href="#sunny-day-scenario" title="Direct link to heading">#</a></h3><p>The diagram below shows two available paths - broadband and LTE. In a sunny day scenario, the plugin will perform continuous pings to the destination and report the status as up. In this case, the configured <code>service &gt; icmp-probe &gt; address</code> will be configured in the application module for broadband service. This in turn will trigger the 128T router to install the FIB entries for the <code>internet-broadband</code> service and all incoming sessions will be routed to the only available path for that service called <code>rte-internet-broadband</code>. This is essentially why the plugin can only operate in hunt mode.</p><p><img alt="Sunny Day Scenario" src="/assets/images/icmp_probe_sunny_day_scenario-40506cf89f36cd2f0dcdf2ad5531118f.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="primary-path-failure-scenario"></a>Primary Path Failure Scenario<a aria-hidden="true" tabindex="-1" class="hash-link" href="#primary-path-failure-scenario" title="Direct link to heading">#</a></h3><p>The diagram below depicts the failure to ping the server over the broadband interface. This failure would typically cause the traffic to be blackholed as the upstream ISP gateway is still reachable via ARP. The ICMP probe plugin, however, will detect the server ICMP failure and will in turn update the application module JSON for the LTE service with the configured <code>service &gt; icmp-probe &gt; address</code>. As a result of this, the 128T router will remove the FIB entries for the broadband service and replace it with FIB entries for the internet-lte service. All subsequent sessions will then be routed using the only available rte-internet-lte service route.</p><p><img alt="Primary Path Failure" src="/assets/images/icmp_probe_primary_path_failover_scenario-b1b1c4a782507bbe58bb85d1f65ea99c.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="primary-path-recovery-scenario"></a>Primary Path Recovery Scenario<a aria-hidden="true" tabindex="-1" class="hash-link" href="#primary-path-recovery-scenario" title="Direct link to heading">#</a></h3><p>As soon as the primary path (broadband in the above example) is reachable, the ICMP probe process will update application module JSON with the <code>internet-broadband</code> service. This will cause the subsequent sessions to migrate back to the primary broadband interface. When the primary path comes up the system will wait <code>service &gt; icmp-probe &gt; hold-down</code> seconds before bringing it in service. This will act as a damper in case the path is flapping too frequently.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="all-path-failures"></a>All Path Failures<a aria-hidden="true" tabindex="-1" class="hash-link" href="#all-path-failures" title="Direct link to heading">#</a></h3><p>The <code>service-policy &gt; best-effort</code> flag will determine the behavior of the <code>icmp-probe-agent</code> in the event where all paths are down. When <code>best-effort &gt; false</code>, the agent will update the application module with a <code>dummy</code> service name which would cause all FIB entries associated with the service to be withdrawn and the client connections to be rejected with an ICMP unreachable. When <code>best-effort &gt; true</code>, the agent will update the JSON with the primary path as defined by the vector-priority.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="configuration"></a>Configuration<a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuration" title="Direct link to heading">#</a></h2><p>For the plugin to operate we need to identify all the paths that can be used to reach the service. This is typically achieved by configuring a <code>service-route</code> on the router. The plugin configuration will leverage application-names and service-route to generate other relevant configurations.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="icmp-probe-enablement"></a>ICMP Probe Enablement<a aria-hidden="true" tabindex="-1" class="hash-link" href="#icmp-probe-enablement" title="Direct link to heading">#</a></h3><p>The ICMP probe plugin is enabled on the target router as shown in the configuration excerpt below:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-config codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.conductor1# show config running authority router router1 icmp-probe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        router  router1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            name        router1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            icmp-probe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                enabled  true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span></div></div></div></div></div><table><thead><tr><th>Element</th><th>Type</th><th>Properties</th><th>Description</th></tr></thead><tbody><tr><td>enabled</td><td>boolean</td><td>default: true</td><td>Control whether the plugin is to be run on the router</td></tr><tr><td>plugin-network</td><td>ip-prefix</td><td>default: 169.254.142.0/28</td><td>This controls the IP address for the internal network for carrying the ICMP ping packets. This should only be changed if there is a conflict with another IP block in use on the same host system.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="service-definition"></a>Service Definition<a aria-hidden="true" tabindex="-1" class="hash-link" href="#service-definition" title="Direct link to heading">#</a></h3><p>By setting the <code>service &gt; application-name &gt; icmp-probe</code> a <code>service</code> can be designated as a candidate for performing ICMP probe based monitoring. For example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-config codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.conductor1# show config running authority service internet</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        service  internet</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            name              internet</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            application-name  icmp-probe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            access-policy     lan</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                source  lan</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            access-policy     _internal_</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                source  _internal_</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            icmp-probe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                address    0.0.0.0/0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                hold-down  6</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><table><thead><tr><th>Element</th><th>Type</th><th>Properties</th><th>Description</th></tr></thead><tbody><tr><td>address</td><td>ip-prefix</td><td>mandatory</td><td>The list of addresses to be associated with the service. These are the same addresses that a user would typically configure as the <code>service &gt; address</code></td></tr><tr><td>hold-down</td><td>seconds</td><td>default: 5</td><td>The amount of time a path must remain up before considering it as reachable after detecting a failure.</td></tr></tbody></table><p>The following considerations should be made for defining the service properties:</p><ul><li>The <code>service &gt; name</code> is used to auto-generate services of the form <code>{service-name}-{path-name}</code>. If the combined names are larger than 255 characters it will result in validation errors.</li><li>The <code>service &gt; service-policy &gt; lb-strategy</code> is assumed to be <code>hunt</code> and is recommended to be set to that for clarity. Even if the policy is set to <code>proportional</code>, the plugin creates unique services per path so the end behavior will still be <code>hunt</code>.</li><li>All the other service configuration such as access-policy, service-policy, etc., will be copied into generated services for application identification.</li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>When enabling ICMP probe for SVR paths any auto-generated <code>peer</code> or <code>next-peer</code> service-route should be set to <code>generated &gt; false</code> before adding the ICMP probe configuration.</p></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The <code>service &gt; transport</code> can be configured to restrict the service to specific protocol and port ranges. The generated service will copy that configuration from the <code>icmp-probe</code> service.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="service-route-definition"></a>Service Route Definition<a aria-hidden="true" tabindex="-1" class="hash-link" href="#service-route-definition" title="Direct link to heading">#</a></h3><p>The <code>service-route</code> configuration is used to identify unique paths for a given service along with configuring the rest of the ICMP probe settings. For example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-config codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.conductor1# show config running authority router router1 service-route internet-orig-broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        router  router1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            name           router1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            service-route  internet-bb-rte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                name          internet-bb-rte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                service-name  internet</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                next-hop      node1 broadband-intf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    node-name  node1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    interface  broadband-intf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                icmp-probe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    path-name        broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    vector-priority  10</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    probe-address    8.8.8.8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    probe-interval   10</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    number-of-retries 4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    retry-interval    1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.conductor1# show config running authority router router1 service-route internet-orig-lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        router  router1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            name           router1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            service-route  internet-lte-rte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                name          internet-lte-rte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                service-name  internet</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                next-hop      node1 lte-intf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    node-name   node1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    interface   lte-intf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                icmp-probe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    path-name        lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    vector-priority  20</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    probe-address    9.9.9.9</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    retry-interval   1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><table><thead><tr><th>Element</th><th>Type</th><th>Properties</th><th>Description</th></tr></thead><tbody><tr><td>path-name</td><td>string</td><td>required</td><td>The name to uniquely identify a single path.</td></tr><tr><td>vector-priority</td><td>integer</td><td>required</td><td>Priority value for the path. Lower vector-priority values take precedence for load balancing upon path failure.</td></tr><tr><td>probe-address</td><td>ip-address</td><td>optional</td><td>Address to ping for determining path health. When a service is defined with a single /32 address, the service &gt; address will be used as the ICMP destination</td></tr><tr><td>probe-interval</td><td>seconds</td><td>default: 10</td><td>Duration of how often to perform an ICMP probe test to the <code>probe-address</code></td></tr><tr><td>number-of-retries</td><td>integer</td><td>default: 5</td><td>Number of consecutive missed ICMP ping responses from the destination within the retry-interval before deciding that the path is unusable.</td></tr><tr><td>retry-interval</td><td>seconds</td><td>default: 5</td><td>Duration within which to reach the destination. Each attempt will be made in duration / number-of-retries interval</td></tr></tbody></table><p>The following considerations should be made while configuring the service-route for the plugin:</p><ul><li>Each unique path on the router should correspond to a unique value for <code>service route &gt; next-hop &gt; icmp-probe &gt; path-name</code>. For example, if the router has two interfaces broadband and LTE, each would be represented with a unique <code>path-name</code>.</li><li>Each <code>service route &gt; next-hop &gt; icmp-probe &gt; path-name</code> should represent a single path on the router. This will be used for generating KNIs, tenants and other configurations required to make the implementation work. Failure to do so will result in the auto config generation to fail.</li><li>The <code>service route &gt; next-hop &gt; icmp-probe &gt; vector-priority</code> should reflect the order in which the paths are to be preferred for routing</li><li>When the <code>icmp-probe &gt; probe-address</code> is not configured, the service should have a single /32 address for the probe to work. Failure to do so will result in the auto config generation to fail.</li><li>When the service covers more than a single address (such as 0.0.0.0/0), the <code>icmp-probe &gt; probe-address</code> effectively ties the reachability fate of the entire service and path to that single server. This could cause some false positives in reporting the path as down if the upstream server is facing some issues.</li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The plugin can support any number of paths to be monitored for activity. Each of th path must have a unique vector-priority associated with them to determine the preference order.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="triggering-manual-failover-or-recovery"></a>Triggering Manual Failover Or Recovery<a aria-hidden="true" tabindex="-1" class="hash-link" href="#triggering-manual-failover-or-recovery" title="Direct link to heading">#</a></h2><p>In some situations, it might be desirable to forcefully trigger a failover or recovery for an otherwise healthy path. In the above example, the primary <code>broadband</code> can be brought down by doing the following:</p><ul><li>Stop the ping-monitor service for the path instance</li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># curl --unix-socket /var/run/128technology/plugins/icmp-probe-agent.sock http://localhost/path-info</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;internet&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;current-path&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;broadband&quot;</span><span class="token plain">, </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;paths&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;broadband&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;up&quot;</span><span class="token plain">, </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;lte&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;up&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># systemctl stop ping-monitor-namespace@internet-broadband.service</span></div></div></div></div></div><ul><li>Edit the <code>/var/run/128technology/plugins/ping_monitor/{service}-{path}.state</code> and set the <code>STATUS=down</code></li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># echo &quot;STATUS=down&quot; &gt;&gt; /var/run/128technology/plugins/ping_monitor/internet-broadband.state</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># curl --unix-socket /var/run/128technology/plugins/icmp-probe-agent.sock http://localhost/path-info</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;internet&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;current-path&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;lte&quot;</span><span class="token plain">, </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;paths&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;broadband&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;down&quot;</span><span class="token plain">, </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;lte&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;up&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># systemctl status 128T-icmp-probe-agent.service -l</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">● 128T-icmp-probe-agent.service - ICMP probe agent</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Loaded: loaded </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">/usr/lib/systemd/system/128T-icmp-probe-agent.service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> enabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> vendor preset: disabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Active: active </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">running</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> since Thu </span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token plain">-07-30 04:56:07 UTC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> 18min ago</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Main PID: </span><span class="token number" style="color:rgb(247, 140, 108)">32226</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Tasks: </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Memory: </span><span class="token number" style="color:rgb(247, 140, 108)">22</span><span class="token plain">.8M</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   CGroup: /system.slice/128T-icmp-probe-agent.service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">           └─32226 python3.6 /usr/lib/128T-icmp-reachability-detection//par/icmpProbeAgent.par -l DEBUG</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 05:14:42 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32226</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: plugins.icmp_reachability_detection.router.icmp_probe_agent.app_id - Processing: </span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token plain">.0.0/0 None</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 05:14:42 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32226</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: t128.plugin.lib.app_id.builder - Updating /var/run/128technology/application-modules/icmp-probe-internet.json with</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                           </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                             </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;module-name&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;icmp-probe-internet&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                             </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;duration&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">86400</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                             </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;continue-file-watch&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> true,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                             </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;services&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                               </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;icmp-internet-lte&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                                 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                                   </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ip-prefix&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0.0.0.0/0&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                                 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                               </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                             </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                           </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 05:14:42 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32226</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: plugins.icmp_reachability_detection.router.icmp_probe_agent.state_machine - Advancing from State.PathUp-</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">State.PathUp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 05:14:42 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32226</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: aiohttp.access -  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain">/Jul/2020:05:14:42 +0000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;POST /ping-status HTTP/1.1&quot;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">180</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;-&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;curl/7.29.0&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 05:14:42 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32226</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: plugins.icmp_reachability_detection.router.icmp_probe_agent.agent - Handling status request</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 05:14:42 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32226</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: plugins.icmp_reachability_detection.router.icmp_probe_agent.agent - internet received </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;current-path&#x27;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;lte&#x27;</span><span class="token plain">, </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;paths&#x27;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;broadband&#x27;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;down&#x27;</span><span class="token plain">, </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;lte&#x27;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;up&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 05:14:42 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32226</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: aiohttp.access -  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain">/Jul/2020:05:14:42 +0000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GET /path-info HTTP/1.1&quot;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">239</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;-&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;curl/7.29.0&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 05:14:43 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32226</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: plugins.icmp_reachability_detection.router.icmp_probe_agent.agent - Handling status request</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 05:14:43 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32226</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: plugins.icmp_reachability_detection.router.icmp_probe_agent.agent - internet received </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;current-path&#x27;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;lte&#x27;</span><span class="token plain">, </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;paths&#x27;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;broadband&#x27;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;down&#x27;</span><span class="token plain">, </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;lte&#x27;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;up&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 05:14:43 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32226</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: aiohttp.access -  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain">/Jul/2020:05:14:43 +0000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GET /path-info HTTP/1.1&quot;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">239</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;-&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;curl/7.29.0&quot;</span></div></div></div></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>The same steps can be used to bring <code>up</code> a path that is currently <code>down</code> by changing <code>STATUS=up</code> in the steps above.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="troubleshooting"></a>Troubleshooting<a aria-hidden="true" tabindex="-1" class="hash-link" href="#troubleshooting" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="checking-the-icmp-probe-and-agent-status"></a>Checking the ICMP Probe and Agent Status<a aria-hidden="true" tabindex="-1" class="hash-link" href="#checking-the-icmp-probe-and-agent-status" title="Direct link to heading">#</a></h3><p>The status of the ICMP probe for the various paths can be discovered by querying the path based KNI interfaces as shown below:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.conductor1# show device-interface router router1 name lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Thu 2020-07-30 04:50:21 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">============================================</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> node1.router1:lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">============================================</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Type:                host</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Forwarding:          true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Mode:                host</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> MAC Address:         6a:5e:62:52:e8:d0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Admin Status:        up</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Operational Status:  up</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Redundancy Status:   non-redundant</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Speed:               1000</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> in-octets:                     6053488</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> in-unicast-pkts:                100882</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> in-errors:                           0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> out-octets:                    4328304</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> out-unicast-pkts:                92378</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> out-errors:                          0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ICMP:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Agent:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     internet:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       current-path:  broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       paths:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         broadband: up</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         lte:       up</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Probe:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       icmp-probe-internet-broadband:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         attempts:    733</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         elapsed:     0.01019028015434742</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         last_attempt: 2020-07-30 18:39:31.779657</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         status:      up</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.07 seconds</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.conductor1#</span></div></div></div></div></div><p>The <code>icmp-probe-agent</code> determines the state of the current path selection and reports its status via the path KNIs as seen in the example above. The result of the path selection should also be reflected via application-id module changes and can be viewed as follows:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.conductor1</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># show application names router router1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Thu </span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token plain">-07-30 05:09:39 UTC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Node: node1.router1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Application Name          Session Count   Ip Tuple Count   Date Discovered       Last Updated</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> icmp-internet-broadband                   </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain">                </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain">   </span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token plain">-07-30 05:09:15   </span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token plain">-07-30 05:09:15</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Completed </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.11</span><span class="token plain"> seconds</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.conductor1</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="service-status"></a>Service Status<a aria-hidden="true" tabindex="-1" class="hash-link" href="#service-status" title="Direct link to heading">#</a></h3><p>The plugin relies various <code>systemd</code> services to work in concert to provide a robust solution.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="plugin-config-handling"></a>Plugin Config Handling<a aria-hidden="true" tabindex="-1" class="hash-link" href="#plugin-config-handling" title="Direct link to heading">#</a></h4><p>The following services are triggered for any changes made to the plugin configuration on the conductor.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># systemctl status 128T-handle-icmp-reachability-detection-config.path</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">● 128T-handle-icmp-reachability-detection-config.path</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Loaded: loaded </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">/usr/lib/systemd/system/128T-handle-icmp-reachability-detection-config.path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> enabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> vendor preset: disabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Active: active </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">waiting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> since Mon </span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token plain">-06-29 </span><span class="token number" style="color:rgb(247, 140, 108)">22</span><span class="token plain">:17:07 UTC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token plain"> weeks </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"> days ago</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jun </span><span class="token number" style="color:rgb(247, 140, 108)">29</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">22</span><span class="token plain">:17:07 t102-dut2.openstacklocal systemd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: Stopped 128T-handle-icmp-reachability-detection-config.path.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jun </span><span class="token number" style="color:rgb(247, 140, 108)">29</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">22</span><span class="token plain">:17:07 t102-dut2.openstacklocal systemd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: Stopping 128T-handle-icmp-reachability-detection-config.path.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jun </span><span class="token number" style="color:rgb(247, 140, 108)">29</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">22</span><span class="token plain">:17:07 t102-dut2.openstacklocal systemd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: Started 128T-handle-icmp-reachability-detection-config.path.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># systemctl status 128T-handle-icmp-reachability-detection-config.service</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">● 128T-handle-icmp-reachability-detection-config.service - Config Handler </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> 128T icmp reachability detection plugin</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Loaded: loaded </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">/usr/lib/systemd/system/128T-handle-icmp-reachability-detection-config.service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> static</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> vendor preset: disabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Active: inactive </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">dead</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> since Sat </span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token plain">-07-25 06:02:34 UTC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token plain"> days ago</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Main PID: </span><span class="token number" style="color:rgb(247, 140, 108)">19709</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">code</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">exited, </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">status</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain">/SUCCESS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">25</span><span class="token plain"> 06:02:34 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">19709</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: plugins.icmp_reachability_detection.router.lib.config - Generating KNI config </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> internet and lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">25</span><span class="token plain"> 06:02:34 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">19709</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: plugins.icmp_reachability_detection.router.lib.config - Generating application-id script </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">service</span><span class="token plain"> internet</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">25</span><span class="token plain"> 06:02:34 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">19709</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: __main__ - Stopping the icmp-probe-agent </span><span class="token function" style="color:rgb(130, 170, 255)">service</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">25</span><span class="token plain"> 06:02:34 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">19709</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: __main__ - Stopping services ping-monitor-namespace@internet-broadband.service 128T-icmp-path-change-notifier@internet-broadband.path</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">25</span><span class="token plain"> 06:02:34 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">19709</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: __main__ - Stopping services ping-monitor-namespace@internet-lte.service 128T-icmp-path-change-notifier@internet-lte.path</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">25</span><span class="token plain"> 06:02:34 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">19709</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: __main__ - Restarting the icmp-probe-agent </span><span class="token function" style="color:rgb(130, 170, 255)">service</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">25</span><span class="token plain"> 06:02:34 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">19709</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: __main__ - Starting services ping-monitor-namespace@internet-broadband.service 128T-icmp-path-change-notifier@internet-broadband.path</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">25</span><span class="token plain"> 06:02:34 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">19709</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: __main__ - Starting services ping-monitor-namespace@internet-lte.service 128T-icmp-path-change-notifier@internet-lte.path</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">25</span><span class="token plain"> 06:02:34 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">19709</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: __main__ - Done</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">25</span><span class="token plain"> 06:02:34 t102-dut2.openstacklocal systemd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: Started Config Handler </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> 128T icmp reachability detection plugin.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="status-of-the-icmp-pings-per-path"></a>Status of the ICMP Pings Per Path<a aria-hidden="true" tabindex="-1" class="hash-link" href="#status-of-the-icmp-pings-per-path" title="Direct link to heading">#</a></h4><p>The <code>ping-monitor</code> utility is used to perform a continuous ping and is run as a template service. The status for each of the path instances can be checked as follows:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># systemctl status ping-monitor-namespace@internet-broadband.service</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">● ping-monitor-namespace@internet-broadband.service - Ping Monitor </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> destination internet/broadband within network namespace</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Loaded: loaded </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">/usr/lib/systemd/system/ping-monitor-namespace@.service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> disabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> vendor preset: disabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Active: active </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">running</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> since Thu </span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token plain">-07-30 04:56:07 UTC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> 1min 58s ago</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Main PID: </span><span class="token number" style="color:rgb(247, 140, 108)">32229</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   CGroup: /system.slice/system-ping</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">x2dmonitor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">x2dnamespace.slice/ping-monitor-namespace@internet-broadband.service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">           └─32229 python3.6 /usr/lib/ping-monitor//par/ping_monitor.par --path-name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">internet-broadband --address</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">8.8</span><span class="token plain">.8.8 --timeout</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain"> --num-tries</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain"> --interval</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain"> --socket-path</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/var/run/128technology/icmp-probe-internet-broadband.sock --log-level</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:57:17 t102-dut2.openstacklocal ip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32229</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: - - </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain">/Jul/2020 04:57:17</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GET / HTTP/1.1&quot;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"> -</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:57:18 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32229</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: apps.ping_monitor.ping - Got </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Errno </span><span class="token number" style="color:rgb(247, 140, 108)">101</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> Network is unreachable </span><span class="token keyword" style="font-style:italic">while</span><span class="token plain"> pinging </span><span class="token number" style="color:rgb(247, 140, 108)">8.8</span><span class="token plain">.8.8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:57:27 t102-dut2.openstacklocal ip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32229</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: - - </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain">/Jul/2020 04:57:27</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GET / HTTP/1.1&quot;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"> -</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:57:28 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32229</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: apps.ping_monitor.ping - Got </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Errno </span><span class="token number" style="color:rgb(247, 140, 108)">101</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> Network is unreachable </span><span class="token keyword" style="font-style:italic">while</span><span class="token plain"> pinging </span><span class="token number" style="color:rgb(247, 140, 108)">8.8</span><span class="token plain">.8.8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:57:37 t102-dut2.openstacklocal ip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32229</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: - - </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain">/Jul/2020 04:57:37</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GET / HTTP/1.1&quot;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"> -</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:57:38 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32229</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: apps.ping_monitor.ping - Got </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Errno </span><span class="token number" style="color:rgb(247, 140, 108)">101</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> Network is unreachable </span><span class="token keyword" style="font-style:italic">while</span><span class="token plain"> pinging </span><span class="token number" style="color:rgb(247, 140, 108)">8.8</span><span class="token plain">.8.8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:57:48 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32229</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: apps.ping_monitor.ping - Got </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Errno </span><span class="token number" style="color:rgb(247, 140, 108)">101</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> Network is unreachable </span><span class="token keyword" style="font-style:italic">while</span><span class="token plain"> pinging </span><span class="token number" style="color:rgb(247, 140, 108)">8.8</span><span class="token plain">.8.8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:57:49 t102-dut2.openstacklocal ip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32229</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: - - </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain">/Jul/2020 04:57:49</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GET / HTTP/1.1&quot;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"> -</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:57:58 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32229</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: apps.ping_monitor.ping - Got </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Errno </span><span class="token number" style="color:rgb(247, 140, 108)">101</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> Network is unreachable </span><span class="token keyword" style="font-style:italic">while</span><span class="token plain"> pinging </span><span class="token number" style="color:rgb(247, 140, 108)">8.8</span><span class="token plain">.8.8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:58:00 t102-dut2.openstacklocal ip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32229</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: - - </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain">/Jul/2020 04:58:00</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GET / HTTP/1.1&quot;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"> -</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># systemctl status ping-monitor-namespace@internet-lte.service</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">● ping-monitor-namespace@internet-lte.service - Ping Monitor </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> destination internet/lte within network namespace</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Loaded: loaded </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">/usr/lib/systemd/system/ping-monitor-namespace@.service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> disabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> vendor preset: disabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Active: active </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">running</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> since Thu </span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token plain">-07-30 04:56:08 UTC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> 2min 40s ago</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Main PID: </span><span class="token number" style="color:rgb(247, 140, 108)">32232</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   CGroup: /system.slice/system-ping</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">x2dmonitor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">x2dnamespace.slice/ping-monitor-namespace@internet-lte.service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">           └─32232 python3.6 /usr/lib/ping-monitor//par/ping_monitor.par --path-name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">internet-lte --address</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">9.9</span><span class="token plain">.9.9 --timeout</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> --num-tries</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain"> --interval</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain"> --socket-path</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/var/run/128technology/icmp-probe-internet-lte.sock --log-level</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:57:09 t102-dut2.openstacklocal ip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32232</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: - - </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain">/Jul/2020 04:57:09</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GET / HTTP/1.1&quot;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"> -</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:57:19 t102-dut2.openstacklocal ip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32232</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: - - </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain">/Jul/2020 04:57:19</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GET / HTTP/1.1&quot;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"> -</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:57:29 t102-dut2.openstacklocal ip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32232</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: - - </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain">/Jul/2020 04:57:29</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GET / HTTP/1.1&quot;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"> -</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:57:40 t102-dut2.openstacklocal ip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32232</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: - - </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain">/Jul/2020 04:57:40</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GET / HTTP/1.1&quot;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"> -</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:57:51 t102-dut2.openstacklocal ip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32232</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: - - </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain">/Jul/2020 04:57:51</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GET / HTTP/1.1&quot;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"> -</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:58:02 t102-dut2.openstacklocal ip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32232</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: - - </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain">/Jul/2020 04:58:02</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GET / HTTP/1.1&quot;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"> -</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:58:13 t102-dut2.openstacklocal ip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32232</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: - - </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain">/Jul/2020 04:58:13</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GET / HTTP/1.1&quot;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"> -</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:58:23 t102-dut2.openstacklocal ip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32232</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: - - </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain">/Jul/2020 04:58:23</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GET / HTTP/1.1&quot;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"> -</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:58:34 t102-dut2.openstacklocal ip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32232</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: - - </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain">/Jul/2020 04:58:34</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GET / HTTP/1.1&quot;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"> -</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:58:44 t102-dut2.openstacklocal ip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32232</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: - - </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain">/Jul/2020 04:58:44</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GET / HTTP/1.1&quot;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"> -</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Additional debugging can be turned on for the <code>ping-monitor</code> instance by setting <code>LOG_LEVEL=DEBUG</code> in <code>/var/run/128technology/plugins/ping_monitor/{service}-{path}.conf</code> config file</p></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="status-of-the-path-selection-algorithm"></a>Status of the Path Selection Algorithm<a aria-hidden="true" tabindex="-1" class="hash-link" href="#status-of-the-path-selection-algorithm" title="Direct link to heading">#</a></h4><p>The <code>icmp-probe-agent</code> takes its inputs from the <code>ping-monitor</code> services by watching on path updates for those instances. In addition it determines the current path selection and udpates the <code>application-id</code> modules accordingly. The following service status can be used for troubleshooting:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># systemctl status 128T-icmp-path-change-notifier@internet-broadband.path</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">● 128T-icmp-path-change-notifier@internet-broadband.path - Path watcher </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> ping-monitor status updates on internet-broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Loaded: loaded </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">/usr/lib/systemd/system/128T-icmp-path-change-notifier@.path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> disabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> vendor preset: disabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Active: active </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">waiting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> since Thu </span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token plain">-07-30 04:56:07 UTC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> 6min ago</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:07 t102-dut2.openstacklocal systemd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: Started Path watcher </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> ping-monitor status updates on internet-broadband.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># systemctl status 128T-icmp-path-change-notifier@internet-broadband.service</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">● 128T-icmp-path-change-notifier@internet-broadband.service - Ping Monitor </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> destination internet-broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Loaded: loaded </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">/usr/lib/systemd/system/128T-icmp-path-change-notifier@.service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> static</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> vendor preset: disabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Active: inactive </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">dead</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> since Thu </span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token plain">-07-30 04:56:09 UTC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> 6min ago</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Process: </span><span class="token number" style="color:rgb(247, 140, 108)">32271</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">ExecStop</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/usr/bin/curl --unix-socket /var/run/128technology/plugins/icmp-probe-agent.sock http://localhost/path-info </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">code</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">exited, </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">status</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain">/SUCCESS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Process: </span><span class="token number" style="color:rgb(247, 140, 108)">32248</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">ExecStart</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/usr/libexec/128T-icmp-status-update.sh </span><span class="token variable" style="color:rgb(191, 199, 213)">${NAME}</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">${STATUS}</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">${MAX_RETRIES}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">code</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">exited, </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">status</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain">/SUCCESS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Process: </span><span class="token number" style="color:rgb(247, 140, 108)">32246</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">ExecStartPre</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/usr/bin/echo Executing path update </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">${NAME}</span><span class="token plain"> with </span><span class="token variable" style="color:rgb(191, 199, 213)">${STATUS}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">code</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">exited, </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">status</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain">/SUCCESS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Main PID: </span><span class="token number" style="color:rgb(247, 140, 108)">32248</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">code</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">exited, </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">status</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain">/SUCCESS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:08 t102-dut2.openstacklocal systemd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: Starting Ping Monitor </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> destination internet-broadband</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:08 t102-dut2.openstacklocal echo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32246</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: Executing path update </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> internet-broadband with down</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:08 t102-dut2.openstacklocal 128T-icmp-status-update.sh</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32248</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: failed to update icmp-probe-agent </span><span class="token number" style="color:rgb(247, 140, 108)">7</span><span class="token plain">, retrying </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> a second</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:09 t102-dut2.openstacklocal 128T-icmp-status-update.sh</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32248</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: Finished updating the icmp-probe-agent</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:09 t102-dut2.openstacklocal curl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32271</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:09 t102-dut2.openstacklocal curl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32271</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: Dload  Upload   Total   Spent    Left  Speed</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:09 t102-dut2.openstacklocal curl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32271</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">155B blob data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:09 t102-dut2.openstacklocal curl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32271</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;internet&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;current-path&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;lte&quot;</span><span class="token plain">, </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;paths&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;broadband&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;down&quot;</span><span class="token plain">, </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;lte&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;up&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:09 t102-dut2.openstacklocal systemd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: Started Ping Monitor </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> destination internet-broadband.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># systemctl status 128T-icmp-path-change-notifier@internet-lte.path</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">● 128T-icmp-path-change-notifier@internet-lte.path - Path watcher </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> ping-monitor status updates on internet-lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Loaded: loaded </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">/usr/lib/systemd/system/128T-icmp-path-change-notifier@.path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> disabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> vendor preset: disabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Active: active </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">waiting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> since Thu </span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token plain">-07-30 04:56:08 UTC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> 6min ago</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:08 t102-dut2.openstacklocal systemd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: Started Path watcher </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> ping-monitor status updates on internet-lte.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># systemctl status 128T-icmp-path-change-notifier@internet-lte.service</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">● 128T-icmp-path-change-notifier@internet-lte.service - Ping Monitor </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> destination internet-lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Loaded: loaded </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">/usr/lib/systemd/system/128T-icmp-path-change-notifier@.service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> static</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> vendor preset: disabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Active: inactive </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">dead</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> since Thu </span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token plain">-07-30 04:56:09 UTC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> 6min ago</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Process: </span><span class="token number" style="color:rgb(247, 140, 108)">32262</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">ExecStop</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/usr/bin/curl --unix-socket /var/run/128technology/plugins/icmp-probe-agent.sock http://localhost/path-info </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">code</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">exited, </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">status</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain">/SUCCESS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Process: </span><span class="token number" style="color:rgb(247, 140, 108)">32238</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">ExecStart</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/usr/libexec/128T-icmp-status-update.sh </span><span class="token variable" style="color:rgb(191, 199, 213)">${NAME}</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">${STATUS}</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">${MAX_RETRIES}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">code</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">exited, </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">status</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain">/SUCCESS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Process: </span><span class="token number" style="color:rgb(247, 140, 108)">32237</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">ExecStartPre</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/usr/bin/echo Executing path update </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">${NAME}</span><span class="token plain"> with </span><span class="token variable" style="color:rgb(191, 199, 213)">${STATUS}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">code</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">exited, </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">status</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain">/SUCCESS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Main PID: </span><span class="token number" style="color:rgb(247, 140, 108)">32238</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">code</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">exited, </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">status</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain">/SUCCESS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:08 t102-dut2.openstacklocal systemd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: Starting Ping Monitor </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> destination internet-lte</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:08 t102-dut2.openstacklocal echo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32237</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: Executing path update </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> internet-lte with up</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:08 t102-dut2.openstacklocal 128T-icmp-status-update.sh</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32238</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: failed to update icmp-probe-agent </span><span class="token number" style="color:rgb(247, 140, 108)">7</span><span class="token plain">, retrying </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> a second</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:09 t102-dut2.openstacklocal 128T-icmp-status-update.sh</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32238</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: Finished updating the icmp-probe-agent</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:09 t102-dut2.openstacklocal curl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32262</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:09 t102-dut2.openstacklocal curl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32262</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: Dload  Upload   Total   Spent    Left  Speed</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:09 t102-dut2.openstacklocal curl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32262</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">155B blob data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:09 t102-dut2.openstacklocal systemd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: Started Ping Monitor </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> destination internet-lte.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:09 t102-dut2.openstacklocal curl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32262</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;internet&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;current-path&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;broadband&quot;</span><span class="token plain">, </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;paths&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;broadband&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;down&quot;</span><span class="token plain">, </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;lte&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;up&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># systemctl status 128T-icmp-probe-agent.service  -l</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">● 128T-icmp-probe-agent.service - ICMP probe agent</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Loaded: loaded </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">/usr/lib/systemd/system/128T-icmp-probe-agent.service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> enabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> vendor preset: disabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Active: active </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">running</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> since Thu </span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token plain">-07-30 04:56:07 UTC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> 7min ago</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Main PID: </span><span class="token number" style="color:rgb(247, 140, 108)">32226</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Tasks: </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Memory: </span><span class="token number" style="color:rgb(247, 140, 108)">22</span><span class="token plain">.2M</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   CGroup: /system.slice/128T-icmp-probe-agent.service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">           └─32226 python3.6 /usr/lib/128T-icmp-reachability-detection//par/icmpProbeAgent.par -l DEBUG</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:09 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32226</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: plugins.icmp_reachability_detection.router.icmp_probe_agent.state_machine - Updating path-info PathUp </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> path lte </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">service</span><span class="token plain"> internet</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:09 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32226</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: plugins.icmp_reachability_detection.router.icmp_probe_agent.app_id - Service DotMap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">icmpProbe</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">DotMap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">address</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0.0.0.0/0&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">holdDown</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;internet&#x27;</span><span class="token plain">, </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">transport</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">DotMap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">))</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:09 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32226</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: plugins.icmp_reachability_detection.router.icmp_probe_agent.app_id - Creating </span><span class="token function" style="color:rgb(130, 170, 255)">service</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> internet, icmp-internet-lte, </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0.0.0.0/0&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">, DotMap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:09 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32226</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: plugins.icmp_reachability_detection.router.icmp_probe_agent.app_id - Processing: </span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token plain">.0.0/0 None</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:09 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32226</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: t128.plugin.lib.app_id.builder - Updating /var/run/128technology/application-modules/icmp-probe-internet.json with</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                           </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                             </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;module-name&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;icmp-probe-internet&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                             </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;duration&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">86400</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                             </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;continue-file-watch&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> true,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                             </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;services&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                               </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;icmp-internet-lte&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                                 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                                   </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ip-prefix&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0.0.0.0/0&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                                 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                               </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                             </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                           </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:09 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32226</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: plugins.icmp_reachability_detection.router.icmp_probe_agent.state_machine - Advancing from State.HoldDown-</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">State.PathUp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:09 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32226</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: aiohttp.access -  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain">/Jul/2020:04:56:09 +0000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;POST /ping-status HTTP/1.1&quot;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">180</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;-&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;curl/7.29.0&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:09 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32226</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: plugins.icmp_reachability_detection.router.icmp_probe_agent.agent - Handling status request</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:09 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32226</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: plugins.icmp_reachability_detection.router.icmp_probe_agent.agent - internet received </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;current-path&#x27;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;lte&#x27;</span><span class="token plain">, </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;paths&#x27;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;broadband&#x27;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;down&#x27;</span><span class="token plain">, </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;lte&#x27;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;up&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Jul </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 04:56:09 t102-dut2.openstacklocal python3.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">32226</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">: aiohttp.access -  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain">/Jul/2020:04:56:09 +0000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GET /path-info HTTP/1.1&quot;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">239</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;-&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;curl/7.29.0&quot;</span></div></div></div></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Additional debugging can be turned on for the <code>icmp-probe-agent</code> by passing the <code>-l DEBUG</code> to the <code>/usr/lib/systemd/system/128T-icmp-probe-agent.service</code> on the <code>ExecStart</code> line</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="appendix-auto-generated-configuration"></a>Appendix: Auto-Generated Configuration<a aria-hidden="true" tabindex="-1" class="hash-link" href="#appendix-auto-generated-configuration" title="Direct link to heading">#</a></h2><p>The <code>service &gt; icmp-probe</code> and <code>service-route &gt; icmp-probe</code> configuration will be used to generate other functional configuration elements as needed. At a high level, configuration needs to be generated to do the following:</p><ul><li>ICMP reachability detection<ul><li>KNI for each of the paths to be used for the service(s)</li><li>Service and service-routes to enable ICMP over those paths</li><li>Tenants to uniquely identify each of the generated KNIs</li></ul></li><li>Per path app-id services<ul><li>An application-id service with unique application name for each of the path for the service</li><li>Service routes to route sessions over appropriate paths</li></ul></li></ul><p>The above example configuration will result in the following auto-generated configuration for this plugin</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-config codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.conductor1# show config running authority tenant broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        tenant  broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            name         broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            description  &quot;Auto-generated tenant for icmp-reachability-detection&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.conductor1# show config running authority tenant lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        tenant  lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            name         lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            description  &quot;Auto-generated tenant for icmp-reachability-detection&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.conductor1# show config running authority service broadband-icmp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        service  broadband-icmp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            name                  broadband-icmp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            transport             icmp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                protocol  icmp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            address               8.8.8.8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            access-policy         broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                source      broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                permission  allow</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            share-service-routes  false</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.conductor1# show config running authority service lte-icmp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        service  lte-icmp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            name                  lte-icmp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            transport             icmp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                protocol  icmp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            address               9.9.9.9</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            access-policy         lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                source      lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                permission  allow</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            share-service-routes  false</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.conductor1# show config running authority service internet-broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        service  internet-broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            name              internet-broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            application-name  icmp-internet-broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            access-policy     _internal_</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                source  _internal_</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.conductor1# show config running authority service internet-lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        service  internet-lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            name              internet-lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            application-name  icmp-internet-lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            access-policy     _internal_</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                source  _internal_</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.conductor1# show config running authority router router1 node node1 device-interface broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        router  router1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            name  router1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            node  node1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                name              node1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                device-interface  broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    name               broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    description        &quot;Auto generated host KNI interface for internet&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    type               host</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    network-namespace  broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    network-interface  broadband-intf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        name       broadband-intf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        global-id  3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        type       external</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        tenant     broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        address    169.254.142.2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            ip-address     169.254.142.2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            prefix-length  31</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            gateway        169.254.142.3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.conductor1# show config running authority router router1 node node1 device-interface lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        router  router1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            name  router1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            node  node1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                name              node1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                device-interface  lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    name               lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    description        &quot;Auto generated host KNI interface for internet&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    type               host</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    network-namespace  lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    network-interface  lte-intf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        name       lte-intf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        global-id  5</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        type       external</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        tenant     lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        address    169.254.142.4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            ip-address     169.254.142.4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            prefix-length  31</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            gateway        169.254.142.5</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.conductor1# show config running authority router router1 service-route rte-broadband-icmp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        router  router1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            name           router1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            service-route  rte-broadband-icmp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                name          rte-broadband-icmp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                service-name  broadband-icmp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                next-hop      node1 broadband-intf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    node-name  node1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    interface  broadband-intf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.conductor1# show config running authority router router1 service-route rte-lte-icmp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        router  router1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            name           router1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            service-route  rte-lte-icmp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                name          rte-lte-icmp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                service-name  lte-icmp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                next-hop      node1 lte-intf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    node-name   node1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    interface   lte-intf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.conductor1# show config running authority router router1 service-route rte-internet-broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        router  router1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            name           router1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            service-route  rte-internet-broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                name          rte-internet-broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                service-name  internet-broadband</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                next-hop      node1 broadband-intf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    node-name  node1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    interface  broadband-intf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admin@node1.conductor1# show config running authority router router1 service-route rte-internet-lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    authority</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        router  router1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            name           router1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            service-route  rte-internet-lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                name          rte-internet-lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                service-name  internet-lte</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                next-hop      node1 lte-intf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    node-name   node1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    interface   lte-intf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><p>Some of the key aspects of the auto-generated configuration are as follows:</p><ul><li>Each of the generated service has an application-name of the form <code>icmp-{service}-{path}</code> as can be seen with <code>icmp-internet-broadband</code> and <code>icmp-internet-lte</code> in the above example. These application names determine which path is currently available for the service.</li><li>The generated KNIs each represent a unique path and are useful for performing the ICMP probe over those paths. The <code>broadband-icmp</code> and <code>lte-icmp</code> services are generated to assist with that.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="release-notes"></a>Release Notes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#release-notes" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="release-301"></a>Release 3.0.1<a aria-hidden="true" tabindex="-1" class="hash-link" href="#release-301" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="issues-fixed"></a>Issues Fixed<a aria-hidden="true" tabindex="-1" class="hash-link" href="#issues-fixed" title="Direct link to heading">#</a></h4><ul><li><p><strong>PLUGIN-1170</strong>  Config generation for the plugin failing in the Bonsai mode</p><p><em><strong>Resolution:</strong></em> Correctly handle the config generation for routers where the ICMP plugin is not enabled during bonsai config generation</p></li><li><p><strong>PLUGIN-1088</strong>  ICMP plugin keeps pinging in the background even when disabled</p><p><em><strong>Resolution:</strong></em> When the plugin is disabled the relevant systemd services are stopped and the router components are uninstalled.</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="release-201"></a>Release 2.0.1<a aria-hidden="true" tabindex="-1" class="hash-link" href="#release-201" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="issues-fixed-1"></a>Issues Fixed<a aria-hidden="true" tabindex="-1" class="hash-link" href="#issues-fixed-1" title="Direct link to heading">#</a></h4><ul><li><p><strong>PLUGIN-1088</strong>  ICMP plugin keeps pinging in the background even when disabled</p><p><em><strong>Resolution:</strong></em> When the plugin is disabled the relevant systemd services are stopped and the router components are uninstalled.</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="release-300"></a>Release 3.0.0<a aria-hidden="true" tabindex="-1" class="hash-link" href="#release-300" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="issues-fixed-2"></a>Issues Fixed<a aria-hidden="true" tabindex="-1" class="hash-link" href="#issues-fixed-2" title="Direct link to heading">#</a></h4><ul><li><strong>PLUGIN-768</strong> Support the ICMP Reachability Detection plugin in 128T versions <code>5.1.0</code> and greater.</li><li><strong>PLUGIN-611</strong> Added support for plugin state. Plugin state information can be accessed on the PCLI using <code>show plugins state [router &lt;router&gt;] [node &lt;node&gt;] [{detail | summmary}] 128T-icmp-reachability-detection</code></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-10-07T15:41:17.000Z" class="docLastUpdatedAt_217_">10/7/2021</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/plugin_gre"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« GRE Plugin</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/plugin_ipsec_client"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">IPsec Client plugin »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link">Overview</a></li><li><a href="#plugin-behavior" class="table-of-contents__link">Plugin Behavior</a><ul><li><a href="#sunny-day-scenario" class="table-of-contents__link">Sunny Day Scenario</a></li><li><a href="#primary-path-failure-scenario" class="table-of-contents__link">Primary Path Failure Scenario</a></li><li><a href="#primary-path-recovery-scenario" class="table-of-contents__link">Primary Path Recovery Scenario</a></li><li><a href="#all-path-failures" class="table-of-contents__link">All Path Failures</a></li></ul></li><li><a href="#configuration" class="table-of-contents__link">Configuration</a><ul><li><a href="#icmp-probe-enablement" class="table-of-contents__link">ICMP Probe Enablement</a></li><li><a href="#service-definition" class="table-of-contents__link">Service Definition</a></li><li><a href="#service-route-definition" class="table-of-contents__link">Service Route Definition</a></li></ul></li><li><a href="#triggering-manual-failover-or-recovery" class="table-of-contents__link">Triggering Manual Failover Or Recovery</a></li><li><a href="#troubleshooting" class="table-of-contents__link">Troubleshooting</a><ul><li><a href="#checking-the-icmp-probe-and-agent-status" class="table-of-contents__link">Checking the ICMP Probe and Agent Status</a></li><li><a href="#service-status" class="table-of-contents__link">Service Status</a></li></ul></li><li><a href="#appendix-auto-generated-configuration" class="table-of-contents__link">Appendix: Auto-Generated Configuration</a></li><li><a href="#release-notes" class="table-of-contents__link">Release Notes</a><ul><li><a href="#release-301" class="table-of-contents__link">Release 3.0.1</a></li><li><a href="#release-201" class="table-of-contents__link">Release 2.0.1</a></li><li><a href="#release-300" class="table-of-contents__link">Release 3.0.0</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center"><div>Copyright © 2021 Juniper Networks, Inc.</div></div></div></footer></div>
<script src="/styles.75c4618c.js"></script>
<script src="/runtime~main.fa7d1ff6.js"></script>
<script src="/main.2cd7b9df.js"></script>
<script src="/1.a2d28e4b.js"></script>
<script src="/2.76740694.js"></script>
<script src="/166.58a01472.js"></script>
<script src="/169.89c9a299.js"></script>
<script src="/935f2afb.2b540f84.js"></script>
<script src="/17896441.a2671929.js"></script>
<script src="/7eb68200.923075de.js"></script>
</body>
</html>