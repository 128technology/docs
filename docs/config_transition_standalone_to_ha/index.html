<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<title data-react-helmet="true">Transitioning a Conductor from Standalone to HA | SSN Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.128technology.com/docs/config_transition_standalone_to_ha"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Transitioning a Conductor from Standalone to HA | SSN Docs"><meta data-react-helmet="true" name="description" content="This guide provides a procedure for transitioning a standalone 128T Conductor to an HA 128T Conductor."><meta data-react-helmet="true" property="og:description" content="This guide provides a procedure for transitioning a standalone 128T Conductor to an HA 128T Conductor."><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.128technology.com/docs/config_transition_standalone_to_ha"><link data-react-helmet="true" rel="alternate" href="https://docs.128technology.com/docs/config_transition_standalone_to_ha" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.128technology.com/docs/config_transition_standalone_to_ha" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.21b25f22.css">
<link rel="preload" href="/assets/js/runtime~main.9cb9dcab.js" as="script">
<link rel="preload" href="/assets/js/main.0b437b3a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Juniper Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo_dark.png" alt="Juniper Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Session Smart</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro_getting_started">Docs</a><a href="https://community.juniper.net/answers/communities/community-home?CommunityKey=310d1a41-12fa-4627-9a99-880145a7c87c" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Session Smart Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://www.juniper.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Company<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/about_128t">About</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_getting_started">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_system_reqs">Deployment Considerations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_installation">Installation Process</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_installation_image">Image-Based Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_installation_quickstart_aws">Cloud Installations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_upgrade_considerations">Upgrades and Rollback</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_installation_installer">Supporting Install Information - Appendix</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/concepts_application_discovery">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/intro_wa_quickstart_1_networks">WAN Assurance Quick Start</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/wan_overview">WAN Assurance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/docs/config_basics">Administration</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/config_basics">Configuration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/howto_tune_bfd">Optimizing Routing Protocols</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" tabindex="0" href="/docs/config_ha">High Availability</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_ha">Dual Node High Availability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_dual_router_ha">Dual Router High Availability using iBGP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_ha_vrrp">Dual Router High Availability and VRRP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_non_forwarding_ha_interfaces">Non-forwarding HA Interfaces</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/config_adding_interfaces_to_ha_team">Adding Interfaces to HA Team Interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/config_transition_standalone_to_ha">Transitioning a Conductor from Standalone to HA</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/config_access_mgmt">Access Management and Authentication</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/config_ntp_auth">NTP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/sec_adaptive_encrypt">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/concepts_ssr_idp">Intrusion Detection and Prevention</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/config_STEP">Service and Topology Exchange Protocol (STEP)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/how_to_use_app_summary">How To</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/ts_applications">Troubleshooting</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/events_overview">Events</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/bcp_att_avpn_configuration">Best Practices</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/cli_reference">CLI and Element Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/installer_cli_reference">Installer/Initializer Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/plugin_intro">Plugins</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/release_notes_128t_6.0">Release Notes</a></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="theme-doc-markdown markdown"><header><h1>Transitioning a Conductor from Standalone to HA</h1></header><p>This guide provides a procedure for transitioning a standalone 128T Conductor to an HA 128T Conductor.</p><p>This example starts with a standalone Conductor named <code>Conductor</code> and one node named <code>T104_DUT1</code>, along with a single managed Router named <code>Router</code>, which has two nodes <code>T104_DUT3</code> and <code>T104_DUT4</code>:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@T104_DUT1.Conductor# show assets</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Wed 2019-12-04 18:27:59 UTC</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">=========== =========== =========== ============== ========= ========</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Router      Node        Asset Id    128T Version   Status    Errors</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">=========== =========== =========== ============== ========= ========</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Conductor   T104_DUT1   T104_DUT1   4.2.0-2.el7    running        0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Router      T104_DUT3   T104_DUT3   4.2.0-2.el7    running        0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             T104_DUT4   T104_DUT4   4.2.0-2.el7    running        0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.14 seconds</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This is the starting basic configuration on the standalone Conductor node:</p><div class="codeBlockContainer_J+bg language-markup theme-code-block"><div class="codeBlockContent_csEI markup"><pre tabindex="0" class="prism-code language-markup codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@T104_DUT1.Conductor# configure authority router Conductor</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@T104_DUT1.Conductor (router[name=Conductor])# show</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">name  Conductor</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">node  T104_DUT1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name              T104_DUT1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    asset-id          T104_DUT1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    role              conductor</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The first step is to configure the second Conductor node. If you start with the same basic configuration for the second node then you will see warnings below when you attempt to validate. The first warning states that a non-forwarding interfaces between the Conductor nodes needs to be configured to establish connectivity. For more information regarding non-forwarding interfaces please refer to this blog: <a href="/docs/config_non_forwarding_ha_interfaces">Configuring Non Forwarding Interfaces</a>. The second warning states that 128T needs to be restarted after creating a new node.  This will be addressed later.</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@T104_DUT1.Conductor# configure authority router Conductor</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@T104_DUT1.Conductor (router[name=Conductor])# show</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">name  Conductor</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">node  T104_DUT1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name              T104_DUT1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    asset-id          T104_DUT1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    role              conductor</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">node  T104_DUT2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name              T104_DUT2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    asset-id          T104_DUT2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    role              conductor</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@T104_DUT1.Conductor# validate</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Validating...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Warnings:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1. Router &#x27;Conductor&#x27; is missing a non-forwarding fabric or shared interface on each node. The router may not have inter node</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">connectivity unless the interfaces were set up manually.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">reported by router &#x27;Conductor&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    config</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        authority</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            router Conductor</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">2. The field &#x27;name&#x27; cannot be created while the system is running. To apply the configuration, &#x27;T104_DUT1.Conductor&#x27; and</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;T104_DUT2.Conductor&#x27; must be restarted after committing this change.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">reported by router &#x27;Conductor&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    config</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        authority</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            router Conductor</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                node T104_DUT2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Candidate configuration is valid</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>While the conductor is not 128T router, it shares the same configuration model as the router and therefore is configured as a <code>router</code>.</p></div></div><p>Next, configure two non-forwarding interfaces so connectivity can be established between both Conductor nodes.  Once the configuration has been created, you should see that validation warning go away:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@T104_DUT1.Conductor# configure authority router Conductor</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@T104_DUT1.Conductor (router[name=Conductor])# show</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">name  Conductor</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">node  T104_DUT1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name              T104_DUT1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    asset-id          T104_DUT1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    device-interface  mgmt</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        name               mgmt</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        type               ethernet</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pci-address        0000:00:04.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        forwarding         false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        network-interface  ha-fabric</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            name     ha-fabric</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            type     fabric</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            address  172.16.1.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                ip-address     172.16.1.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                prefix-length  24</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                gateway        172.16.1.201</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">node  T104_DUT2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name              T104_DUT2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    asset-id          T104_DUT2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    role              conductor</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    device-interface  mgmt</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        name               mgmt</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        type               ethernet</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pci-address        0000:00:04.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        forwarding         false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        network-interface  ha-fabric</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            name     ha-fabric</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            type     fabric</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            address  172.16.1.2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                ip-address     172.16.1.2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                prefix-length  24</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                gateway        172.16.1.201</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@T104_DUT1.Conductor (router[name=Conductor])# validate</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Validating...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Warnings:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1. The field &#x27;name&#x27; cannot be created while the system is running. To apply the configuration, &#x27;T104_DUT1.Conductor&#x27; and</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;T104_DUT2.Conductor&#x27; must be restarted after committing this change.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">reported by router &#x27;Conductor&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    config</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        authority</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            router Conductor</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                node T104_DUT2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Candidate configuration is valid</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Commit the configuration, then stop 128T on the standalone Conductor node by dropping into the Linux shell and executing <code>systemctl stop 128T</code>. Wait for 128T to completely stop. The user can monitor the status of the service with <code>systemctl status 128T</code>.</p><p>Once 128T is fully stopped, the user needs to make changes to the salt minion configuration file. Since the Conductor was installed as a Standalone Conductor, the salt minion config is initialized with the loopback address. The user need to fix it manually to be the IP address of our management interface because when the second Conductor node is installed, it uses the IP address in these files to learn the management IP address of its peer node. Here is what the salt minion config look like before any modification:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@t104-dut1 ~]# cat /etc/salt/minion</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">auth_safemode: True</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">autoload_dynamic_modules: False</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">enable_legacy_startup_events: False</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">include: /usr/lib/128technology/python/salt/file_roots/_beacons/*.conf</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">log_level_logfile: debug</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">master:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  - 127.0.0.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">master_alive_interval: 30</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">master_tries: -1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ping_interval: 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">random_reauth_delay: 120</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">recon_default: 5000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">recon_max: 30000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">recon_randomize: True</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">tcp_authentication_retries: -1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">tcp_keepalive_cnt: 3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">tcp_keepalive_idle: 5</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">tcp_keepalive_intvl: 10</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">transport: tcp</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Now here is what it looks like after the management IP address has been properly updated:</p><div class="codeBlockContainer_J+bg language-markup theme-code-block"><div class="codeBlockContent_csEI markup"><pre tabindex="0" class="prism-code language-markup codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">auth_safemode: True</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">autoload_dynamic_modules: False</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">enable_legacy_startup_events: False</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">include: /usr/lib/128technology/python/salt/file_roots/_beacons/*.conf</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">log_level_logfile: debug</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">master:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  - 172.16.1.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">master_alive_interval: 30</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">master_tries: -1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ping_interval: 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">random_reauth_delay: 120</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">recon_default: 5000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">recon_max: 30000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">recon_randomize: True</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">tcp_authentication_retries: -1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">tcp_keepalive_cnt: 3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">tcp_keepalive_idle: 5</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">tcp_keepalive_intvl: 10</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">transport: tcp</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>At this point, the first Conductor node is still stopped and it is time to install the second Conductor node. The user will launch the interactive installer to install the second node. You need to double check that the node name entered in the interactive installer matches the node name in the configuration. Wait for the interactive installer to finish then pick yes when it prompts the user to reboot. While the second node is rebooting, this is a good time to double check the <em>global.init</em> file and salt minion configuration file on the first Conductor node have been modified and the second Conductor node has been added:</p><div class="admonition admonition-important alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</h5></div><div class="admonition-content"><p>When installing a new HA node (conductor or router), ensure that the same version is being installed on both nodes.</p></div></div><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@t104-dut1 ~]# cat /etc/128technology/global.init</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;init&quot; : {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;control&quot; : {},</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;conductor&quot; : {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;T104_DUT1&quot; : {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;host&quot; : &quot;172.16.1.1&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;T104_DUT2&quot; : {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;host&quot; : &quot;172.16.1.2&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;routerName&quot; : &quot;Conductor&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@t104-dut1 ~]# cat /etc/salt/minion</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">auth_safemode: True</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">autoload_dynamic_modules: False</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">enable_legacy_startup_events: False</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">include: /usr/lib/128technology/python/salt/file_roots/_beacons/*.conf</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">log_level_logfile: debug</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">master:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  - 172.16.1.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  - 172.16.1.2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">master_alive_interval: 30</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">master_tries: -1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ping_interval: 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">random_reauth_delay: 120</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">recon_default: 5000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">recon_max: 30000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">recon_randomize: True</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">tcp_authentication_retries: -1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">tcp_keepalive_cnt: 3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">tcp_keepalive_idle: 5</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">tcp_keepalive_intvl: 10</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">transport: tcp</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Now that the <em>global.init</em> and salt minion config look correct we can restart the salt-minion so it picks up the config changes and then start 128T. From the Linux shell first execute <code>systemctl restart salt-minion</code> then <code>systemctl start 128T</code>. Once they are up login and verify they both have connectivity to each other:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@T104_DUT1.Conductor# show system connectivity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Wed 2019-12-04 20:35:35 UTC</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">===================== ===================== ===========</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Local Node            Remote Node           State</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">===================== ===================== ===========</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> T104_DUT1.Conductor   T104_DUT2.Conductor   connected</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> T104_DUT1.Conductor   T104_DUT3.Router      connected</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> T104_DUT1.Conductor   T104_DUT4.Router      connected</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.11 seconds</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Note that the second Conductor node will not have connectivity to any managed routers yet, we will address that next:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@T104_DUT2.Conductor# show system connectivity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Wed 2019-12-04 20:44:18 UTC</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">===================== ===================== ==============</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Local Node            Remote Node           State</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">===================== ===================== ==============</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> T104_DUT2.Conductor   T104_DUT1.Conductor   connected</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> T104_DUT2.Conductor   T104_DUT3.Router      disconnected</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> T104_DUT2.Conductor   T104_DUT4.Router      disconnected</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.12 seconds</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>In order for this procedure to work correctly, the user should have the <code>conductor-address</code> field configured for their standalone Conductor, which is the public IP address of the Conductor:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@T104_DUT1.Conductor# configure authority</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@T104_DUT1.Conductor (authority)# conductor-address</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">192.168.1.8</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The next step is to configure the second Conductor node as well as a <code>conductor-address</code> for the second Conductor node. This example shows the second <code>conductor-address</code> being configured:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@T104_DUT1.Conductor (authority)# conductor-address 192.168.1.13</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@T104_DUT1.Conductor (authority)# conductor-address</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">192.168.1.8</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">192.168.1.13</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Adding the second conductor address will also produce a new validation warning, which is expected:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@T104_DUT1.Conductor (router[name=Conductor])# validate</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Validating...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Warnings:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1. Incorrectly modifying this field can result in permanent loss of connectivity to managed routers and will require manual intervention</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">to fix. Make sure the configured address is valid and reachable before committing this change</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">reported by router &#x27;Conductor&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    config</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        authority</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            conductor-address</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Candidate configuration is valid</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Commit this configuration and you see all managed assets disconnect and reconnect because the new Conductor IP address was added and the minion was restarted:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@T104_DUT1.Conductor# show assets</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Wed 2019-12-04 19:00:17 UTC</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">=========== =========== =========== ============== ============== ========</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Router      Node        Asset Id    128T Version   Status         Errors</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">=========== =========== =========== ============== ============== ========</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Conductor   T104_DUT1   T104_DUT1   4.2.0-2.el7    running             0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             T104_DUT2   T104_DUT2   4.2.0-2.el7    running             0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Router      T104_DUT3   T104_DUT3   None           connected           0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             T104_DUT4   T104_DUT4   None           connected           0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.14 seconds</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Wait until all assets transition back into the <code>running</code> state:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@T104_DUT1.Conductor# show assets</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Wed 2019-12-04 19:01:59 UTC</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">=========== =========== =========== ============== ============== ========</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Router      Node        Asset Id    128T Version   Status         Errors</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">=========== =========== =========== ============== ============== ========</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Conductor   T104_DUT1   T104_DUT1   4.2.0-2.el7    running             0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             T104_DUT2   T104_DUT2   4.2.0-2.el7    running             0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Router      T104_DUT3   T104_DUT3   4.2.0-2.el7    running             0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             T104_DUT4   T104_DUT4   4.2.0-2.el7    running             0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.16 seconds</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>There is no need to restart 128T on any managed routers all of them will properly recognize the new Conductor!</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">admin@T104_DUT3.Router# show system connectivity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Sun 2019-12-08 14:26:10 UTC</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">============ ===================== ===========</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Local Node   Remote Node           State</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">============ ===================== ===========</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> T104_DUT3    T104_DUT1.Conductor   connected</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> T104_DUT3    T104_DUT2.Conductor   connected</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> T104_DUT3    T104_DUT4.Router      connected</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Completed in 0.04 seconds</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_mt2f"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-09-13T01:14:30.000Z">9/13/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/config_adding_interfaces_to_ha_team"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Adding Interfaces to HA Team Interface</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/config_access_mgmt"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Access Management</div></a></div></nav></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Juniper Networks, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.9cb9dcab.js"></script>
<script src="/assets/js/main.0b437b3a.js"></script>
</body>
</html>